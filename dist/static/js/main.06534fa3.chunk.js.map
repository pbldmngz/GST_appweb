{"version":3,"sources":["config/language.js","config/config.js","components/layout/Navbar.js","store/actions/authActions.js","store/actions/auditoriaActions.js","components/auditorias/TarjetaAuditoria.js","components/auditorias/TarjetaAgregarAuditoria.js","components/auditorias/Auditorias.js","components/util/Volver.js","components/auditorias/DashboardAuditorias.js","components/auth/SignIn.js","styles/imgs/Logo-GST.png","components/auth/SignUp.js","components/util/DatepickerInput.js","components/auditorias/CrearAuditoria.js","components/preguntas/TarjetaPregunta.js","components/preguntas/TarjetaAgregarPregunta.js","components/preguntas/Preguntas.js","store/actions/preguntaActions.js","components/preguntas/DashboardPreguntas.js","components/preguntas/CrearPregunta.js","components/util/gr√°ficas/PieChart.js","components/preguntas/DetallesPregunta.js","components/auditorias/DetallesAuditoria.js","components/auditorias/ResponderAuditoria.js","components/preguntas/DetallesPreguntasAuditoria.js","components/preguntas/EditarPregunta.js","components/auth/ChangePassword.js","components/util/CambiarIdioma.js","store/actions/idiomaActions.js","components/util/Profile.js","components/areas&procesos/Area.js","store/actions/areaActions.js","components/areas&procesos/Proceso.js","store/actions/procesoActions.js","components/areas&procesos/DashboardProcesos.js","components/areas&procesos/DashboardAreas.js","components/herramientas/SelectorHerramientas.js","App.js","reportWebVitals.js","store/reducers/authReducer.js","store/reducers/areaReducer.js","store/reducers/procesoReducer.js","store/reducers/auditoriaReducer.js","store/reducers/rootReducer.js","config/fbConfig.js","index.js"],"names":["bText","spanish","locale","return","cargando","aceptar","guardar","cancelar","swal","title","cancel","save","saved","not_saved","area_proceso","crear","editar","area","Area","proceso","Proceso","urgencia","proceso_corresponde","crear_area","crear_proceso","regular","media","prioridad","alta_prioridad","auditorias","nada","crearAuditoria","crear_auditoria","editar_auditoria","nombre_auditoria","auditor","termina_el","inicia_el","agregar","seleccionar_pregunta","text1","text2","text3","dashboardAuditorias","ordenar_fecha","agrupar_areas","mostrar_realizados","fecha_inicio","fecha_expiracion","fecha_creacion","vista","detallesAuditoria","descripcion","plan_reaccion","creada_por","fecha_finalizacion","preguntas","responderAuditoria","responder_auditoria","justificacion","si","no","enviar","scan_qr","tarjetaAuditoria","fecha_limite","password","assignedBy","auth","changePassword","cambiar_contrasena","contrasena_actual","contrasena_nueva","repite_contrasena","signIn","correo","contrasena","iniciar_sesion","signUp","registrar","nombre","apellido","capa","registrar_auditor","layout","navbar","signedInLinks","signedOutLinks","crearPregunta","crear_pregunta","pregunta","categoria","editar_pregunta","fix","contramedidas_temporales","parar_produccion","dashboardPreguntas","creacion_preguntas","detallesPregunta","creado_por","creado","ver_respuestas","detallesPreguntaIndividual","detallesPreguntasAuditoria","respuestas_auditoria","preguntaGrafica","tarjetaPregunta","opciones","idioma","procesos","areas","english","directions","profile","sign_in","sign_up","auditoria","editar_auditoria_redirect","responder_auditoria_redirect","auditorias_area","preguntas_detalles","preguntas_detalles_redirect","detalles_preguntas_auditoria","detalles_preguntas_auditoria_redirect","detalles_pregunta_auditoria","detalles_pregunta_auditoria_redirect","editar_pregunta_redirect","change_password","mainproceso","connect","state","firebase","dispatch","signOut","getState","getFirebase","then","type","props","path","uid","className","to","icon","faCog","onClick","history","push","faSignOutAlt","createAuditoria","firestore","getFirestore","authorId","collection","add","createdBy","firstName","lastName","createdAt","Date","catch","err","editAuditoria","id","doc","update","updatedAt","updatedBy","editorId","asyncCall","a","docRef","get","exists","data","console","log","asyncWhereCall","param","value","where","snap","res","empty","forEach","getAuditoria","Transition","React","forwardRef","ref","Slide","direction","TarjetaAuditoria","open","handleClickOpen","setState","handleClose","prototype","addDays","days","date","this","valueOf","setDate","getDate","userLevel","alreadyDone","lang","users","color","text","findUser","map","u","find","e","findArea","findProceso","style","backgroundColor","graphOrWarn","faChartBar","botones","faQrcode","faEdit","Swal","fire","showDenyButton","showConfirmButton","denyButtonText","confirmButtonText","result","isConfirmed","deleteAuditoria","isDenied","faTrashAlt","moment","fecha_fin","toDate","fromNow","content","length","substr","join","dialog","Dialog","TransitionComponent","onClose","aria-labelledby","aria-describedby","DialogContent","DialogActions","Button","Component","compose","ordered","delete","firestoreConnect","TarjetaAgregarAuditoria","hasTrace","whereToGo","size","faPlus","Auditorias","pertinent","filter","includes","Volver","move","withRouter","DashboardAuditorias","handleChangeSelect","target","getKeyByValue","object","Object","keys","key","respuestas","rightNow","whatAuditorias","match","params","orderedAudit","filter_value","filteredAuditorias","sort","b","x","toString","y","reverse","filtRespuestas","answeredById","filtID","fA","aud","menuItems","Select","labelId","onChange","MenuItem","InputLabel","orderBy","SignIn","email","handleChange","handleSubmit","preventDefault","listenEnter","event","keyCode","authError","src","alt","onSubmit","htmlFor","onKeyDown","placeholder","creds","credentials","signInWithEmailAndPassword","SignUp","level","Seguro","showCancelButton","autoComplete","autoCorrect","spellCheck","width","newUser","createUserWithEmailAndPassword","resp","user","set","initials","DatepickerInput","readOnly","CrearAuditoria","openB","valueB","handleChangeAutocomplete","newValue","toSend","p","require","generate","numbers","uppercase","lowercase","handleCancel","handleDelete","newPreguntas","handleCloseSave","prevState","Set","handleChangeSelectProceso","handleChangeSelectArea","handleChangeSelectAuditor","newAuditor","name","sortByKey","array","cantSend","pre","fil","filtUsers","temp1","auditorCount","ar","layerName","displayEmpty","disableUnderline","disabled","layer","selected","withPortal","customInput","TarjetaPregunta","deletePregunta","react_plan","0","1","2","useState","setOpen","description","maxQuestionLength","reaction_plan","DialogTitle","DialogContentText","3","4","category","TarjetaAgregarPregunta","Preguntas","editPregunta","sortedPreguntas","DashboardPreguntas","CrearPregunta","createPregunta","handleChangeSelectRP","PieChart","radius","innerText","colors","innerRadius","format","v","Math","round","total","height","bar","arcLabelsTextColor","padAngle","cornerRadius","activeOuterRadiusOffset","margin","top","right","bottom","left","layers","centerX","centerY","textAnchor","dominantBaseline","fontSize","fontWeight","enableArcLabels","arcLabel","d","enableArcLinkLabels","count","yes","respuesta","actualText","label","justificaciones","reaction","ownProps","ResponderAuditoria","validKN","header_base","substring","results","ks","dict","k","header","cont","respuestaPregunta","delay","pass","_mounted","handleScan","bind","preguntasAuditoria","r","error","proceed","onError","handleError","onScan","facingMode","FormLabel","component","RadioGroup","row","aria-label","FormControlLabel","control","Radio","TextField","Promise","all","values","respArray","re","answeredBy","answeredAt","DetallesPreguntasAuditoria","preguntasAuditoriaVoting","EditarPregunta","getPregunta","ChangePassword","reauthenticate","currentPassword","currentUser","cred","EmailAuthProvider","credential","reauthenticateWithCredential","newPassword","updatePassword","changeEmail","newEmail","updateEmail","newPasswordConfirm","code","message","CambiarIdioma","editIdioma","marginLeft","Profile","editArea","createArea","handleChangeSelectUrgencia","getArea","authorFirstName","authorLastName","minCategory","max","editProceso","createProceso","getProceso","index","rel","Autocomplete","options","getOptionLabel","option","renderInput","variant","agregar_pregunta","DashboardProcesos","pro","toUpperCase","deleteProceso","DashboardAreas","preguntaChart","procesoFilt","avalAreas","createWProps","deleteArea","grafica_global","SelectorHerramientas","App","exact","DetallesAuditoria","DetallesPregunta","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","authReducer","action","areaReducer","procesoReducer","auditoriaReducer","rootReducer","combineReducers","firestoreReducer","firebaseReducer","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","settings","timestampsInSnapshots","store","createStore","applyMiddleware","thunk","withExtraArgument","reduxFirestore","fbConfig","reactReduxFirebase","useFirestoreForProfile","userProfile","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.06534fa3.chunk.js","sourcesContent":["export const bText = {\r\n    spanish: {\r\n        locale: \"es\",\r\n        return: \"Volver\",\r\n        cargando: \"Cargando...\",\r\n        aceptar: \"Aceptar\",\r\n        guardar: \"Guardar\",\r\n        cancelar: \"Cancelar\",\r\n        swal: {\r\n            title: \"¬øGuardar cambios?\",\r\n            cancel: \"Descartar\",\r\n            save: \"Guardar\",\r\n            saved: \"Guardado!\",\r\n            not_saved: \"Los cambios no se guardaron\",\r\n        },\r\n        area_proceso: {\r\n            crear: \"Crear\",\r\n            editar: \"Editar\",\r\n            area: \"√°rea\",\r\n            Area: \"√Årea\",\r\n            proceso: \"proceso\",\r\n            Proceso: \"Proceso\",\r\n            urgencia: \"Prioridad\",\r\n            proceso_corresponde: \"Proceso al que corresponde\",\r\n            crear_area: \"Crear nueva √°rea\",\r\n            crear_proceso: \"Crear nuevo proceso\",\r\n            regular: \"Prioridad normal\",\r\n            media: \"Prioridad media\",\r\n            prioridad: \"Prioritario\",\r\n            alta_prioridad: \"Alta prioridad\",\r\n            crear_area: \"Guardar\",\r\n            crear_proceso: \"Guardar\",\r\n            agregar_pregunta: \"Agregar pregunta\",\r\n            procesos: \"Procesos\",\r\n            areas: \"√Åreas\",\r\n            grafica_global: \"Gr√°fica global\",\r\n        },\r\n        auditorias: {\r\n            auditorias: {\r\n                nada: \"Parece que todo ha estado calmado √∫ltimamente\",\r\n            },\r\n            crearAuditoria: {\r\n                crear_auditoria: \"Asignar auditoria\",\r\n                editar_auditoria: \"Editar auditoria\",\r\n                nombre_auditoria: \"Nombre de la auditoria\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Proceso\",\r\n                area: \"√Årea\",\r\n                termina_el: \"Fin:\",\r\n                inicia_el: \"Inicio:\",\r\n                agregar: \"Agregar\",\r\n                cancelar: \"Cancelar\",\r\n                seleccionar_pregunta: \"Seleccionar pregunta\",\r\n                text1: \"Busca y selecciona las preguntas que desees a√±adir o \",\r\n                text2: \" crea una pregunta nueva, \",\r\n                text3: \"una vez creada la podr√°s seleccionar en esta lista.\",\r\n                crear: \"Asignar\",\r\n                editar: \"Guardar\",\r\n            },\r\n            dashboardAuditorias: {\r\n                ordenar_fecha: \"Ordenar por fecha\",\r\n                agrupar_areas: \"Ir a la vista de procesos\",\r\n                mostrar_realizados: \"Mostrar realizados\",\r\n                fecha_inicio: \"Fecha de inicio\",\r\n                fecha_expiracion: \"Fecha de expiraci√≥n\",\r\n                fecha_creacion: \"Fecha de creaci√≥n\",\r\n                area: \"√Årea\",\r\n                proceso: \"Proceso\",\r\n                auditor: \"Auditor\",\r\n                vista: \"Vista\",\r\n                auditorias: \"Auditorias\",\r\n            },\r\n            detallesAuditoria: {\r\n                auditor: \"Auditor\",\r\n                descripcion: \"Descripci√≥n\",\r\n                plan_reaccion: \"Plan de reacci√≥n\",\r\n                creada_por: \"Creada por\",\r\n                fecha_inicio: \"Fecha de inicio\",\r\n                fecha_finalizacion: \"Fecha de finalizaci√≥n\",\r\n                preguntas: \"Preguntas (esto es un array, ya veremos como se arregla esto)\",\r\n            },\r\n            responderAuditoria: {\r\n                responder_auditoria: \"Responder auditoria\",\r\n                justificacion: \"Justificaci√≥n\",\r\n                si: \"S√≠\",\r\n                no: \"No\",\r\n                enviar: \"Enviar\",\r\n                scan_qr: \"Escanea el c√≥digo QR\"\r\n            },\r\n            tarjetaAuditoria: {\r\n                fecha_limite: \"Fecha l√≠mite\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Proceso\",\r\n                password: \"Contrase√±a\",\r\n                assignedBy: \"Asignada por\",\r\n            },\r\n        },\r\n        auth: {\r\n            changePassword: {\r\n                cambiar_contrasena: \"Cambiar contrase√±a\",\r\n                contrasena_actual: \"Contrase√±a actual\",\r\n                contrasena_nueva: \"Contrase√±a nueva\",\r\n                repite_contrasena: \"Repite la contrase√±a nueva\",\r\n                aceptar: \"Aceptar\",\r\n                cancelar: \"Cancelar\",\r\n            },\r\n            signIn: {\r\n                correo: \"Correo\",\r\n                contrasena: \"Contrase√±a\",\r\n                iniciar_sesion: \"Iniciar sesi√≥n\",\r\n            },\r\n            signUp: {\r\n                registrar: \"Registrar\",\r\n                correo: \"Correo\",\r\n                contrasena: \"Contrase√±a\",\r\n                nombre: \"Nombre\",\r\n                apellido: \"Apellidos\",\r\n                capa: \"Capa\",\r\n                registrar_auditor: \"Registrar auditor\",\r\n            },\r\n        },\r\n        layout: {\r\n            navbar: {\r\n\r\n            },\r\n            signedInLinks: {\r\n\r\n            },\r\n            signedOutLinks: {\r\n\r\n            },\r\n        },\r\n        preguntas: {\r\n            crearPregunta: {\r\n                crear_pregunta: \"Crear pregunta\",\r\n                pregunta: \"Pregunta\",\r\n                descripcion: \"Descripci√≥n\",\r\n                plan_reaccion: \"Plan de reacci√≥n\",\r\n                categoria: \"Capa\",\r\n                crear: \"Crear\",\r\n                editar: \"Guardar\",\r\n                editar_pregunta: \"Editar pregunta\",\r\n                fix: \"Arreglar inmediatamente\",\r\n                contramedidas_temporales: \"Tomar contramedidas temporales\",\r\n                parar_produccion: \"Parar la producci√≥n\",\r\n            },\r\n            dashboardPreguntas: {\r\n                creacion_preguntas: \"Creaci√≥n de preguntas\",\r\n            },\r\n            detallesPregunta: {\r\n                descripcion: \"Descripci√≥n\",\r\n                categoria: \"Capa\",\r\n                plan_reaccion: \"Plan de reacci√≥n\",\r\n                creado_por: \"Creado por\",\r\n                creado: \"Creado\",\r\n                ver_respuestas: \"Respuestas\",\r\n            },\r\n            detallesPreguntaIndividual: {\r\n\r\n            },\r\n            detallesPreguntasAuditoria: {\r\n                respuestas_auditoria: \"Respuestas de la auditor√≠a\",\r\n\r\n            },\r\n            preguntaGrafica: {\r\n\r\n            },\r\n            preguntas: {\r\n\r\n            },\r\n            tarjetaPregunta: {\r\n\r\n            }\r\n        },\r\n        opciones: {\r\n            opciones: \"Opciones\",\r\n            idioma: \"Idioma\",\r\n            cambiar_contrasena: \"Cambiar contrase√±a\",\r\n            registrar_auditor: \"Registrar nuevo auditor\",\r\n            preguntas: \"Preguntas\",\r\n            procesos: \"Procesos\",\r\n            areas: \"√Åreas\",\r\n        }\r\n    },\r\n    english: {\r\n        locale: \"en\",\r\n        return: \"Return\",\r\n        cargando: \"Loading...\",\r\n        aceptar: \"Accept\",\r\n        guardar: \"Save\",\r\n        cancelar: \"Cancel\",\r\n        swal: {\r\n            title: \"Do you want to save the changes?\",\r\n            cancel: \"Don't save\",\r\n            save: \"Save\",\r\n            saved: \"Saved!\",\r\n            not_saved: \"Changes are not saved\",\r\n        },\r\n        area_proceso: {\r\n            crear: \"Create\",\r\n            editar: \"Edit\",\r\n            area: \"area\",\r\n            Area: \"Area\",\r\n            procesos: \"Processes\",\r\n            areas: \"Areas\",\r\n            proceso: \"process\",\r\n            Proceso: \"Process\",\r\n            urgencia: \"Priority\",\r\n            proceso_corresponde: \"Process where it belongs\",\r\n            crear_area: \"Create new area\",\r\n            crear_proceso: \"Create new process\",\r\n            regular: \"Regular priority\",\r\n            media: \"Medium priority\",\r\n            prioridad: \"Priority\",\r\n            alta_prioridad: \"High priority\",\r\n            crear_area: \"Save\",\r\n            crear_proceso: \"Save\",\r\n            agregar_pregunta: \"Add question\",\r\n            grafica_global: \"Global chart\",\r\n        },\r\n        auditorias: {\r\n            auditorias: {\r\n                nada: \"It seems that everything has been calm lately\",\r\n            },\r\n            crearAuditoria: {\r\n                crear_auditoria: \"Assign audit\",\r\n                editar_auditoria: \"Edit\",\r\n                nombre_auditoria: \"Audit name\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Process\",\r\n                area: \"Area\",\r\n                termina_el: \"Due\",\r\n                inicia_el: \"Start\",\r\n                agregar: \"Add\",\r\n                cancelar: \"Cancel\",\r\n                seleccionar_pregunta: \"Select question\",\r\n                text1: \"Search and select the question you wish to add, or \",\r\n                text2: \" create a new question, \",\r\n                text3: \"once created, you will find it within this list.\",\r\n                crear: \"Assign\",\r\n                editar: \"Save\",\r\n            },\r\n            dashboardAuditorias: {\r\n                ordenar_fecha: \"Order by date\",\r\n                agrupar_areas: \"Go to the Process view\",\r\n                mostrar_realizados: \"Show already done\",\r\n                fecha_inicio: \"Start date\",\r\n                fecha_expiracion: \"Due date\",\r\n                fecha_creacion: \"Creation date\",\r\n                area: \"Area\",\r\n                proceso: \"Process\",\r\n                auditor: \"Auditor\",\r\n                vista: \"View\",\r\n                auditorias: \"Audits\",\r\n            },\r\n            detallesAuditoria: {\r\n                auditor: \"Auditor\",\r\n                descripcion: \"Description\",\r\n                plan_reaccion: \"Reaction plan\",\r\n                creada_por: \"Created by\",\r\n                fecha_inicio: \"Start date\",\r\n                fecha_finalizacion: \"Due date\",\r\n                preguntas: \"Questions (Tengo que poner los nombres de las preguntas)\",\r\n            },\r\n            responderAuditoria: {\r\n                responder_auditoria: \"Answer audit\",\r\n                justificacion: \"Justification\",\r\n                si: \"Yes\",\r\n                no: \"No\",\r\n                enviar: \"Submit\",\r\n                scan_qr: \"Scan the QR Code\",\r\n            },\r\n            tarjetaAuditoria: {\r\n                fecha_limite: \"Due date\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Process\",\r\n                password: \"Password\",\r\n                assignedBy: \"Assigned by\",\r\n            },\r\n        },\r\n        auth: {\r\n            changePassword: {\r\n                cambiar_contrasena: \"Change password\",\r\n                contrasena_actual: \"Current password\",\r\n                contrasena_nueva: \"New password\",\r\n                repite_contrasena: \"Repeat new password\",\r\n                aceptar: \"Accept\",\r\n                cancelar: \"Cancel\",\r\n            },\r\n            signIn: {\r\n                correo: \"E-mail\",\r\n                contrasena: \"Password\",\r\n                iniciar_sesion: \"Log In\",\r\n            },\r\n            signUp: {\r\n                registrar_auditor: \"Register auditor\",\r\n                correo: \"E-mail\",\r\n                contrasena: \"Password\",\r\n                nombre: \"First name\",\r\n                apellido: \"Last name\",\r\n                capa: \"Layer\",\r\n                registrar: \"Register\",\r\n            },\r\n        },\r\n        layout: {\r\n            navbar: {\r\n\r\n            },\r\n            signedInLinks: {\r\n\r\n            },\r\n            signedOutLinks: {\r\n\r\n            },\r\n        },\r\n        preguntas: {\r\n            crearPregunta: {\r\n                crear_pregunta: \"Create question\",\r\n                editar_pregunta: \"Edit question\",\r\n                pregunta: \"Question\",\r\n                descripcion: \"Description\",\r\n                plan_reaccion: \"Reaction plan\",\r\n                categoria: \"Layer\",\r\n                crear: \"Create\",\r\n                editar: \"Save\",\r\n                fix: \"Fix immediately\",\r\n                contramedidas_temporales: \"Temporary countermeasures\",\r\n                parar_produccion: \"Stop production\",\r\n            },\r\n            dashboardPreguntas: {\r\n                creacion_preguntas: \"Question creator\",\r\n            },\r\n            detallesPregunta: {\r\n                descripcion: \"Description\",\r\n                categoria: \"Layer\",\r\n                plan_reaccion: \"Reaction plan\",\r\n                creado_por: \"Created by\",\r\n                creado: \"Created\",\r\n                ver_respuestas: \"Answers\",\r\n            },\r\n            detallesPreguntaIndividual: {\r\n\r\n            },\r\n            detallesPreguntasAuditoria: {\r\n                respuestas_auditoria: \"Audit answers\",\r\n\r\n            },\r\n            preguntaGrafica: {\r\n\r\n            },\r\n            preguntas: {\r\n\r\n            },\r\n            tarjetaPregunta: {\r\n\r\n            }\r\n        },\r\n        opciones: {\r\n            opciones: \"Settings\",\r\n            idioma: \"Language\",\r\n            cambiar_contrasena: \"Change password\",\r\n            registrar_auditor: \"Register new auditor\",\r\n            preguntas: \"Questions\",\r\n            procesos: \"Processes\",\r\n            areas: \"Areas\",\r\n        }\r\n    }\r\n}","export const directions = {\r\n    path: {\r\n        profile: \"/profile\",\r\n        sign_in: \"/signin\",\r\n        sign_up: \"/signup\",\r\n        crear_auditoria: \"/crear-auditoria\",\r\n        areas: \"/areas\",\r\n        auditoria: \"/auditoria/:id\",\r\n        auditorias: \"/\",\r\n        editar_auditoria: \"/editar-auditoria\",\r\n        editar_auditoria_redirect: \"/editar-auditoria/:id\",\r\n        responder_auditoria: \"/responder-auditoria\",\r\n        responder_auditoria_redirect: \"/responder-auditoria/:id\",\r\n        auditorias_area: \"/area/:id\",\r\n        preguntas: \"/preguntas\",\r\n        preguntas_detalles: \"/detalles-pregunta\",\r\n        preguntas_detalles_redirect: \"/detalles-pregunta/:id\",\r\n        crear_pregunta: \"/crear-pregunta\",\r\n        detalles_preguntas_auditoria: \"/detalles-preguntas-auditoria\",\r\n        detalles_preguntas_auditoria_redirect: \"/detalles-preguntas-auditoria/:id\",\r\n        detalles_pregunta_auditoria: \"/detalles-pregunta-auditoria\",\r\n        detalles_pregunta_auditoria_redirect: \"/detalles-pregunta-auditoria/:id\",\r\n        editar_pregunta: \"/editar-pregunta\",\r\n        editar_pregunta_redirect: \"/editar-pregunta/:id\",\r\n        change_password: \"/change_password\",\r\n        mainproceso: \"/mainproceso\",\r\n        // pregunta_reponder: \"/responder-pregunta\",\r\n        // pregunta_reponder_redirect: \"/responder-pregunta/:id\"\r\n    },\r\n    pathName: {\r\n        profile: \"Profile\",\r\n        sign_in: \"Login\",\r\n        sign_up: \"SignUp\",\r\n        crear_auditoria: \"Crear auditor√≠a\",\r\n        areas: \"Areas\",\r\n        auditorias: \"Auditorias\",\r\n        auditoria: \"Auditoria\",\r\n        responder_auditoria: \"Responder auditoria\",\r\n        preguntas: \"Preguntas\",\r\n        crear_pregunta: \"Crear pregunta\",\r\n        pregunta_detalles: \"Detalles de pregunta\",\r\n        pregunta_responder: \"Responder pregunta\",\r\n        detalles_preguntas_auditoria: \"Detalles de las preguntas de la auditor√≠a\",\r\n        change_password: \"Cambiar contrase√±a\",\r\n        editarauditoria: \"Editar Auditoria\",\r\n        mainproceso: \"Proceso principal\",\r\n    },\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport {signOut} from '../../store/actions/authActions'\r\n\r\nimport { faSignOutAlt, faCog } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {directions} from \"../../config/config\"\r\n\r\n\r\n//<div className=\"\"> ==> <div className=\"container\"> to center\r\nconst Navbar = (props) => {\r\n    var { path } = directions\r\n    const {auth} = props\r\n\r\n    return (\r\n        auth.uid ? (\r\n            <div className=\"padre-titulo nav\">\r\n            {/* <ul> */}\r\n                <div className=\"titulo\">\r\n                    <div className=\"perfil\">\r\n                        <Link to={path.profile} className=\"center-box\">\r\n                            <FontAwesomeIcon icon={faCog} />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"titulo\">\r\n                    <div className=\"\">\r\n                        <NavLink to={path.auditorias} className=\"\">\r\n                            <b>Global Safety Textiles</b>\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"titulo\">\r\n                    <div className=\"imout hover-cursor\" onClick={() => {\r\n                        props.signOut();\r\n                        props.history.push(\"/signin\")\r\n                    }}>\r\n                        <FontAwesomeIcon icon={faSignOutAlt} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ) : null\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        profile: state.firebase.profile\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signOut: () => dispatch(signOut())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);","export const signIn = (credentials) => {\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n\r\n        firebase.auth().signInWithEmailAndPassword(\r\n            credentials.email,\r\n            credentials.password\r\n        ).then(() => {\r\n            dispatch({ type: 'LOGIN_SUCCESS' });\r\n        }).catch((err) => {\r\n            dispatch({ type: 'LOGIN_ERROR', err });\r\n        });\r\n\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n\r\n        firebase.auth().signOut().then(() => {\r\n            dispatch({ type: 'SIGNOUT_SUCCESS' })\r\n        });\r\n    }\r\n}\r\n\r\nexport const signUp = (newUser) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n        const firestore = getFirestore();\r\n\r\n        firebase.auth().createUserWithEmailAndPassword(\r\n            newUser.email,\r\n            newUser.password\r\n        ).then(resp => {\r\n            return firestore.collection('users').doc(resp.user.uid).set({\r\n                firstName: newUser.firstName,\r\n                lastName: newUser.lastName,\r\n                initials: newUser.firstName[0] + newUser.lastName[0],\r\n                userLevel: newUser.level,\r\n                lang: newUser.lang,\r\n                // Se pretende que haya Admin, A, B, C, D, E (o los necesarios)\r\n                // Pero por facilidades t√©cnicas, esto se har√° num√©ricamente\r\n                // Cuando ya se est√© trabajando en esto puedes descomentar la userLevel\r\n                // Para inclu√≠r el ID del usuario en las preguntas resueltas creo que puedes \r\n                // Sacarlo de .auth, no necesariamente de profile, aunque ser√≠a pr√°ctico poder sacarlo de\r\n                // Profile para usarlo en todos lados\r\n\r\n            });\r\n        }).then(() => {\r\n            dispatch({ type: 'SIGNUP_SUCCESS' });\r\n        }).catch((err) => {\r\n            dispatch({ type: 'SIGNUP_ERROR', err });\r\n        });\r\n    }\r\n}\r\n\r\n\r\n// export const signUp = (newUser) => {\r\n//     return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n//         const firebase = getFirebase();\r\n//         const firestore = getFirestore();\r\n\r\n//         firebase.auth().createUserWithEmailAndPassword(\r\n//             newUser.email,\r\n//             newUser.password\r\n//         ).then(resp => {\r\n//             return firestore.collection('users').doc(resp.user.uid).set({\r\n//                 firstName: newUser.firstName,\r\n//                 lastName: newUser.lastName,\r\n//                 initials: newUser.firstName[0] + newUser.lastName[0],\r\n//                 userLevel: newUser.level,\r\n//                 lang: newUser.lang,\r\n//                 // Se pretende que haya Admin, A, B, C, D, E (o los necesarios)\r\n//                 // Pero por facilidades t√©cnicas, esto se har√° num√©ricamente\r\n//                 // Cuando ya se est√© trabajando en esto puedes descomentar la userLevel\r\n//                 // Para inclu√≠r el ID del usuario en las preguntas resueltas creo que puedes \r\n//                 // Sacarlo de .auth, no necesariamente de profile, aunque ser√≠a pr√°ctico poder sacarlo de\r\n//                 // Profile para usarlo en todos lados\r\n\r\n//             });\r\n//         }).then(() => {\r\n//             dispatch({ type: 'SIGNUP_SUCCESS' });\r\n//         }).catch((err) => {\r\n//             dispatch({ type: 'SIGNUP_ERROR', err });\r\n//         });\r\n//     }\r\n// }","export const createAuditoria = (auditoria) => {\r\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        \r\n        firestore.collection(\"auditorias\").add({\r\n            ...auditoria,\r\n            createdBy: profile.firstName + \" \" + profile.lastName,\r\n            createdAt: new Date(),\r\n            authorId,\r\n            //FechaInicio y FechaFin\r\n            //Tratar√© de hacerlo con un componente\r\n            //de calendario\r\n        }).then(() => {\r\n            dispatch({ type: \"CREATE_AUDITORIA\" }, auditoria)\r\n        }).catch((err) => {\r\n            dispatch({type: \"CREATE_AUDITORIA_ERROR\"}, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const editAuditoria = (id, auditoria) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        // console.log(\"This is what I get: \", id, auditoria)\r\n\r\n        firestore.collection(\"auditorias\").doc(id).update({\r\n            ...auditoria,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_AUDITORIA\" }, auditoria)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"EDIT_AUDITORIA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const deleteAuditoria = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        firestore.collection(\"auditorias\").doc(id).delete()\r\n    }\r\n}\r\n\r\nconst asyncCall = async (dispatch, getFirestore, collection, id) => {\r\n    const firestore = getFirestore();\r\n\r\n    //console.log(\"this is auditoria here: \", auditoria)\r\n    var docRef = firestore.collection(collection).doc(id);\r\n\r\n    return docRef.get()//FIND() //.add()\r\n        .then((doc) => {\r\n            if (doc.exists) {\r\n                //console.log(\"this: \", doc.data())\r\n                return {...doc.data(), id}\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n}\r\n\r\n\r\nexport const preguntasAuditoria = (auditoria) => {\r\n    return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, preguntas)\r\n        let x = await asyncCall(dispatch, getFirestore, \"auditorias\", auditoria.id);\r\n\r\n        const result = await Promise.all(x.preguntas.map(async (id) => {\r\n            return await asyncCall(dispatch, getFirestore, \"preguntas\", id)\r\n        })).then((values) => {\r\n            // console.log(\"Values: \", values)\r\n            // if (values.exist) {\r\n                return values\r\n            // }\r\n            // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, values)\r\n            \r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n\r\n        console.log(\"this is X before\", result)\r\n        dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, result)\r\n        return result\r\n    }\r\n}\r\n\r\nconst asyncWhereCall = async (dispatch, getFirestore, collection, param, value) => {\r\n    const firestore = getFirestore();\r\n    // console.log(\"asyncWhereCall: \", collection, param, value)\r\n    //console.log(\"this is auditoria here: \", auditoria)\r\n    const docRef = firestore.collection(collection).where(param, \"==\", value);\r\n\r\n    const snap = await docRef.get()\r\n    var res = []\r\n    if (snap.empty) {\r\n        console.log('No matching documents.');\r\n        // return;\r\n    } else {\r\n        snap.forEach(doc => {\r\n            res.push(doc.data())\r\n            // console.log(\"ElseWhere\", doc.id, '=>', doc.data());\r\n        });\r\n    }\r\n\r\n    return res\r\n}\r\n\r\nexport const preguntasAuditoriaVoting = (auditoria) => {\r\n    return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, preguntas)\r\n        let x = await asyncCall(dispatch, getFirestore, \"auditorias\", auditoria.id);\r\n\r\n        const result = await Promise.all(x.preguntas.map(async (id) => {\r\n            var pregunta = await asyncCall(dispatch, getFirestore, \"preguntas\", id);\r\n            // console.log(auditoria.id, typeof auditoria.id, id, typeof id)\r\n            var respuestas = await asyncWhereCall(dispatch, getFirestore, \"respuestas\", \"auditoria_pregunta\", auditoria.id + \"_\" + id)\r\n            return {...pregunta, respuestas}\r\n        })).then((values) => {\r\n            // console.log(\"Values: \", values)\r\n            // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, values)\r\n            return values\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n\r\n        // console.log(\"this is X in the new fuction\", result)\r\n        dispatch({ type: 'SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA' }, result)\r\n        return result\r\n    }\r\n}\r\n\r\nexport const getAuditoria = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"auditorias\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}\r\n\r\n// //Se recibe el ID\r\n// export const failedVersion = (auditoria) => {\r\n//     return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n//         // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, preguntas)\r\n//         let x = await preguntasAuditoria(auditoria);\r\n\r\n//         console.log(\"this is X\", x)\r\n\r\n//         const result = await Promise.all(x.map(async (pregunta) => {\r\n//             var exData = await asyncWhereCall(dispatch, getFirestore, \"respuestas\", \"auditoria_pregunta\", auditoria + \"_\" + pregunta.id)\r\n\r\n//             return {...pregunta, voting: exData}\r\n//         })).then((values) => {\r\n//             // console.log(\"Values: \", values)\r\n//             // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, values)\r\n//             return values\r\n//         }).catch((err) => {\r\n//             console.log(err)\r\n//         });\r\n\r\n//         //console.log(result)\r\n//         dispatch({ type: 'SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA' }, result)\r\n//         return result\r\n//     }\r\n// }","import React, { Component } from \"react\";\r\nimport moment from \"moment/min/moment-with-locales\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n\tdeleteAuditoria,\r\n\teditAuditoria,\r\n} from \"../../store/actions/auditoriaActions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport { faTrashAlt, faEdit, faChartBar, faQrcode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { bText } from \"../../config/language\";\r\nimport { directions } from \"../../config/config\"\r\n\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass TarjetaAuditoria extends Component {\r\n\r\n\tstate = {\r\n\t\topen: false,\r\n\t}\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: true,\r\n\t\t})\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t};\r\n\r\n\trender() {\r\n\t\tvar { path } = directions\r\n\r\n\t\t// console.log(\"Those are props\", props)\r\n\t\t// Si las tarjetas no tienen las mismas \"l√≠neas\" de contenido\r\n\t\t// se rompe la tabla\r\n\t\t// Para arreglar esto se limit√≥ el l√≠mite de car√°cteres para el t√≠tulo,\r\n\t\t// quiz√°s sea necesario para el resto de atributos\r\n\r\n\t\t// Se tienen que a√±adir:\r\n\t\t// - Funci√≥n que regrese un bot√≥n de color y texto correspondiente al tiempo que falte\r\n\t\t// - A√±adir botones para borrar/editar una auditor√≠a, con un \"¬øest√°s seguro?\"\r\n\r\n\t\tDate.prototype.addDays = function (days) {\r\n\t\t\tvar date = new Date(this.valueOf());\r\n\t\t\tdate.setDate(date.getDate() + days);\r\n\t\t\treturn date;\r\n\t\t};\r\n\r\n\t\tconst { auditoria, userLevel, alreadyDone, lang, users, areas, procesos } = this.props;\r\n\r\n\t\t// console.log(lang, users, areas, procesos)\r\n\t\tif (!lang) return null;\r\n\t\tif (!users) return null;\r\n\t\tif (!areas) return null;\r\n\t\tif (!procesos) return null;\r\n\t\t// console.log(users)\r\n\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\t// if (!lang) return null;\r\n\r\n\t\tvar color = \"white\";\r\n\t\tvar text = \"\";\r\n\r\n\t\t// console.log([...users])\r\n\r\n\t\tconst findUser = [...auditoria.auditor].map(u => {\r\n\t\t\t// console.log(\"This is U: \", u)\r\n\t\t\t// console.log(\"This is users: \", users)\r\n\t\t\treturn users.find(e => e.id === u)\r\n\t\t})\r\n\t\t// console.log(\"This is what findUsers returns: \", findUser)\r\n\r\n\t\tconst findArea = areas.find(e => e.id === auditoria.area)\r\n\t\tconst findProceso = procesos.find(e => e.id === auditoria.proceso)\r\n\r\n\t\tif (findArea) {\r\n\t\t\tswitch (findArea.urgencia) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tcolor = \"#009900\";\r\n\t\t\t\t\ttext = \"R\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tcolor = \"#FFCC00\";\r\n\t\t\t\t\ttext = \"M\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tcolor = \"#FF9900\";\r\n\t\t\t\t\ttext = \"!\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tcolor = \"#C00000\";\r\n\t\t\t\t\ttext = \"!!\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// var checkDate = new Date();\r\n\t\t// var fecha_fin = auditoria.fecha_fin.toDate().addDays(0);\r\n\r\n\t\tvar style = {};\r\n\r\n\t\tif (alreadyDone) {\r\n\t\t\tcolor = \"grey\";\r\n\t\t\ttext = \"D\";\r\n\t\t\tstyle = { backgroundColor: \"#D5D8DC\" };\r\n\t\t}\r\n\t\t// <div className=\"a\"></div>\r\n\t\t// const refLink =\r\n\t\t// \tuserLevel === 0\r\n\t\t// \t\t? path.detalles_preguntas_auditoria\r\n\t\t// \t\t: path.responder_auditoria;\r\n\r\n\t\tconst graphOrWarn =\r\n\t\t\tuserLevel === 0 ? (\r\n\t\t\t\t<div className=\"boton extra-margin-botones\">\r\n\t\t\t\t\t<Link to={path.detalles_preguntas_auditoria + \"/\" + auditoria.id}>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faChartBar} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{ backgroundColor: color, color: \"white\" }}\r\n\t\t\t\t\tclassName=\"suavizar-borde center-box\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\tconst botones =\r\n\t\t\t(userLevel === 0) ? (\r\n\t\t\t\t<div className=\"button-group\">\r\n\t\t\t\t\t{graphOrWarn}\r\n\t\t\t\t\t<div className=\"boton extra-margin-botones\" onClick={this.handleClickOpen}>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faQrcode} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Link to={path.crear_auditoria + \"/\" + auditoria.id}>\r\n\t\t\t\t\t\t<div className=\"boton extra-margin-botones\">\r\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faEdit} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"boton extra-margin-botones\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t/*<PopUp></PopUp>\r\n\t\t\t\t\t\t\t\t  this.props.deleteAuditoria(auditoria.id)*/\r\n\t\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\t\t\t\t\t\tshowDenyButton: true,\r\n\t\t\t\t\t\t\t\tshowConfirmButton: true,\r\n\t\t\t\t\t\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\t\t\t\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t\t\t\t\t\t}).then((result) => {\r\n\t\t\t\t\t\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\t\t\t\t\t\tif (result.isConfirmed) {\r\n\t\t\t\t\t\t\t\t\tthis.props.deleteAuditoria(auditoria.id);\r\n\t\t\t\t\t\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t\t\t\t\t\t} else if (result.isDenied) {\r\n\t\t\t\t\t\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//props.deletePregunta(pregunta.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : graphOrWarn;\r\n\r\n\t\tmoment.locale(bText[lang].locale);\r\n\t\t// console.log(moment.locale(\"es\"))\r\n\t\tconst date = auditoria.fecha_fin ? (\r\n\t\t\t<p className=\"grey-text\">\r\n\t\t\t\t{bText[lang].auditorias.tarjetaAuditoria.fecha_limite}:{\" \"}\r\n\t\t\t\t{moment(auditoria.fecha_fin.toDate()).fromNow()}\r\n\t\t\t</p>\r\n\t\t) : null;\r\n\t\t\r\n\t\t\r\n\r\n\t\tconst content = (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t{/* {console.log(audit.auditoria.length)} */}\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t{/* card-title */}\r\n\t\t\t\t\t<span className=\"\">\r\n\t\t\t\t\t\t{auditoria.auditoria.length > 18\r\n\t\t\t\t\t\t\t? auditoria.auditoria.substr(0, 18) + \"...\"\r\n\t\t\t\t\t\t\t: auditoria.auditoria}\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{(userLevel === 0) ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{ bText[lang].auditorias.tarjetaAuditoria.auditor}: { findUser && findUser.map(u => {\r\n\t\t\t\t\t\t\treturn u ? (u.firstName[0] + \". \" + u.lastName) : \"\";\r\n\t\t\t\t\t\t}).join(\" & \")}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\r\n\t\t\t\t{(userLevel !== 0) ? (\r\n\t\t\t\t\tfindArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p>{findArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null}</p>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{date}\r\n\r\n\t\t\t\t{(userLevel !== 0) ? (\r\n\t\t\t\t\t<p>{bText[lang].auditorias.tarjetaAuditoria.assignedBy}: {auditoria.createdBy}, {moment(auditoria.createdAt.toDate()).fromNow()}</p>\r\n\t\t\t\t) : null}\r\n\t\t\t\t\r\n\t\t\t\t{/* <p>{findArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null}</p> */}\r\n\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\t// const linked = alreadyDone ? (\r\n\t\t// \tcontent\r\n\t\t// ) : (\r\n\t\t// \t<Link to={refLink + \"/\" + auditoria.id}>{content}</Link>\r\n\t\t// );\r\n\r\n\t\tconst dialog = (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-slide-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-slide-description\"\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className=\"center-box\">\r\n\t\t\t\t\t{/* Working1 */}\r\n\t\t\t\t\t{/* {console.log(\"Pass:\", auditoria.password)} */}\r\n\t\t\t\t\t<QRCode value={auditoria.password}/>\r\n\t\t\t\t\t{/* Working2 */}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\r\n\t\t\t\t\t\t{bText[lang].aceptar}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\r\n\r\n\t\tconst contentParent = (userLevel === 0) ? (\r\n\t\t\t<div style={style} className=\"tarjeta-auditor√≠a\">\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half1\">\r\n\t\t\t\t\t{content}\r\n\t\t\t\t\t{/* <p>{findArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null}</p> */}\r\n\t\t\t\t\t{/* <p>{bText[lang].auditorias.tarjetaAuditoria.password}: {auditoria.password}</p> */}\r\n\t\t\t\t\t{/* <p>CreatedAt: {moment(auditoria.createdAt.toDate()).fromNow()}</p> */}\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half2\">\r\n\t\t\t\t\t{botones}\r\n\t\t\t\t</div>\r\n\t\t\t\t{dialog}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<Link \r\n\t\t\t\tclassName=\"tarjeta-auditor√≠a\"\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tto={path.responder_auditoria + \"/\" + auditoria.id}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half1\">\r\n\t\t\t\t\t{content}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half2\">\r\n\t\t\t\t\t{botones}\r\n\t\t\t\t</div>\r\n\t\t\t\t{dialog}\r\n\t\t\t</Link>\r\n\t\t);\r\n\r\n\t\treturn contentParent;\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state)\r\n\treturn {\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tareas: state.firestore.ordered.areas,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t\t// users: state.firestore.ordered.users,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteAuditoria: (id) => dispatch(deleteAuditoria(id)),\r\n\t\teditAuditoria: (id, pregunta) => dispatch(editAuditoria(id, pregunta)),\r\n\t};\r\n};\r\n\r\n// export default connect(mapStateToProps, mapDispatchtoProps)(TarjetaAuditoria)\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"areas\" }, { collection: \"procesos\" }])\r\n)(TarjetaAuditoria);","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\n\r\nconst TarjetaAgregarAuditoria = (props) => {\r\n\r\n\tconst { where, hasTrace } = props\r\n\r\n\tvar whereToGo = where ? where : \"/crear-auditoria\";\r\n\r\n\tif (hasTrace) {\r\n\t\twhereToGo = \"/crear-auditoria-props/\" + hasTrace.proceso + \"/\" + hasTrace.area\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Link to={whereToGo} className=\"tarjeta-auditor√≠a center-box\">\r\n\t\t\t<div className=\"add-symbol\">\r\n\t\t\t\t<FontAwesomeIcon size='5x' icon={faPlus} />\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default TarjetaAgregarAuditoria;\r\n","import React from 'react'\r\nimport TarjetaAuditoria from './TarjetaAuditoria'\r\n\r\nimport TarjetaAgregarAuditoria from './TarjetaAgregarAuditoria'\r\n\r\nimport { bText } from \"../../config/language\";\r\nimport { directions } from \"../../config/config\"\r\n\r\nexport default function Auditorias(props) {\r\n    const { userLevel, auditorias, alreadyDone, lang, uid, users, hasTrace } = props\r\n    // var { path } = directions\r\n    // const text = require('../../config/language');\r\n\r\n    // const refLink = (userLevel === 0) ? path.detalles_preguntas_auditoria : path.responder_auditoria;\r\n\r\n    const pertinent = (userLevel !== 0) ? auditorias.filter(a => a.auditor.includes(uid)) : auditorias;\r\n\r\n    // auditorias.filter(a => a.auditor.includes(uid))\r\n    // console.log(auditorias)\r\n\r\n    return (\r\n    <div>\r\n        {(pertinent && pertinent.length !== 0) || (userLevel === 0) ? (\r\n            <div className=\"arroz-chino\">\r\n            {/* Esto es muy mejorable */}\r\n                {(userLevel === 0) ? <TarjetaAgregarAuditoria hasTrace={hasTrace}/> : null}\r\n\r\n                {pertinent && pertinent.map(auditoria => {\r\n\r\n                    return (\r\n                        <div key={auditoria.id}>\r\n                            <TarjetaAuditoria\r\n                                auditoria={auditoria}\r\n                                userLevel={userLevel}\r\n                                alreadyDone={alreadyDone}\r\n                                lang={lang}\r\n                                users={users}\r\n                            />\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        ) : (\r\n            <div className=\"footer-single\"><p>{bText[lang].auditorias.auditorias.nada}</p></div>\r\n        )}\r\n        \r\n\r\n       \r\n    </div>\r\n    )\r\n}\r\n","import { withRouter } from \"react-router\";\r\nimport { connect } from 'react-redux'\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport React, { Component } from 'react'\r\n\r\nclass Volver extends Component {\r\n\r\n    move = () => {\r\n        if (this.props.where) {\r\n            this.props.history.push(this.props.where)\r\n        } else {\r\n            this.props.history.push(\"/\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {lang} = this.props\r\n        // const bText = require('../../config/language');\r\n\r\n\r\n        return lang ? (\r\n            <button \r\n                className=\"return\" \r\n                onClick={() => {this.move()}}\r\n            >\r\n                {bText[lang].return}\r\n            </button>\r\n        ) : null\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Volver));","import React, { Component } from 'react'\r\nimport Auditorias from './Auditorias'\r\nimport { connect } from 'react-redux'\r\nimport {firestoreConnect} from 'react-redux-firebase'\r\nimport {compose} from 'redux'\r\nimport { Redirect } from 'react-router'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Volver from '../util/Volver'\r\nimport { bText } from \"../../config/language\";\r\n\r\n// CSS class \"container\" centers content\r\n\r\nclass DashboardAuditorias extends Component {\r\n    state = {\r\n        filter: 0\r\n    }\r\n\r\n    handleChangeSelect = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            filter: e.target.value\r\n        })\r\n    }\r\n\r\n    getKeyByValue = (object, value) => {\r\n        return Object.keys(object).find(key => object[key] === value);\r\n    }\r\n\r\n    render() {\r\n        console.log(\"This app was developed by this guy: https://github.com/pbldmngz\")\r\n        console.log(\"For any further changes, please send an e-mail to pablo@dominguez.contact\")\r\n        \r\n        const { auditorias, respuestas, auth, userLevel, lang, users } = this.props\r\n        // const bText = require('../../config/language');\r\n        \r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\"/>\r\n        if (!lang) return null;\r\n        // if (userLevel != 0) return <Redirect to=\"/\" />\r\n        // console.log(\"userLevel: \", userLevel)\r\n        // console.log(\"respuestas\", respuestas)\r\n        // if (!lang) return null;\r\n        // console.log(\"Calling from DashboardAuditorias\", this.props)\r\n\r\n\r\n        // ---> Con esto los usuarios no ven las que ya respondieron <---\r\n        // Se podr√≠a mejorar mandando un prop de que ya est√° resuelta\r\n        // hacia la tarjeta, pero se me hace mucha bronca porque luego se tendr√≠an\r\n        // Que mandar al fondo. En todo caso puedo hacer una vista de auditorias YA HECHAS\r\n\r\n        const sortByKey = (array, key) => {\r\n            return array.sort(function (a, b) {\r\n                //Check if they are timestamp\r\n\r\n\r\n                var x = a[key].toString(); var y = b[key].toString();\r\n                return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n            });\r\n        }\r\n\r\n        const rightNow = new Date();\r\n\r\n        // if (auditorias) {\r\n        //     console.log(\"Watching this:\", [...auditorias], rightNow)\r\n        // }\r\n        \r\n\r\n        var whatAuditorias = auditorias ? (\r\n            (userLevel === 0) ? [...auditorias] : [...auditorias].filter(a => a.fecha_fin.toDate() > rightNow)\r\n        ) : []\r\n\r\n        // console.log(this.props.match.params)\r\n\r\n        if (this.props.match.params.proceso && this.props.match.params.proceso !== \" \") {\r\n            // console.log(\"nope\")\r\n            whatAuditorias = whatAuditorias.filter(a => a.proceso === this.props.match.params.proceso)\r\n        }\r\n\r\n        if (this.props.match.params.area) {\r\n            whatAuditorias = whatAuditorias.filter(a => a.area === this.props.match.params.area)\r\n        }\r\n    \r\n        var orderedAudit = whatAuditorias ? [...whatAuditorias] : [];\r\n\r\n        var filter_value = \"fecha_fin\";\r\n\r\n        switch (this.state.filter) {\r\n            case 0:\r\n                filter_value = \"fecha_fin\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 1:\r\n                this.props.history.push(\"/procesos\")\r\n                break;\r\n            case 3:\r\n                filter_value = \"createdAt\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 4:\r\n                filter_value = \"area\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 5:\r\n                filter_value = \"proceso\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 6:\r\n                filter_value = \"auditor\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 7:\r\n                filter_value = \"fecha_inicio\";\r\n                // console.log(filter_value)\r\n                break;\r\n            default:\r\n                filter_value = \"fecha_fin\";\r\n                // console.log(filter_value)\r\n                break;\r\n        }\r\n    \r\n        orderedAudit = sortByKey(orderedAudit, filter_value)\r\n        \r\n\r\n        var filteredAuditorias = orderedAudit;\r\n\r\n        if (this.state.filter === 3) {\r\n            filteredAuditorias = filteredAuditorias.reverse()\r\n        }\r\n\r\n        // Mal√≠sima implementaci√≥n, se deber√≠a filtrar y luego ordenar, \r\n        // al rev√©s es un desperdicio\r\n\r\n        if (auditorias && userLevel !== 0 && respuestas) {\r\n            // console.log(\"0\", this.state.filter, respuestas)\r\n            const filtRespuestas = respuestas.filter(res => auth.uid === res.answeredById)\r\n\r\n            // console.log(\"After Filter\", this.state.filter, filtRespuestas)\r\n            \r\n            var filtID = {}\r\n            for (let fA in filtRespuestas){\r\n                // console.log(\"fA\", filtRespuestas[fA])\r\n                filtID[filtRespuestas[fA].auditoria] = true\r\n            }\r\n            \r\n            // console.log(\"2\", filtID)\r\n\r\n            const alreadyDone = Object.keys(filtID)\r\n\r\n            // console.log(\"3\", alreadyDone)\r\n\r\n            filteredAuditorias = (this.state.filter === 2) ? (\r\n                orderedAudit && orderedAudit.filter(aud => alreadyDone.includes(aud.id))\r\n            ) : (\r\n                orderedAudit && orderedAudit.filter(aud => !alreadyDone.includes(aud.id))\r\n            );\r\n\r\n            // filteredAuditorias = filteredAuditorias.filter(aud => aud.minCategory >= userLevel)\r\n        }\r\n        // var { path, pathName } = require('../../config/config');\r\n        \r\n        const menuItems = (userLevel === 0) ? (\r\n            <Select labelId=\"select-filter\" id=\"filter\" value={this.state.filter} onChange={this.handleChangeSelect}>\r\n                <MenuItem value={7}>{bText[lang].auditorias.dashboardAuditorias.fecha_inicio}</MenuItem>\r\n                <MenuItem value={0}>{bText[lang].auditorias.dashboardAuditorias.fecha_expiracion}</MenuItem>\r\n                <MenuItem value={3}>{bText[lang].auditorias.dashboardAuditorias.fecha_creacion}</MenuItem>\r\n                <MenuItem value={4}>{bText[lang].auditorias.dashboardAuditorias.area}</MenuItem>\r\n                <MenuItem value={5}>{bText[lang].auditorias.dashboardAuditorias.proceso}</MenuItem>\r\n                <MenuItem value={6}>{bText[lang].auditorias.dashboardAuditorias.auditor}</MenuItem>\r\n                <MenuItem value={1}>{bText[lang].auditorias.dashboardAuditorias.agrupar_areas}</MenuItem>\r\n            </Select>\r\n        ) : (\r\n                <Select labelId=\"select-filter\" id=\"filter\" value={this.state.filter} onChange={this.handleChangeSelect}>\r\n                    <MenuItem value={0}>{bText[lang].auditorias.dashboardAuditorias.ordenar_fecha}</MenuItem>\r\n                    <MenuItem value={2}>{bText[lang].auditorias.dashboardAuditorias.mostrar_realizados}</MenuItem>\r\n                </Select>\r\n        );\r\n        // const botonReturn = (userLevel === 0) ? (\r\n        //     <div className=\"dashboard-extra-space\">{text[lang].return}</div>\r\n        // ): null;\r\n        const whereToGo = this.props.match.params.proceso ? \"/areas/\" + this.props.match.params.proceso : \"/\";\r\n\r\n        if (filteredAuditorias) {\r\n            return (\r\n                <div className=\"padre-padre-titulo\">\r\n                    <div className=\"padre-titulo mobile\">\r\n                        <div className=\"titulo destroy-on-mobile\">\r\n                            {(this.props.match.params.proceso) ? (\r\n                                <Volver where={whereToGo} />\r\n                            ) : (null)}\r\n                            \r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <h2>{bText[lang].auditorias.dashboardAuditorias.auditorias}</h2>\r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <InputLabel id=\"select-filter\">{bText[lang].auditorias.dashboardAuditorias.vista}</InputLabel>\r\n                            {menuItems}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <Auditorias\r\n                            auditorias={filteredAuditorias}\r\n                            userLevel={userLevel}\r\n                            alreadyDone={(this.state.filter === 2)}\r\n                            lang={lang}\r\n                            uid={auth.uid}\r\n                            users={users}\r\n                            hasTrace={(this.props.match.params.proceso) ? this.props.match.params : null}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"container center\">\r\n                    <p>{bText[lang].cargando}</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log(\"Status\", state)\r\n    return {\r\n        auditorias: state.firestore.ordered.auditorias,\r\n        respuestas: state.firestore.ordered.respuestas,\r\n        users: state.firestore.ordered.users,\r\n        lang: state.firebase.profile.lang,\r\n        auth: state.firebase.auth,\r\n        userLevel: state.firebase.profile.userLevel\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([{ collection: \"auditorias\", orderBy: [\"fecha_fin\", \"asc\"]}, {collection:\"respuestas\"}, {collection:\"users\"}])\r\n)(DashboardAuditorias)\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {signIn} from '../../store/actions/authActions'\r\nimport { Redirect } from 'react-router';\r\nimport Logo_GST from '../../styles/imgs/Logo-GST.png'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\n\r\n\r\nclass SignIn extends Component {\r\n    state = {\r\n        email: '',\r\n        password: ''\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signIn(this.state)\r\n    }\r\n\r\n    listenEnter = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.handleSubmit(event)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const {authError, auth} = this.props;\r\n\r\n        console.log(\"This app was developed by this guy: https://github.com/pbldmngz\")\r\n        console.log(\"For any further changes, please send an e-mail to pablo@dominguez.contact\")\r\n\r\n        const lang = \"spanish\"\r\n\r\n        // const bText = require('../../config/language');\r\n\r\n        if (auth.uid) return <Redirect to=\"/\" />\r\n        \r\n        return (\r\n            \r\n            <div className=\"\">\r\n                <div className=\"padre-titulo\">\r\n                    <div className=\"titulo\">\r\n                        {/* <Volver /> */}\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        {/* <h2 className=\"titulo\">##########</h2> */}\r\n                        <img className=\"logo\" src={Logo_GST} alt=\"gst logo\"></img>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <form className=\"\" onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-1 white\">\r\n                        <div className=\"form-2\">\r\n                            \r\n\r\n                                <div className=\"input-field\">\r\n                                    <label className=\"uname\" htmlFor=\"email\"></label>\r\n                                    <input onKeyDown={(e) => this.listenEnter(e)} type=\"email\" id='email' placeholder={bText[lang].auth.signIn.correo} onChange={this.handleChange} />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    <label htmlFor=\"password\"></label>\r\n                                    <input onKeyDown={(e) => this.listenEnter(e)} type=\"password\" id='password' placeholder={bText[lang].auth.signIn.contrasena} onChange={this.handleChange} />\r\n                                </div>\r\n\r\n                            \r\n\r\n                        </div>\r\n                        <div className=\"footer-single\">\r\n                            {authError ? <p>{authError}</p> : null}\r\n                        </div>\r\n                        <div className=\"footer-single\">\r\n                            <button \r\n                                className=\"add-question\"\r\n                                >{bText[lang].auth.signIn.iniciar_sesion}</button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        authError: state.auth.authError,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signIn: (creds) => dispatch(signIn(creds))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router';\r\nimport { signUp } from '../../store/actions/authActions'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Volver from '../util/Volver'\r\nimport Swal from \"sweetalert2\";\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass SignUp extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        level: 4,\r\n        lang: \"english\",\r\n    }\r\n    handleChange = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleChangeSelect = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            level: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signUp(this.state)\r\n        this.props.history.push(\"/profile\")\r\n    }\r\n\r\n    Seguro = (e) => {\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Do you want to save the changes?\",\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowCancelButton: false,\r\n\t\t\tconfirmButtonText: \"Save\",\r\n\t\t\tdenyButtonText: \"Don't save\",\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(\"Saved!\", \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(\"Changes are not saved\", \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n    render() {\r\n        const { auth, authError, lang, userLevel } = this.props;\r\n        \r\n\r\n        if (!auth.uid) return <Redirect to=\"/\" />\r\n        if (userLevel && userLevel !==0) return <Redirect to=\"/\" />\r\n\r\n        // const bText = require('../../config/language');\r\n\r\n        if (!lang) return null;\r\n\r\n        return (\r\n            <div className=\"\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where=\"/profile\"/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"titulo\">{bText[lang].auth.signUp.registrar_auditor}</h2>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"form-1\">\r\n                    <div className=\"form-2\">\r\n                        <form className=\"\" onSubmit={this.Seguro}>\r\n                            <div className=\"date-container\">\r\n                                <div className=\"input-field-1-2\">\r\n                                    <label htmlFor=\"firstName\"></label>\r\n                                    <input\r\n                                        autoComplete=\"off\"\r\n                                        autoCorrect=\"off\"\r\n                                        spellCheck=\"off\"\r\n                                        type=\"text\"\r\n                                        id='firstName'\r\n                                        placeholder={bText[lang].auth.signUp.nombre}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                {/* <i class=\"lname\"></i> */}\r\n                                <div className=\"input-field-3-4\">\r\n                                    <label htmlFor=\"lastName\"></label>\r\n                                    <input\r\n                                        autoComplete=\"off\"\r\n                                        autoCorrect=\"off\"\r\n                                        spellCheck=\"off\"\r\n                                        type=\"text\"\r\n                                        id='lastName'\r\n                                        placeholder={bText[lang].auth.signUp.apellido}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"input-field\">\r\n                                <label htmlFor=\"email\"></label>\r\n                                <input\r\n                                    autoComplete=\"off\"\r\n                                    autoCorrect=\"off\"\r\n                                    spellCheck=\"off\"\r\n                                    type=\"email\"\r\n                                    id='email'\r\n                                    placeholder={bText[lang].auth.signUp.correo}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"input-field\">\r\n                                <label htmlFor=\"password\"></label>\r\n                                <input \r\n                                    autoComplete=\"off\"\r\n                                    autoCorrect=\"off\"\r\n                                    spellCheck=\"off\"\r\n                                    type=\"text\"\r\n                                    id='password'\r\n                                    placeholder={bText[lang].auth.signUp.contrasena}\r\n                                    onChange={this.handleChange} \r\n                                />\r\n                            </div>\r\n                            <div className=\"center-box\">\r\n                                <div className=\"footer-single-flex\">\r\n                                    <InputLabel id=\"select-level\">{bText[lang].auth.signUp.capa}</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"select-level\"\r\n                                        id=\"level\"\r\n                                        value={this.state.level}\r\n                                        onChange={this.handleChangeSelect}\r\n                                        style={{width: `${100}px`}}\r\n                                    >\r\n                                        <MenuItem value={4}>A</MenuItem>\r\n                                        <MenuItem value={3}>B</MenuItem>\r\n                                        <MenuItem value={2}>C</MenuItem>\r\n                                        <MenuItem value={1}>D</MenuItem>\r\n                                        <MenuItem value={0}>Admin</MenuItem>\r\n                                    </Select>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer-single margin-top\">\r\n                    <button \r\n                        onClick={this.Seguro}\r\n                        className=\"add-question\">{bText[lang].auth.signUp.registrar}</button>\r\n                </div>\r\n                <div className=\"footer-single\">\r\n                    {authError ? <p>{authError}</p> : null}\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        userLevel: state.firebase.profile.userLevel,\r\n        authError: state.auth.authError,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signUp: (newUser) => dispatch(signUp(newUser))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)\r\n","// import React from 'react';\r\n\r\n// const DatepickerInput = ({ ...props }) => {\r\n//     return (\r\n//         <input type=\"text\" {...props} readOnly />\r\n//     );\r\n// }\r\n\r\n// export default DatepickerInput;\r\n\r\n\r\nimport React, { Component } from 'react'\r\n\r\nexport default class DatepickerInput extends Component {\r\n    render() {\r\n        return (\r\n            <input type=\"text\" {...this.props} readOnly />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\n// import { createAuditoria } from \"../../store/actions/auditoriaActions\";\r\nimport {\r\n\tcreateAuditoria,\r\n\teditAuditoria,\r\n\tgetAuditoria,\r\n} from \"../../store/actions/auditoriaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n//import DatePicker from 'react-datepicker/dist/react-datepicker'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport DatepickerInput from '../util/DatepickerInput'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\n\r\nclass CrearAuditoria extends Component {\r\n\tstate = {\r\n\t\tauditoria: \"\",\r\n\t\tauditor: [\"\", \"\", \"\", \"\"],\r\n\t\tarea: \"\",\r\n\t\tproceso: \"\",\r\n\t\tfecha_inicio: new Date(),\r\n\t\tfecha_fin: new Date(),\r\n\t\tpreguntas: [],\r\n\t\topenB: false,\r\n\t\tvalueB: \"\",\r\n\t\tpassword: \"\",\r\n\t};\r\n\thandleChange = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleChangeAutocomplete = (e, newValue) => {\r\n\t\t// console.log(\"This is E and nV\", e, newValue)\r\n\t\t//Tengo que conseguir el ID\r\n\t\tthis.setState({\r\n\t\t\tvalueB: newValue,\r\n\t\t});\r\n\t};\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst id = this.props.match.params.id;\r\n\r\n\t\tvar toSend = {\r\n\t\t\tauditoria: this.state.auditoria,\r\n\t\t\tauditor: this.state.auditor.filter(a => a !== \"\"),\r\n\t\t\tarea: this.state.area,\r\n\t\t\tproceso: this.state.proceso,\r\n\t\t\tfecha_inicio: this.state.fecha_inicio,\r\n\t\t\tfecha_fin: this.state.fecha_fin,\r\n\t\t\tpreguntas: this.props.procesos.find(p => p.id === this.state.proceso).preguntas,\r\n\t\t\t// password: password,\r\n\t\t}\r\n\r\n\t\tif (!id) {\r\n\t\t\tvar generator = require('generate-password');\r\n\r\n\t\t\tvar password = generator.generate({\r\n\t\t\t\tlength: 8,\r\n\t\t\t\tnumbers: true,\r\n\t\t\t\tuppercase: false,\r\n\t\t\t\tlowercase: false,\r\n\t\t\t});\r\n\r\n\t\t\ttoSend.password = password\r\n\t\t\t// console.log(this.state)\r\n\t\t\tthis.props.createAuditoria(toSend);\r\n\t\t} else {\r\n\t\t\ttoSend.password = this.state.password;\r\n\r\n\t\t\tthis.props.editAuditoria(id, toSend);\r\n\t\t}\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? (\"/auditorias/\" + this.props.match.params.proceso + \"/\" + this.props.match.params.area) : \"/\";\r\n\t\t\r\n\t\tthis.props.history.push(whereToGo); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: true,\r\n\t\t});\r\n\t};\r\n\thandleCancel = () => {\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? (\"/auditorias/\" + this.props.match.params.proceso + \"/\" + this.props.match.params.area) : \"/\";\r\n\r\n\t\tthis.props.history.push(whereToGo);\r\n\t};\r\n\thandleDelete = (id) => {\r\n\t\tconst newPreguntas = this.state.preguntas.filter(\r\n\t\t\t(pregunta) => pregunta.id !== id\r\n\t\t);\r\n\t\tthis.setState({\r\n\t\t\tpreguntas: newPreguntas,\r\n\t\t});\r\n\t};\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: false,\r\n\t\t});\r\n\t};\r\n\thandleCloseSave = (e) => {\r\n\t\t// console.log(\"Y aqu√≠ debo de sacar una forma de registrar una pregunta nueva\", e)\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\topenB: false,\r\n\t\t\tpreguntas: [...new Set([...prevState.preguntas, this.state.valueB])],\r\n\t\t}));\r\n\t};\r\n\tSeguro = (e) => {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst {lang} = this.props\r\n\t\t// console.log(this.cantSend())\r\n\t\t// if (this.cantSend()) return null;\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowConfirmButton: true,\r\n\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t\r\n\r\n\thandleChangeSelectProceso = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tproceso: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectArea = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tarea: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectAuditor = (e) => {\r\n\t\tconsole.log(\"This is E\", e.target)\r\n\r\n\t\tvar newAuditor = [...this.state.auditor]\r\n\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase \"auditor1\":\r\n\t\t\t\tnewAuditor[0] = e.target.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"auditor2\":\r\n\t\t\t\tnewAuditor[1] = e.target.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"auditor3\":\r\n\t\t\t\tnewAuditor[2] = e.target.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"auditor4\":\r\n\t\t\t\tnewAuditor[3] = e.target.value;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tauditor: newAuditor,\r\n\t\t});\r\n\t};\r\n\r\n\tsortByKey = (array, key) => {\r\n\t\treturn array.sort(function (a, b) {\r\n\t\t\t//Check if they are timestamp\r\n\r\n\r\n\t\t\tvar x = a[key].toString(); var y = b[key].toString();\r\n\t\t\treturn ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n\t\t});\r\n\t}\r\n\r\n\tcantSend = () => {\r\n\t\treturn !(this.state.preguntas && (this.state.preguntas.length >= 5) && (this.state.preguntas.length <= 15));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tif (this.props.match.params.proceso && this.props.match.params.proceso !== \" \") {\r\n\t\t\tthis.setState({\r\n\t\t\t\tproceso: this.props.match.params.proceso,\r\n\t\t\t\tarea: this.props.match.params.area,\r\n\t\t\t})\r\n\t\t} else if (this.props.match.params.area) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tarea: this.props.match.params.area,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst id = this.props.match.params.id;\r\n\r\n\t\tif (id) {\r\n\t\t\tthis.props.getAuditoria(id).then((res) => {\r\n\t\t\t\t// console.log(\"RES is working\", res)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauditoria: res.auditoria,\r\n\t\t\t\t\tauditor: res.auditor,\r\n\t\t\t\t\tarea: res.area,\r\n\t\t\t\t\tproceso: res.proceso,\r\n\t\t\t\t\tfecha_inicio: res.fecha_inicio.toDate(),\r\n\t\t\t\t\tfecha_fin: res.fecha_fin.toDate(),\r\n\t\t\t\t\tpreguntas: res.preguntas.map((pre) => {\r\n\t\t\t\t\t\treturn this.props.preguntas.filter((fil) => fil.id === pre)[0];\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tpassword: res.password,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(\"This is Res\", res)\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// console.log(\"Falta que el texto de los inputs se cambie a lo del state\", this.state)\r\n\t\t//Checa el state en la consola, no sale nada\r\n\t}\r\n\r\n\trender() {\r\n\t\t// var { path, pathName } = require(\"../../config/config\");\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { auth, userLevel, lang, procesos, areas, users } = this.props;\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\t\tif (userLevel !== 0) return <Redirect to=\"/\" />;\r\n\r\n\t\tif (!users) return null;\r\n\r\n\t\t// console.log(\"PropsMatch\", this.props.match.params)\r\n\t\t\r\n\r\n\t\tconst filtUsers = this.sortByKey([...users], \"lastName\").filter(u => u.userLevel !== 0)\r\n\r\n\t\t// console.log(\"1:\", [...areas].map((ar) => { return ar.id }).includes(this.state.area), areas, this.state.area)\r\n\r\n\t\tconst temp1 = [...areas].find(a => a.id === this.state.area)\r\n\r\n\r\n\r\n\t\t// console.log(\"2\", temp1 ? temp1.urgencia : 0)\r\n\r\n\t\tvar auditorCount = ((this.state.area !== \"\" && areas) && [...areas].map((ar) => { return ar.id }).includes(this.state.area)) ? (temp1 ? temp1.urgencia : 0) : 0;\r\n\t\t\r\n\t\t// console.log(\"AC:\", auditorCount)\r\n\t\t\r\n\t\t\r\n\t\tswitch (auditorCount) {\r\n\t\t\tcase 2:\r\n\t\t\t\tauditorCount = [2, 3, 4];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tauditorCount = [1, 2, 3, 4];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tauditorCount = [3, 4];\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tconst layerName = [\"Admin\", \"D\", \"C\", \"B\", \"A\"]\r\n\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? (\"/auditorias/\" + this.props.match.params.proceso + \"/\" + this.props.match.params.area) : \"/\";\r\n\r\n\t\t// console.log(this.state.preguntas)\r\n\t\treturn (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where={whereToGo}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"\">\r\n\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.crear_auditoria}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div className=\"form-1\">\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<form className=\"\" onSubmit={this.Seguro}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"form-2\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"proceso\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.proceso}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectProceso}\r\n\t\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.proceso}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t{procesos && this.sortByKey([...procesos], \"proceso\").map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={p.id} value={p.id}>{p.proceso}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <span className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"area\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.area ? this.state.area : \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectArea}\r\n\t\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.proceso === \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.area}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t{areas && this.sortByKey([...areas], \"area\").filter(a => a.proceso === this.state.proceso).map(a => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={a.id} value={a.id}>{a.area}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t{/* {Aqu√≠ empieza lo nuevo} */}\r\n\t\t\t\t\t\t\t\t\t{console.log(auditorCount)}\r\n\t\t\t\t\t\t\t\t\t{this.state.area !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t\tauditorCount && auditorCount.map(layer => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (<div key={layer} className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {console.log(auditorCount)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{} */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"auditor\" + layer.toString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.auditor[layer - 1] ? this.state.auditor[layer - 1]: \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectAuditor}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.auditor} - {layerName[layer]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{filtUsers && filtUsers.filter(u => u.userLevel === layer).map(a => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={a.id} value={a.id}>{a.lastName}, {a.firstName}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (null)}\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t{/* {Aqu√≠ empieza lo nuevo} */}\r\n\t\t\t\t\t\t\t\t\t<div className=\"date-container\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"fecha\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.inicia_el}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"datePicker-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"fecha_inicio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected={this.state.fecha_inicio}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfecha_inicio: date,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\twithPortal\r\n\t\t\t\t\t\t\t\t\t\t\t\tcustomInput={<DatepickerInput />}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"fecha\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.termina_el}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* {console.log(text[lang].auditorias.crearAuditoria.termina_el)} */}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"datePicker-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"fecha_fin\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected={this.state.fecha_fin}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfecha_fin: date,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\twithPortal\r\n\t\t\t\t\t\t\t\t\t\t\t\tcustomInput={<DatepickerInput />}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"cancelar\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.crear}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tpreguntas: state.firestore.ordered.preguntas,\r\n\t\tareas: state.firestore.ordered.areas,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t\tusers: state.firestore.ordered.users,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreateAuditoria: (auditoria) => dispatch(createAuditoria(auditoria)),\r\n\t\teditAuditoria: (id, auditoria) => dispatch(editAuditoria(id, auditoria)),\r\n\t\tgetAuditoria: (id) => dispatch(getAuditoria(id)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"preguntas\" }, { collection: \"areas\" }, { collection: \"procesos\" }, { collection: \"users\" }])\r\n)(CrearAuditoria);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport { faTrashAlt, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { directions } from \"../../config/config\"\r\nimport { bText } from \"../../config/language\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function TarjetaPregunta(props) {\r\n\tvar { path } = directions\r\n\t// Se tienen que a√±adir:\r\n\t// - A√±adir botones para borrar/editar una pregunta, con un \"¬øest√°s seguro?\"\r\n\t// Pueden hacerlo haciendo unos divs | ----- | - | flex, no soy el experto\r\n\tconst { pregunta, userLevel, lang } = props;\r\n\r\n\t// if (!lang) return null;\r\n\r\n\t// const bText = require(\"../../config/language\");\r\n\r\n\t// console.log(\"userLevel on tarjeta\", userLevel)\r\n\r\n\t// En cierto modo, ni siquiera tiene caso esto, los usuarios normales no llegar√≠an aqu√≠\r\n\tconst botones =\r\n\t\tuserLevel === 0 ? (\r\n\t\t\t<div className=\"button-group\">\r\n\t\t\t\t<Link to={path.editar_pregunta + \"/\" + pregunta.id}>\r\n\t\t\t\t\t<div className=\"boton\">\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faEdit} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to={path.preguntas}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"boton\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\t\ttitle: \"Do you want to save the changes?\",\r\n\t\t\t\t\t\t\t\tshowDenyButton: true,\r\n\t\t\t\t\t\t\t\tshowConfirmButton: true,\r\n\t\t\t\t\t\t\t\tdenyButtonText: \"Don't save\",\r\n\t\t\t\t\t\t\t\tconfirmButtonText: \"Save\",\r\n\t\t\t\t\t\t\t}).then((result) => {\r\n\t\t\t\t\t\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\t\t\t\t\t\tif (result.isConfirmed) {\r\n\t\t\t\t\t\t\t\t\tprops.deletePregunta(pregunta.id);\r\n\t\t\t\t\t\t\t\t\tSwal.fire(\"Saved!\", \"\", \"success\");\r\n\t\t\t\t\t\t\t\t} else if (result.isDenied) {\r\n\t\t\t\t\t\t\t\t\tSwal.fire(\"Changes are not saved\", \"\", \"info\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//props.deletePregunta(pregunta.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\r\n\t\tconst categoria = {\r\n\t\t\t1: \"A\",\r\n\t\t\t2: \"B\",\r\n\t\t\t3: \"C\",\r\n\t\t\t4: \"D\",\r\n\t\t}\r\n\r\n\t\tconst react_plan = {\r\n\t\t\t0: bText[lang].preguntas.crearPregunta.fix,\r\n\t\t\t1: bText[lang].preguntas.crearPregunta.contramedidas_temporales,\r\n\t\t\t2: bText[lang].preguntas.crearPregunta.parar_produccion,\r\n\t\t}\r\n\r\n\t\tconst [open, setOpen] = React.useState(false);\r\n\r\n\t\tconst handleClickOpen = () => {\r\n\t\t\tsetOpen(true);\r\n\t\t};\r\n\r\n\t\tconst handleClose = () => {\r\n\t\t\tsetOpen(false);\r\n\t\t};\r\n\r\n\t\tconst maxQuestionLength = 60;\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"tarjeta-pregunta\" key={pregunta.id}>\r\n\r\n\t\t\t\t<div className=\"tarjeta-pregunta-half1 hover-cursor\" onClick={handleClickOpen}>\r\n\r\n\t\t\t\t\t<span className=\"\">\r\n\t\t\t\t\t\t{pregunta[lang].length > maxQuestionLength\r\n\t\t\t\t\t\t\t? pregunta[lang].substr(0, maxQuestionLength) + \"...\"\r\n\t\t\t\t\t\t\t: pregunta[lang]}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<p className=\"\">\r\n\t\t\t\t\t\t{pregunta.description.length > maxQuestionLength*2\r\n\t\t\t\t\t\t\t? pregunta.description.substr(0, maxQuestionLength*2) + \"...\"\r\n\t\t\t\t\t\t\t: pregunta.description}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"\">\r\n\t\t\t\t\t\t{react_plan[pregunta.reaction_plan]}\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tarjeta-pregunta-half2\">\r\n\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t{botones}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-slide-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-slide-description\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-slide-title\">{\"Justificaciones a esta pregunta####\"}</DialogTitle>\r\n\t\t\t\t<DialogContent className=\"dialog-content\">\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t{pregunta.english}###\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tDescripci√≥n: \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{pregunta.description}###EEEEEEEEEEEEEEEEEEEEEEE##########\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tCapa:\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{categoria[pregunta.category]}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tPlan de reacci√≥n: \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{pregunta.reaction_plan}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tCreado por:\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{pregunta.createdBy}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tCreado:\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{moment(pregunta.createdAt.toDate()).fromNow()}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t\r\n\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\r\n\t\t\t\t\t\tAceptar###\r\n            \t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\n\r\nconst TarjetaAgregarPregunta = () => {\r\n\treturn (\r\n\t\t<Link to=\"/crear-pregunta\" className=\"tarjeta-pregunta center-box\">\r\n\t\t\t<div className=\"add-symbol\">\r\n\t\t\t\t<FontAwesomeIcon size='5x' icon={faPlus} />\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default TarjetaAgregarPregunta;\r\n","import React from 'react'\r\nimport TarjetaPregunta from './TarjetaPregunta'\r\nimport TarjetaAgregarPregunta from './TarjetaAgregarPregunta'\r\n\r\nexport default function Preguntas(props) {\r\n    // var { path, pathName } = require('../../config/config');\r\n    // const text = require('../../config/language');\r\n\r\n    const { preguntas, editPregunta, deletePregunta, userLevel, lang } = props\r\n\r\n    const sortByKey = (array, key) => {\r\n        return array.sort(function (a, b) {\r\n            //Check if they are timestamp\r\n\r\n\r\n            var x = a[key].toString(); var y = b[key].toString();\r\n            return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n        });\r\n    }\r\n\r\n    const sortedPreguntas = sortByKey([...preguntas], \"createdAt\")\r\n\r\n    // Consider√°ndolo, no tiene caso, va a haber m√°s de 5 preguntas y se va a perder\r\n\r\n    return (\r\n        <div className=\"\">\r\n            <div className=\"preguntas\">\r\n\r\n            <TarjetaAgregarPregunta/>\r\n\r\n            {preguntas && sortedPreguntas.map(pregunta => {\r\n                return (\r\n                    <div key={pregunta.id}>\r\n                        <TarjetaPregunta\r\n                            pregunta={pregunta}\r\n                            editPregunta={editPregunta}\r\n                            deletePregunta={deletePregunta}\r\n                            userLevel={userLevel}\r\n                            lang={lang}\r\n                        />\r\n                    </div>\r\n                )\r\n            })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { firebase } from \"react-redux-firebase\";\r\n\r\nexport const createPregunta = (pregunta) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        firestore.collection(\"preguntas\").add({\r\n            ...pregunta,\r\n            createdBy: profile.firstName + \" \" + profile.lastName,\r\n            authorId,\r\n            // createdById: profile.id, //Esta linea es modificaci√≥n, no funciona\r\n            // Pero me gustar√≠a enlazar \"profile\" con su Id, ser√≠a m√°s f√°cil rastrearlo\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({ type: \"CREATE_PREGUNTA\" }, pregunta)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"CREATE_PREGUNTA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const respuestaPregunta = (respuesta) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        var respArray = respuesta.map((re) => {\r\n            re.answeredBy = profile.firstName + \" \" + profile.lastName;\r\n            re.answeredById = authorId;\r\n            re.answeredAt = new Date();\r\n\r\n            return re\r\n        })\r\n\r\n        // console.log(\"respArray: \", respArray)\r\n\r\n        for (let res of respArray) {\r\n            firestore.collection(\"respuestas\").add(res)\r\n                .then(() => {\r\n                    dispatch({ type: \"CREATE_RESPUESTA_PREGUNTA\" }, respuesta)\r\n                }).catch((err) => {\r\n                    dispatch({ type: \"CREATE_RESPUESTA_PREGUNTA_ERROR\" }, err)\r\n                })\r\n        }\r\n    }\r\n}\r\n\r\nexport const deletePregunta = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        firestore.collection(\"preguntas\").doc(id).delete()\r\n    }\r\n}\r\n\r\nexport const editPregunta = (id, pregunta) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        \r\n        //Va aser con algo de .doc() para se√±alar cual\r\n        //Ejemplo:\r\n        // const cityRef = db.collection('cities').doc('DC');\r\n        // const res = await cityRef.update({ capital: true });\r\n        // console.log(\"editPregunta, \", pregunta)\r\n\r\n        firestore.collection(\"preguntas\").doc(id).update({\r\n            ...pregunta,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_PREGUNTA\" }, pregunta)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"EDIT_PREGUNTA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const getPregunta = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"preguntas\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Preguntas from '../preguntas/Preguntas'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router'\r\nimport { deletePregunta, editPregunta } from '../../store/actions/preguntaActions'\r\n\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n// CSS class \"container\" centers content\r\n\r\n// Para cuando se est√© creado una auditor√≠a deber√≠a \r\n// crear un componente para buscar la pregunta por texto\r\n\r\n// Por alg√∫n motivo, al hacer click en una pregunta \r\n// no me lleva al componente espec√≠fico pero si cambia el link\r\n\r\nclass DashboardPreguntas extends Component {\r\n    render() {\r\n        const { preguntas, auth, userLevel, lang } = this.props\r\n        // console.log(userLevel)\r\n        // const bText = require(\"../../config/language\");\r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\" />\r\n        if (userLevel !== 0) return <Redirect to=\"/\" />\r\n\r\n        if (!lang) return null;\r\n\r\n        if (preguntas){\r\n            return (\r\n                <div className=\"padre-padre-titulo\">\r\n                    <div className=\"padre-titulo mobile\">\r\n                        <div className=\"titulo destroy-on-mobile\">\r\n                            <Volver where=\"/profile\"/>\r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <h2>{bText[lang].preguntas.dashboardPreguntas.creacion_preguntas}</h2>\r\n                        </div>\r\n                        {/* <div className=\"titulo\">\r\n                            <NavLink to={path.crear_pregunta}>\r\n                                <button className=\"boton-arriba\">New Question</button>\r\n                            </NavLink>\r\n                        </div> */}\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <Preguntas \r\n                            preguntas={preguntas} \r\n                            editPregunta={this.props.editPregunta} \r\n                            deletePregunta={this.props.deletePregunta}\r\n                            userLevel={userLevel}\r\n                            lang={lang}\r\n                        />\r\n                    </div>\r\n                    \r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"container center\">\r\n                    <p>Cargando...</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        preguntas: state.firestore.ordered.preguntas,\r\n        auth: state.firebase.auth,\r\n        userLevel: state.firebase.profile.userLevel,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        deletePregunta: (id) => dispatch(deletePregunta(id)),\r\n        editPregunta: (pregunta) => dispatch(editPregunta(pregunta)),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchtoProps),\r\n    firestoreConnect([{ collection: \"preguntas\", orderBy: [\"createdAt\", \"desc\"]}])\r\n)(DashboardPreguntas)\r\n","import React, { Component } from \"react\";\r\nimport { createPregunta } from \"../../store/actions/preguntaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass CrearPregunta extends Component {\r\n\tstate = {\r\n\t\tcategory: 4,\r\n\t\tdescription: \"\",\r\n\t\treaction_plan: \"\",\r\n\t\tenglish: \"\",\r\n\t\tspanish: \"\",\r\n\t};\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleChangeSelect = (e) => {\r\n\t\t// console.log(e)\r\n\t\tthis.setState({\r\n\t\t\tcategory: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// console.log(this.state)\r\n\t\tthis.props.createPregunta(this.state);\r\n\t\tthis.props.history.push(\"/preguntas\"); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\tSeguro = (e) => {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { lang } = this.props\r\n\t\t// console.log(this.cantSend())\r\n\t\t// if (this.cantSend()) return null;\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowConfirmButton: true,\r\n\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\r\n\thandleChangeSelectRP = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\treaction_plan: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\r\n\trender() {\r\n\t\tconst { auth, lang } = this.props;\r\n\t\t// const bText = require(\"../../config/language\");\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where=\"/preguntas\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"titulo\">\r\n\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.crear_pregunta}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-1\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<form className=\"\" onSubmit={this.Seguro}>\r\n\t\t\t\t\t\t\t<div className=\"form-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"english\" placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [EN]\"} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"spanish\" placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [ES]\"} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"description\" placeholder={bText[lang].preguntas.crearPregunta.descripcion} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"reaction_plan\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.reaction_plan}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectRP}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.plan_reaccion}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={0}>{bText[lang].preguntas.crearPregunta.fix}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>{bText[lang].preguntas.crearPregunta.contramedidas_temporales}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>{bText[lang].preguntas.crearPregunta.parar_produccion}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"footer-single-flex\">\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"select-level\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.categoria}\r\n\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-level\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"level\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: `${100}px`}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>A</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>B</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>C</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>D</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-single\">\r\n\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.crear}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(\"Status\", state)\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreatePregunta: (pregunta) => dispatch(createPregunta(pregunta)),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(CrearPregunta);\r\n","import React from 'react';\r\nimport { ResponsivePie } from '@nivo/pie'\r\n\r\n\r\nconst PieChart = (props) => {\r\n\r\n    const {radius, innerText, colors, data} = props\r\n\r\n    console.log(\"ThisIsData:\", data)\r\n\r\n    const innerRadius = (radius) ? radius: 0;\r\n\r\n    const total = () => {\r\n        var result = 0;\r\n\r\n        for (let d of data) {\r\n            result += d.value\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const format = v => `${Math.round((v/total())*100)}%`\r\n\r\n    // const colors = { 'java': 'red', 'python': 'blue', 'php': 'green' }\r\n    \r\n    const getColor = bar => colors[bar.id]\r\n\r\n    const CenteredMetric = ({centerX, centerY }) => {\r\n\r\n        return (\r\n\r\n                <text\r\n                    x={centerX}\r\n                    y={centerY}\r\n                    textAnchor=\"middle\"\r\n                    dominantBaseline=\"central\"\r\n                    style={{\r\n                        fontSize: '28px',\r\n                        fontWeight: '600',\r\n                    }}\r\n                >\r\n                    {innerText}\r\n                </text>\r\n\r\n            \r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={{ height: \"100%\" }}>\r\n            <ResponsivePie\r\n                data={data}\r\n                keys={[\"label\"]}\r\n                // indexBy=\"id\"\r\n                // valueFormat={format}\r\n                \r\n                // colors={['#97e3d5', '#61cdbb', '#f47560', '#e25c3b']}\r\n                colors={(!colors) ? ['#002D73', '#A9CCE3'] : getColor}\r\n                // borderColor=\"#000000\"\r\n                arcLabelsTextColor=\"white\"\r\n                innerRadius={innerRadius}\r\n                padAngle={0.7}\r\n                cornerRadius={3}\r\n                activeOuterRadiusOffset={2}\r\n                margin={{ top: 15, right: 15, bottom: 15, left: 15 }}\r\n                layers={['arcs', 'arcLabels', 'arcLinkLabels', 'legends', (innerText ? CenteredMetric : null)]}\r\n                // legends={[\r\n                //     {\r\n                //         anchor: 'right',\r\n                //         direction: 'column',\r\n                //         translateY: 0,\r\n                //         // translateX: 100,\r\n                //         itemWidth: 100,\r\n                //         itemHeight: 18,\r\n                //         itemTextColor: '#999',\r\n                //         symbolSize: 18,\r\n                //         symbolShape: 'circle'\r\n                //     }\r\n                // ]}\r\n                // margin={{bottom: 25,}}\r\n                enableArcLabels={false}\r\n                // arcLabel={d => `${Math.round((d.value/total())*10000)/100}%`}\r\n                arcLabel={d => `${format(d.value)}`}\r\n                enableArcLinkLabels={false}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PieChart;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport PieChart from '../util/gr√°ficas/PieChart';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst DetallesPregunta = (props) => {\r\n    // const id = \"igwDVTQR3LedpGldpPe8\";\r\n    // console.log(\"Esto es ID\", id)\r\n    //Esto puede servir de filtro para la b√∫squeda de preguntas\r\n    // if (!auth.uid) return <Redirect to=\"/signin\" />\r\n    const { pregunta, lang } = props\r\n    // const bText = require('../../config/language');\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    var count = {\r\n        yes: 0,\r\n        no: 0\r\n    }\r\n\r\n    pregunta.respuestas.forEach(res => {\r\n        if (res.respuesta === \"S√≠\") {\r\n            count.yes += 1;\r\n        } else if (res.respuesta === \"No\") {\r\n            count.no += 1;\r\n        }\r\n    });\r\n\r\n    count = [\r\n        { id: \"no\", label: \"no\", value: count[\"no\"] },\r\n        { id: \"yes\", label: \"yes\", value: count[\"yes\"] }\r\n    ]\r\n\r\n    const actualText = ((count[0][\"value\"] + count[1][\"value\"]) !== 0) ? (\r\n        Math.round((count[0][\"value\"]/(count[0][\"value\"] + count[1][\"value\"]))*100)\r\n    ) : (0);\r\n\r\n    console.log(\"--->\", count)\r\n\r\n    const justificaciones = pregunta.respuestas.map(pregunta => {\r\n        return (\r\n            <DialogContentText>{pregunta.justificacion}</DialogContentText>\r\n        )\r\n    })\r\n\r\n    const categoria = {\r\n        1: \"A\",\r\n        2: \"B\",\r\n        3: \"C\",\r\n        4: \"D\",\r\n    }\r\n\r\n    const reaction = (lang) ? ([\r\n        bText[lang].preguntas.crearPregunta.fix,\r\n        bText[lang].preguntas.crearPregunta.contramedidas_temporales,\r\n        bText[lang].preguntas.crearPregunta.parar_produccion,\r\n    ]) : ([\r\n        \"###\", \"###\", \"###\",\r\n    ]);\r\n\r\n    // console.log(\"Esto son la respuestas:\", justificaciones)\r\n    // const pregunta = {}\r\n    // const preguntaRespuestas = [] //Array de diccionarios\r\n    // console.log(\"count:\", open)\r\n    // { console.log(\"login pregunta --> DePre\", pregunta) }\r\n    if (pregunta.createdAt) {\r\n        return (\r\n            <div className=\"new-class\">\r\n                <div className=\"tarjeta-pregunta\">\r\n                    <div className=\"arroz-chino only2row\">\r\n                        <div className=\"new-class new-class-2\">\r\n                            {/* {console.log(\"This is pregunta\", pregunta)} */}\r\n                            <p className=\"card-title\"><b>{pregunta[lang]}</b></p>\r\n                            <p className=\"card-title justify-text \"><b>{bText[lang].preguntas.detallesPregunta.descripcion}: </b>{pregunta.description}</p>\r\n                            <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.categoria}: </b>{categoria[pregunta.category]}</p>\r\n                            <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.plan_reaccion}: </b>{reaction[pregunta.reaction_plan]}</p>\r\n                            {/* <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.creado_por}: </b>{pregunta.createdBy}</p>\r\n                            <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.creado}: </b>{moment(pregunta.createdAt.toDate()).fromNow()}</p> */}\r\n                        </div>\r\n                        <div className=\"new-parent\">\r\n                            <div className=\"graph-align\">\r\n                                <PieChart data={count ? count : []} radius={0.5} innerText={actualText + \"%\"}/>\r\n                            </div>\r\n                            <div className=\"new-class-3\">\r\n\r\n                                    <button className=\"aceptar responder\" onClick={handleClickOpen}>{bText[lang].preguntas.detallesPregunta.ver_respuestas}</button>\r\n\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <Dialog\r\n                    open={open}\r\n                    TransitionComponent={Transition}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-slide-title\">{\"Justificaciones a esta pregunta\"}</DialogTitle>\r\n                    <DialogContent>\r\n                        {justificaciones}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleClose} color=\"primary\">\r\n                            Aceptar\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"container center\">\r\n                <p>Cargando...</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // const id = ownProps.match.params.id;\r\n    // const preguntas = state.firestore.data.preguntas;\r\n    // const pregunta = preguntas ? preguntas[id] : null;\r\n    return {\r\n        // pregunta: pregunta,\r\n        auth: state.firebase.auth,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        { collection: \"preguntas\" }\r\n    ])\r\n)(DetallesPregunta)","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {firestoreConnect} from 'react-redux-firebase'\r\nimport {compose} from 'redux'\r\nimport moment from 'moment'\r\nimport { Redirect } from 'react-router';\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nconst DetallesAuditoria = (props) => {\r\n    const {auditoria, auth, lang} = props\r\n    // const bText = require('../../config/language');\r\n    if (!lang) return null;\r\n    // Se tienen que generar las preguntas en base al arr[] de ID's, \r\n    // esto deber√≠a estar en auditoria.preguntas\r\n\r\n    //Esto puede servir de filtro para la b√∫squeda de preguntas\r\n    if (!auth.uid) return <Redirect to=\"/signin\" />\r\n    \r\n    if (auditoria) {\r\n        return (\r\n            <div className=\"container\">\r\n                {/* {console.log(\"listo\", text, lang)} */}\r\n                <div className=\"section\">\r\n                    <div className=\"card x-depth-0\" key={auditoria.id}>\r\n                        <div className=\"card-content grey-text text-darken-3\">\r\n                            <span className=\"card-title\">{auditoria.auditoria}</span>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.auditor}: {auditoria.auditor}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.descripcion}: {auditoria.description}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.plan_reaccion}: {auditoria.reaction_plan}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.creada_por}: {auditoria.createdBy}, {moment(auditoria.createdAt.toDate()).locale(bText[lang].locale).fromNow()}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.fecha_inicio}: {moment(auditoria.fecha_inicio.toDate()).locale(bText[lang].locale).fromNow()}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.fecha_finalizacion}: {moment(auditoria.fecha_fin.toDate()).locale(bText[lang].locale).fromNow()}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.preguntas}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"container center\">\r\n            {console.log(\"cargando\", bText, lang)}\r\n                {(bText[lang]) ? <p>{bText[lang].cargando}</p> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const id = ownProps.match.params.id;\r\n    const auditorias = state.firestore.data.auditorias;\r\n    const auditoria = auditorias ? auditorias[id] : null;\r\n    return {\r\n        auditoria: auditoria,\r\n        lang: state.firebase.profile.lang,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        {collection: \"auditorias\"}\r\n    ])\r\n)(DetallesAuditoria)","import React, { Component } from \"react\";\r\nimport {\r\n  createAuditoria,\r\n  preguntasAuditoria,\r\n  getAuditoria,\r\n} from \"../../store/actions/auditoriaActions\";\r\nimport { respuestaPregunta } from \"../../store/actions/preguntaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n//import DatePicker from 'react-datepicker/dist/react-datepicker'\r\nimport { bText } from \"../../config/language\";\r\n\r\n//Esta madre no sirve, ad√°ptenlo\r\nimport QrReader from 'react-qr-scanner'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nclass ResponderAuditoria extends Component {\r\n\r\n  // state = {\r\n  //   password: \"<NOPASS>\",\r\n  //   pass:\"\",\r\n  //   preguntas: [],\r\n  //   auditoria: \"\",\r\n  //   area: \"\",\r\n  //   _mounted: false,\r\n  // };\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      delay: 100,\r\n      result: 'No result',\r\n      password: \"<NOPASS>\",\r\n      pass: \"\",\r\n      preguntas: [],\r\n      auditoria: \"\",\r\n      area: \"\",\r\n      _mounted: false,\r\n    }\r\n\r\n    this.handleScan = this.handleScan.bind(this)\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    // console.log(\"this is E\", e)\r\n\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const key = Object.keys(this.state);\r\n    // console.log(key)\r\n\r\n    // Quiero crear un arr de objetos tal que as√≠:\r\n    // [{id: ###, justification:######, respuesta:##}]\r\n\r\n    //const keyCeption = key\r\n    const validKN = [\"just-\", \"resp-\"];\r\n    var keys = {};\r\n\r\n    for (let k of key) {\r\n      var header_base = k.substring(5, 25);\r\n      // console.log(header.length)\r\n      if (header_base.length === 20) {\r\n        keys[header_base] = true;\r\n      }\r\n    }\r\n\r\n    keys = Object.keys(keys);\r\n    var results = [];\r\n    for (let ks of keys) {\r\n      //ks es la ID\r\n      var dict = { pregunta: ks, auditoria: this.props.match.params.id, area: this.state.area };\r\n      dict[\"auditoria_pregunta\"] = this.props.match.params.id + \"_\" + ks;\r\n      // var id, just, resp;\r\n      for (let k of key) {\r\n        var header = k.substring(0, 5);\r\n        var cont = k.substring(5, 25);\r\n        // Esto es para poder hacer b√∫squedas, firebase es moleto para filtrar\r\n        // console.log(\"pre-if\", validKN.includes(header), header)\r\n        // console.log(\"pre-if-2\", cont === ks, cont, ks)\r\n        if (validKN.includes(header) && cont === ks) {\r\n          if (header === \"just-\") {\r\n            dict[\"justificacion\"] = this.state[k];\r\n          } else {\r\n            dict[\"respuesta\"] = this.state[k];\r\n          }\r\n\r\n          // console.log(\"this is dict-header\", dict[header])\r\n        }\r\n      }\r\n      results.push(dict);\r\n    }\r\n\r\n    // console.log(results)\r\n\r\n    // if (validKN.includes(header)) {\r\n\r\n    // }\r\n    // console.log(\"Props:\", this.props)\r\n    this.props.respuestaPregunta(results);\r\n    this.props.history.push(\"/\"); //Esto se cambiar√° seg√∫n el contexto\r\n  };\r\n  componentDidMount() {\r\n    console.log(\"Mounted!\");\r\n    // this._ismounted = true\r\n    const id = this.props.match.params.id;\r\n    // this.setState({\r\n    //     auditoria: id,\r\n    // })\r\n\r\n    this.props.getAuditoria(id).then((res) => {\r\n      this.setState({\r\n        area: res.area,\r\n        pass: res.password,\r\n      })\r\n    })\r\n\r\n    this.props.preguntasAuditoria({ id: id }).then((res) => {\r\n      this.setState(\r\n        {\r\n          preguntas: res.filter((r) => r),\r\n          auditoria: id,\r\n          _mounted: true,\r\n        },\r\n        console.log(\"Updated!\")\r\n      );\r\n    });\r\n  }\r\n  Seguro = (e) => {\r\n    // const bText = require(\"../../config/language\");\r\n    const { lang } = this.props\r\n    // console.log(this.cantSend())\r\n    // if (this.cantSend()) return null;\r\n    // console.log(e)\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: bText[lang].swal.title,\r\n      showDenyButton: true,\r\n      showConfirmButton: true,\r\n      denyButtonText: bText[lang].swal.cancel,\r\n      confirmButtonText: bText[lang].swal.save,\r\n    }).then((result) => {\r\n      //  Read more about isConfirmed, isDenied below\r\n      if (result.isConfirmed) {\r\n        this.handleSubmit(e);\r\n        Swal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n      } else if (result.isDenied) {\r\n        Swal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n      }\r\n    });\r\n  };\r\n\r\n  handleScan(data) {\r\n    if (data !== null) {\r\n      this.setState({\r\n        password: data.text,\r\n      })\r\n    }\r\n    \r\n  }\r\n  handleError(err) {\r\n    console.error(err)\r\n  }\r\n\r\n  render() {\r\n    const { auth, proceed, lang } = this.props;\r\n    // const bText = require(\"../../config/language\");\r\n\r\n    // console.log(\"Status\", this.state)\r\n    // console.log(this.props)\r\n    if (!auth.uid) return <Redirect to=\"/signin\" />;\r\n    if (!lang) return null;\r\n    \r\n    // console.log(\"Mounted?\", this.state._mounted, \"Proceed?\", !proceed)\r\n    if (this.state._mounted && !proceed) return <Redirect to=\"/\" />;\r\n\r\n    // console.log(\"Password: \", this.state.password)\r\n    // console.log(\"Pass: \", this.state.pass)\r\n\r\n    //Se tiene que buscar preguntas por ID,\r\n    // estas ID est√°n en auditorias.preguntas en un array\r\n\r\n    // const pregID = preguntasID.preguntas\r\n    // console.log(pregID)\r\n    //const pre = this.props.preguntasAuditoria({ id: id })\r\n\r\n    //Esto ya sirve pero se buclea\r\n    // const id = this.props.match.params.id\r\n\r\n    // const pregID = this.props.preguntasAuditoria({ id: id }).then((res) => {\r\n    //     this.setState({\r\n    //         preguntas: res\r\n    //     })\r\n    // })\r\n    // console.log(\"estas son las preguntas\", this.state.preguntas)\r\n    if (this.state.pass !== this.state.password) {\r\n      // const previewStyle = {\r\n      //   height: 150,\r\n      //   width: 250,\r\n      // }\r\n\r\n      const previewStyle = {\r\n        // height: 173,\r\n        width: \"90%\",\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          <div className=\"padre-titulo mobile\">\r\n            <div className=\"titulo destroy-on-mobile\">\r\n              <Volver />\r\n            </div>\r\n            <div className=\"titulo\">\r\n              <h2>{bText[lang].auditorias.responderAuditoria.scan_qr}</h2>\r\n            </div>\r\n            <div className=\"titulo\">\r\n\r\n            </div>\r\n          </div>\r\n          \r\n          <center>\r\n            <QrReader\r\n              delay={this.state.delay}\r\n              style={previewStyle}\r\n              onError={this.handleError}\r\n              onScan={this.handleScan}\r\n              facingMode={\"rear\"}\r\n            />\r\n          </center>\r\n          \r\n        </div>\r\n        \r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"\">\r\n        <div className=\"test\">\r\n          {/* {pregID && pregID.map(pregunta => { \r\n                        console.log(pregunta)\r\n                        return <p>{pregunta}</p>})} */}\r\n        </div>\r\n        <div className=\"card x-depth-0\">\r\n          <div className=\"padre-titulo mobile\">\r\n            <div className=\"titulo destroy-on-mobile\">\r\n                <Volver/>\r\n            </div>\r\n            <div className=\"titulo\">\r\n                <h2>{bText[lang].auditorias.responderAuditoria.responder_auditoria}</h2>\r\n            </div>\r\n            <div className=\"titulo\">\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <form className=\"white section\" onSubmit={this.Seguro}>\r\n            \r\n            {/* Esto se puede convertir a un operador ? : para que muestre un cargando o algo as√≠ */}\r\n            {/* {console.log(\"esto es preguntaSSS\", this.state.preguntas)} */}\r\n\r\n            {/* Ponganle una animaci√≥n al height para que en el momento que cargue vaya de 0% a 100%*/}\r\n            {this.state.preguntas &&\r\n              this.state.preguntas.map((pregunta) => {\r\n                return (\r\n                  <div className=\"form-1 extra-padding-form\" key={pregunta.id}>\r\n                    {/* card x-depth-0 para ver los limites f√°cilmente*/}\r\n                    {/* <FormControl className=\"width100\" component=\"fieldset\"> */}\r\n                      {/* {console.log(\"antes de que truene, esto es pregunta\", pregunta)} */}\r\n                      <FormLabel\r\n                        className=\"legend-pregunta grey-text text-darken-3\"\r\n                        component=\"legend\"\r\n                      >\r\n                        <h3>{pregunta[lang]}</h3>\r\n                      </FormLabel>\r\n                      <div className=\"campos extra-margin\">\r\n                        \r\n                        {/* {console.log(\"Este es un intento: \", \"radio-\" + pregunta.id)} */}\r\n                        <RadioGroup\r\n                          className=\"radio-group\"\r\n                          row\r\n                          aria-label=\"gender\"\r\n                          name={\"resp-\" + pregunta.id}\r\n                          onChange={this.handleChange}\r\n                        >\r\n                          <FormControlLabel\r\n                            className=\"radio-button grey-text text-darken-3\"\r\n                            value=\"S√≠\"\r\n                            control={<Radio />}\r\n                            label={bText[lang].auditorias.responderAuditoria.si}\r\n                          />\r\n                          <FormControlLabel\r\n                            className=\"radio-button grey-text text-darken-3\"\r\n                            value=\"No\"\r\n                            control={<Radio />}\r\n                            label={bText[lang].auditorias.responderAuditoria.no}\r\n                          />\r\n                        </RadioGroup>\r\n\r\n                        {(this.state[\"resp-\" + pregunta.id]) ? (\r\n                          ((this.state[\"resp-\" + pregunta.id]) === \"No\") ? (\r\n                            <TextField\r\n                              label={\r\n                                bText[lang].auditorias.responderAuditoria\r\n                                  .justificacion\r\n                              }\r\n                              className=\"label70\"\r\n                              name={\"just-\" + pregunta.id}\r\n                              onChange={this.handleChange}\r\n                            />\r\n                          ) : null\r\n                          \r\n                        ) : null}\r\n\r\n                        \r\n                      </div>\r\n                    {/* </FormControl> */}\r\n                  </div>\r\n                );\r\n              })}\r\n            <div className=\"center-box\">\r\n              <button\r\n                id=\"Enviar\"\r\n                className=\"aceptar\"\r\n              >\r\n                {bText[lang].auditorias.responderAuditoria.enviar}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n    lang: state.firebase.profile.lang,\r\n    proceed:\r\n      (state.firestore.ordered.respuestas &&\r\n        state.firestore.ordered.respuestas.filter(\r\n          (res) =>\r\n            res.answeredById === state.firebase.auth.uid &&\r\n            res.auditoria === ownProps.match.params.id\r\n        ).length) > 0\r\n        ? false\r\n        : true,\r\n    preguntas: state.firestore.ordered.preguntas,\r\n  };\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    createAuditoria: (auditoria) => dispatch(createAuditoria(auditoria)),\r\n    preguntasAuditoria: (auditoria) => dispatch(preguntasAuditoria(auditoria)),\r\n    respuestaPregunta: (pregunta) => dispatch(respuestaPregunta(pregunta)),\r\n    getAuditoria: (id) => dispatch(getAuditoria(id)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchtoProps),\r\n  firestoreConnect([\r\n    { collection: \"respuestas\", orderBy: [\"answeredAt\", \"asc\"] },\r\n  ])\r\n)(ResponderAuditoria);\r\n","import React, { Component } from 'react'\r\nimport { preguntasAuditoriaVoting } from '../../store/actions/auditoriaActions'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { compose } from 'redux'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport DetallesPregunta from './DetallesPregunta';\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass DetallesPreguntasAuditoria extends Component {\r\n    state = {\r\n        preguntas: [], // A√±adir el pCount a esto con un map\r\n        auditoria: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id\r\n        this.setState({\r\n            auditoria: id\r\n        })\r\n\r\n        this.props.preguntasAuditoriaVoting({ id: id }).then((res) => {\r\n            this.setState({\r\n                preguntas: res\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        const { auth, lang } = this.props;\r\n        // const bText = require('../../config/language');\r\n        \r\n\r\n        // console.log(this.props)\r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\" />\r\n        if (!lang) return null;\r\n        \r\n        return (\r\n            <div className=\"\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"\">\r\n                            {bText[lang].preguntas.detallesPreguntasAuditoria.respuestas_auditoria}\r\n                        </h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"\">\r\n                    <div className=\"\">\r\n                        {this.state.preguntas && this.state.preguntas.map(pregunta => {\r\n                            return (\r\n                                <div className=\"\" key={pregunta.id}>\r\n                                    {/* {console.log(\"login pregunta\", pregunta)} */}\r\n                                    <DetallesPregunta pregunta={pregunta} lang={lang}/>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log(state)\r\n    return {\r\n        auth: state.firebase.auth,\r\n        lang: state.firebase.profile.lang,\r\n        // preguntas: state.firestore.ordered.preguntas,\r\n    }\r\n}\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        // createAuditoria: (auditoria) => dispatch(createAuditoria(auditoria)),\r\n        preguntasAuditoriaVoting: (auditoria) => dispatch(preguntasAuditoriaVoting(auditoria)),\r\n        // respuestaPregunta: (pregunta) => dispatch(respuestaPregunta(pregunta))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchtoProps),\r\n    // firestoreConnect([{ collection: \"preguntas\", orderBy: [\"createdAt\", \"asc\"] }])\r\n)(DetallesPreguntasAuditoria)","import React, { Component } from \"react\";\r\nimport { editPregunta, getPregunta } from \"../../store/actions/preguntaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass EditarPregunta extends Component {\r\n  state = {\r\n    category: 4,\r\n    description: \"\",\r\n    reaction_plan: \"\",\r\n    english: \"\",\r\n    spanish: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n  handleChangeSelect = (e) => {\r\n    // console.log(e)\r\n    this.setState({\r\n      category: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(\"se supone que se envi√≥\", this.state)\r\n    this.props.editPregunta(this.props.match.params.id, this.state);\r\n    this.props.history.push(\"/preguntas\"); //Esto se cambiar√° seg√∫n el contexto\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    const id = this.props.match.params.id;\r\n    this.props.getPregunta(id).then((res) => {\r\n      // console.log(\"RES is working\", res)\r\n      this.setState({\r\n        category: res.category,\r\n        description: res.description,\r\n        reaction_plan: res.reaction_plan,\r\n        english: res.english,\r\n        spanish: res.spanish,\r\n      });\r\n      // console.log(\"This is Res\", res)\r\n    });\r\n    // console.log(\"Falta que el texto de los inputs se cambie a lo del state\", this.state)\r\n    //Checa el state en la consola, no sale nada\r\n  }\r\n  Seguro = (e) => {\r\n    // console.log(e)\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: \"Do you want to save the changes?\",\r\n      showDenyButton: true,\r\n      showCancelButton: false,\r\n      confirmButtonText: \"Save\",\r\n      denyButtonText: \"Don't save\",\r\n    }).then((result) => {\r\n      //  Read more about isConfirmed, isDenied below\r\n      if (result.isConfirmed) {\r\n        this.handleSubmit(e);\r\n        Swal.fire(\"Saved!\", \"\", \"success\");\r\n      } else if (result.isDenied) {\r\n        Swal.fire(\"Changes are not saved\", \"\", \"info\");\r\n      }\r\n    });\r\n  };\r\n\r\n  \r\n\thandleChangeSelectRP = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\treaction_plan: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\r\n  render() {\r\n    // console.log(this.state)\r\n    const { auth, lang } = this.props;\r\n    // const bText = require(\"../../config/language\");\r\n\r\n    if (!auth.uid) return <Redirect to=\"/signin\" />;\r\n    if (!lang) return null;\r\n\r\n    \r\n\r\n    return (\r\n      <div>\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where=\"/preguntas\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"titulo\">\r\n\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.editar_pregunta}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-1\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<form className=\"\" onSubmit={this.Seguro}>\r\n\t\t\t\t\t\t\t<div className=\"form-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n                    type=\"text\"\r\n                    id=\"english\"\r\n                    value={this.state.english}\r\n                    placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [EN]\"}\r\n                    onChange={this.handleChange}\r\n                  />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n                    type=\"text\"\r\n                    id=\"spanish\"\r\n                    value={this.state.spanish}\r\n                    placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [ES]\"}\r\n                    onChange={this.handleChange}\r\n                  />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n                    type=\"text\"\r\n                    id=\"description\"\r\n                    value={this.state.description}\r\n                    placeholder={bText[lang].preguntas.crearPregunta.descripcion}\r\n                    onChange={this.handleChange}\r\n                  />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"reaction_plan\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.reaction_plan}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectRP}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.plan_reaccion}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={0}>{bText[lang].preguntas.crearPregunta.fix}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>{bText[lang].preguntas.crearPregunta.contramedidas_temporales}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>{bText[lang].preguntas.crearPregunta.parar_produccion}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"footer-single-flex\">\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"select-level\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.categoria}\r\n\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-level\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"level\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: `${100}px`}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>A</MenuItem>\r\n                      <MenuItem value={3}>B</MenuItem>\r\n                      <MenuItem value={2}>C</MenuItem>\r\n                      <MenuItem value={1}>D</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-single\">\r\n\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.editar}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n    lang: state.firebase.profile.lang,\r\n  };\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    editPregunta: (id, pregunta) => dispatch(editPregunta(id, pregunta)),\r\n    getPregunta: (id) => dispatch(getPregunta(id)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(EditarPregunta);\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { connect } from 'react-redux'\r\nimport firebase from 'firebase'\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nrequire('firebase/auth')\r\n\r\nclass ChangePassword extends Component {\r\n\r\n    reauthenticate = (currentPassword) => {\r\n        var user = firebase.auth().currentUser;\r\n        var cred = firebase.auth.EmailAuthProvider.credential(\r\n            user.email, currentPassword);\r\n        return user.reauthenticateWithCredential(cred);\r\n    }\r\n    changePassword = (currentPassword, newPassword) => {\r\n        // Y no olvides el CSV\r\n        // https://www.npmjs.com/package/react-csv-reader\r\n        // https://www.npmjs.com/package/react-csv\r\n        const bText = require(\"../../config/language\");\r\n        const { lang } = this.props\r\n\r\n        this.reauthenticate(currentPassword)\r\n            .then(() => {\r\n                var user = firebase.auth().currentUser;\r\n                user.updatePassword(newPassword).then(() => {\r\n                    console.log(\"Password updated!\");\r\n                    this.props.history.push('/')\r\n                    Swal.fire(bText[lang].swal.saved)\r\n                }).catch((error) => {\r\n                    console.log(error);\r\n                });\r\n            }).catch((error) => {\r\n                this.setState({\r\n                    authError: error\r\n                })\r\n            });\r\n    }\r\n    changeEmail = (currentPassword, newEmail) => {\r\n        this.reauthenticate(currentPassword).then(() => {\r\n            var user = firebase.auth().currentUser;\r\n            user.updateEmail(newEmail).then(() => {\r\n                console.log(\"Email updated!\");\r\n            }).catch((error) => { console.log(error); });\r\n        }).catch((error) => {\r\n            this.setState({\r\n                authError: error\r\n            })\r\n        });\r\n    }\r\n    handleChange = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.newPassword === this.state.newPasswordConfirm) {\r\n            // console.log(\"todo bien, bracias bro\", this.state)\r\n            this.changePassword(this.state.currentPassword, this.state.newPassword)\r\n        }\r\n        else {\r\n            // console.log(\"constrase√±as no coinciden\")\r\n            this.setState({\r\n                authError: {\r\n                    code: \"password missmatch\",\r\n                    message: \"Las contrase√±as no coinciden, c√°mbielas y pruebe otra vez\"\r\n                }\r\n            })\r\n            // console.log(\"se tir√≥ un error\", this.state.authError)\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            currentPassword: \"\",\r\n            newPassword: \"\",\r\n            newPasswordConfirm: \"\",\r\n            authError: null\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { auth, lang } = this.props\r\n        // const bText = require('../../config/language');\r\n        if (!auth.uid) return <Redirect to=\"/signin\" />\r\n\r\n        if (!lang) return null;\r\n\r\n        // console.log(\"Rednder State\", this.state)\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where=\"/profile\"/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"titulo\">{bText[lang].auth.changePassword.cambiar_contrasena}</h2>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"form-1\">\r\n                    <div className=\"\">\r\n                        <form className=\"\" onSubmit={this.handleSubmit}>\r\n\r\n                            <div className=\"form-2\">\r\n                                <div className=\"input-field\">\r\n                                    <input \r\n                                        type=\"password\" \r\n                                        id='currentPassword' \r\n                                        name='currentPassword'\r\n                                        placeholder={bText[lang].auth.changePassword.contrasena_actual}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id='newPassword'\r\n                                        name='newPassword'\r\n                                        placeholder={bText[lang].auth.changePassword.contrasena_nueva}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id='newPasswordConfirm'\r\n                                        name='newPasswordConfirm'\r\n                                        placeholder={bText[lang].auth.changePassword.repite_contrasena}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div className=\"footer\">\r\n                    <div className=\"center-box\">\r\n                        <button className=\"cancelar\" onClick={() => {\r\n                            this.props.history.push(\"/profile\")\r\n                        }}>\r\n                            {bText[lang].auth.changePassword.cancelar}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"center-box\">\r\n                        <button className=\"aceptar\" onClick={this.handleSubmit}>\r\n                            {bText[lang].auth.changePassword.aceptar}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"footer-single\">\r\n                    {this.state.authError ? <p>{this.state.authError.message}</p> : null}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(ChangePassword)","import React, { Component } from 'react'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { editIdioma } from '../../store/actions/idiomaActions'\r\n\r\nclass CambiarIdioma extends Component {\r\n    // const {lang} = props\r\n    state = {\r\n        lang: this.props.lang\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            lang: event.target.value\r\n        }, \r\n        this.props.editIdioma(this.props.auth.uid, event.target.value));\r\n    };\r\n\r\n    render() {\r\n        // console.log(this.props)\r\n        return (\r\n            <Select\r\n                labelId=\"select-filter\"\r\n                id=\"filter\"\r\n                value={this.state.lang}\r\n                onChange={this.handleChange}\r\n                style={{marginLeft: `${10}px`}}\r\n            >\r\n                <MenuItem value={\"english\"}>English</MenuItem>\r\n                <MenuItem value={\"spanish\"}>Espa√±ol</MenuItem>\r\n            </Select>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        lang: state.firebase.profile.lang,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        editIdioma: (uid, idioma) => dispatch(editIdioma(uid, idioma)),\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchtoProps)(CambiarIdioma))","export const editIdioma = (uid, idioma) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        // console.log(\"UID-IDIOMA:\", uid, idioma)\r\n\r\n        firestore.collection(\"users\").doc(uid).update({\r\n            lang: idioma\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_IDIOMA\" }, idioma)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"EDIT_IDIOMA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Redirect } from 'react-router'\r\n\r\nimport { directions } from \"../../config/config\"\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport CambiarIdioma from './CambiarIdioma'\r\nimport Volver from '../util/Volver'\r\n\r\n\r\nclass Profile extends Component {\r\n    render() {\r\n        const {userLevel, lang, auth} = this.props\r\n        // const bText = require(\"../../config/language\");\r\n        const { path } = directions\r\n        // console.log(\"This is profile:\", profile)\r\n        if (!auth.uid) return <Redirect to=\"/signin\"/>\r\n\r\n        if (!lang) return null;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"box\">\r\n                    <div className=\"padre-titulo mobile\">\r\n                        <div className=\"titulo destroy-on-mobile\">\r\n                            <Volver/>\r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <h2>{bText[lang].opciones.opciones}</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"\">\r\n                        <div className=\"\">\r\n                            \r\n                            {(userLevel === 0) ? (\r\n                                <div className=\"extra-margin\">\r\n                                        <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                            to=\"/procesos\">{bText[lang].opciones.procesos}\r\n                                        </Link>\r\n\r\n                                        <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                            to={path.preguntas}>{bText[lang].opciones.preguntas}\r\n                                        </Link>\r\n                                        \r\n                                        <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                            to={path.sign_up}>{bText[lang].opciones.registrar_auditor}\r\n                                        </Link>\r\n\r\n                                        {/* <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\" \r\n                                            to=\"/crear-area\">{bText[lang].area_proceso.crear_area}\r\n                                        </Link> */}\r\n\r\n                                        \r\n\r\n                                        {/* <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                        to=\"/areas\">{bText[lang].opciones.areas}\r\n                                        </Link> */}\r\n                                </div>\r\n                                \r\n                            ) : null}\r\n\r\n                            <Link\r\n                                className=\"form-1 overwrite-margin center-box default-height\"\r\n                                to={path.change_password}>{bText[lang].opciones.cambiar_contrasena}\r\n                            </Link>\r\n\r\n                            <div className=\"form-1 overwrite-margin center-box default-height\">\r\n                                {bText[lang].opciones.idioma + \":\"} <CambiarIdioma />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        // profile: state.firebase.profile,\r\n        lang: state.firebase.profile.lang,\r\n        userLevel: state.firebase.profile.userLevel,\r\n        auth: state.firebase.auth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import React, { Component } from 'react'\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport { createArea, editArea, getArea } from \"../../store/actions/areaActions\";\r\n\r\nimport {bText} from \"../../config/language\";\r\n// import { directions } from \"../../config/config\"\r\n\r\nclass Area extends Component {\r\n\r\n    state = {\r\n\t\tproceso: \"\",\r\n\t\turgencia: \"\",\r\n\t\tarea: \"\",\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tvar whereToGo = (this.props.match.params.proceso) ? \"/areas/\" + this.props.match.params.proceso : \"/profile\";\r\n\r\n\t\tconst id = this.props.match.params.id\r\n\r\n\t\twhereToGo = (id) ? \"/areas/\" + this.state.proceso : whereToGo;\r\n\r\n\t\tthis.props.history.push(whereToGo);\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tvar whereToGo = (this.props.match.params.proceso) ? \"/areas/\" + this.props.match.params.proceso : \"/profile\";\r\n\t\t\t\t\r\n\t\tconst id = this.props.match.params.id\r\n\r\n\t\twhereToGo = (id) ? \"/areas/\" + this.state.proceso : whereToGo;\r\n\r\n\t\tif (!id) {\r\n\t\t\tthis.props.createArea(this.state)\r\n\t\t} else {\r\n\t\t\tthis.props.editArea(id, this.state)\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.history.push(whereToGo); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectProceso = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tproceso: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectUrgencia = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\turgencia: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tSeguro = (e) => {\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Do you want to save the changes?\",\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowCancelButton: false,\r\n\t\t\tconfirmButtonText: \"Save\",\r\n\t\t\tdenyButtonText: \"Don't save\",\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(\"Saved!\", \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(\"Changes are not saved\", \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.match.params.proceso) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tproceso: this.props.match.params.proceso,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst id = this.props.match.params.id\r\n\r\n\t\t\tif (!id) return null;\r\n\r\n\t\t\tthis.props.getArea(id).then((res) => {\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\tthis.setState({...res})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n    render() {\r\n\t\t// var { path, pathName } = require(\"../../config/config\");\r\n\t\t// const bText = require();\r\n\t\tconst { auth, userLevel, lang, procesos } = this.props;\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\t\tif (userLevel !== 0) return <Redirect to=\"/\" />;\r\n\r\n\t\t// const tipo = this.props.match.params.tipo\r\n\r\n\t\t// console.log(this.props.match)\r\n\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? \"/areas/\" + this.props.match.params.proceso : \"/profile\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where={whereToGo}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"\">\r\n\t\t\t\t\t\t\t{/* {text[lang].auditorias.crearAuditoria.crear_auditoria} */}\r\n\t\t\t\t\t\t\t{bText[lang].area_proceso.crear} {bText[lang].area_proceso.area}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n                <div className=\"form-1\">\r\n                    <div className=\"\">\r\n                        <form className=\"\" onSubmit={this.Seguro}>\r\n                            \r\n                            <div className=\"form-2\">\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"area\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.area}\r\n                                        placeholder={bText[lang].area_proceso.Area}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t{/* <span className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"urgencia\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.urgencia}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectUrgencia}\r\n\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.urgencia}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={0}>{bText[lang].area_proceso.regular}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>{bText[lang].area_proceso.media}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>{bText[lang].area_proceso.prioridad}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>{bText[lang].area_proceso.alta_prioridad}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t{/* <span className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"filter\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.proceso}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectProceso}\r\n\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t{procesos && procesos.map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={p.id} value={p.id}>{p.proceso}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t{/* <MenuItem value={\"english\"}>English</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"spanish\"}>Espa√±ol</MenuItem> */}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"cancelar\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t\t\t{bText[lang].area_proceso.crear_area}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\t// createProceso: (proceso) => dispatch(createProceso(proceso)),\r\n\t\tcreateArea: (area) => dispatch(createArea(area)),\r\n\t\teditArea: (id, area) => dispatch(editArea(id, area)),\r\n\t\tgetArea: (id) => dispatch(getArea(id)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"procesos\" }, { collection: \"areas\" }])\r\n)(Area);\r\n\r\n// export default connect(mapStateToProps, mapDispatchtoProps)(AreaProceso)","export const createArea = (area) => {\r\n    return (dispatch, getState, { getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        firestore.collection('areas').add({\r\n            ...area,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({ type: 'CREATE_AREA_SUCCESS' });\r\n        }).catch(err => {\r\n            dispatch({ type: 'CREATE_AREA_ERROR' }, err);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const editArea = (id, area) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        // console.log(\"Llegamos tan lejos?\")\r\n\r\n        firestore.collection(\"areas\").doc(id).update({\r\n            ...area,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_AREA\" }, area)\r\n        }).catch((err) => {\r\n            console.log(\"Fall√≥\")\r\n            dispatch({ type: \"EDIT_AREA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const deleteArea = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        firestore.collection(\"areas\").doc(id).delete()\r\n    }\r\n}\r\n\r\nexport const getArea = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"areas\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport { createProceso, getProceso, editProceso } from \"../../store/actions/procesoActions\";\r\nimport { bText } from \"../../config/language\";\r\n// import { createArea } from \"../../store/actions/areaActions\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass Proceso extends Component {\r\n\r\n    state = {\r\n\t\tproceso: \"\",\r\n\t\tpreguntas: [],\r\n\t\topenB: false,\r\n\t\tvalueB: \"\",\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.props.history.push(\"/profile\");\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst id = this.props.match.params.id\r\n\r\n\t\tconst proceso = {\r\n\t\t\tproceso: this.state.proceso,\r\n\t\t\tpreguntas: this.state.preguntas.map((pre) => {\r\n\t\t\t\treturn pre.id;\r\n\t\t\t}),\r\n\t\t\tminCategory: Math.max(\r\n\t\t\t\t...this.state.preguntas.map((pre) => {\r\n\t\t\t\t\treturn pre.category;\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t}\r\n\t\t\r\n\t\tif (!id) {\r\n\t\t\tthis.props.createProceso(proceso)\r\n\t\t} else {\r\n\t\t\t// console.log(\"Si llegamos a esto\", id, proceso)\r\n\t\t\tthis.props.editProceso(id, proceso)\r\n\t\t}\r\n\t\t// console.log(\"Pasa por es submit\", this.state)\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\tthis.props.history.push(\"/procesos\"); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectProceso = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tproceso: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeAutocomplete = (e, newValue) => {\r\n\t\t// console.log(\"This is E and nV\", e, newValue)\r\n\t\t//Tengo que conseguir el ID\r\n\t\tthis.setState({\r\n\t\t\tvalueB: newValue,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectUrgencia = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\turgencia: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.props.history.push(\"/procesos\");\r\n\t};\r\n\thandleDelete = (id) => {\r\n\t\tconst newPreguntas = this.state.preguntas.filter(\r\n\t\t\t(pregunta) => pregunta.id !== id\r\n\t\t);\r\n\t\tthis.setState({\r\n\t\t\tpreguntas: newPreguntas,\r\n\t\t});\r\n\t};\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: false,\r\n\t\t});\r\n\t};\r\n\r\n\tcantSend = () => {\r\n\t\treturn !(this.state.preguntas && (this.state.preguntas.length >= 5) && (this.state.preguntas.length <= 15));\r\n\t}\r\n\r\n\thandleCloseSave = (e) => {\r\n\t\t// console.log(\"Y aqu√≠ debo de sacar una forma de registrar una pregunta nueva\", e)\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\topenB: false,\r\n\t\t\tpreguntas: [...new Set([...prevState.preguntas, this.state.valueB])],\r\n\t\t}));\r\n\t};\r\n\r\n\tSeguro = (e) => {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { lang } = this.props\r\n\t\t// console.log(this.cantSend())\r\n\t\t// if (this.cantSend()) return null;\r\n\t\tif (this.cantSend()) return null;\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowConfirmButton: true,\r\n\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst id = this.props.match.params.id\r\n\t\t\r\n\t\tif (!id) return null;\r\n\r\n\t\tthis.props.getProceso(id).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpreguntas: res.preguntas.map(id => {\r\n\t\t\t\t\treturn this.props.preguntas.find(pre => pre.id === id)\r\n\t\t\t\t}),\r\n\t\t\t\tproceso: res.proceso,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n    render() {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { auth, userLevel, lang } = this.props;\r\n\r\n\t\tconst layerName = [\"Admin\", \"D\", \"C\", \"B\", \"A\"]\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\t\tif (userLevel !== 0) return <Redirect to=\"/\" />;\r\n\r\n\t\t// console.log(this.props)\r\n\t\t// console.log(this.state)\r\n\t\treturn (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where=\"/procesos\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"\">\r\n\t\t\t\t\t\t\t{/* {text[lang].auditorias.crearAuditoria.crear_auditoria} */}\r\n\t\t\t\t\t\t\t{!this.props.match.params.id ? bText[lang].area_proceso.crear : bText[lang].area_proceso.editar} {bText[lang].area_proceso.proceso}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n                <div className=\"form-1\">\r\n                    <div className=\"\">\r\n                        <form className=\"\" onSubmit={this.Seguro}>\r\n                            \r\n                            <div className=\"form-2\">\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"proceso\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.proceso}\r\n                                        placeholder={bText[lang].area_proceso.Proceso}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<div className=\"margin-bottom\">\r\n\t\t\t\t\t\t\t{this.state.preguntas &&\r\n\t\t\t\t\t\t\t\tthis.state.preguntas.map((pregunta, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-1 overwrite-margin\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta-index\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{index + 1}.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta-main\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{pregunta[lang]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta-layer\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{layerName[pregunta.category]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nueva-pregunta-delete hover-cursor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleDelete(pregunta.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\t\topen={this.state.openB}\r\n\t\t\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\t\t\taria-labelledby=\"form-dialog-title\"\r\n\t\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.seleccionar_pregunta}\r\n\t\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.text1}\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto=\"/crear-pregunta\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"red-text\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.text2}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.text3}\r\n\t\t\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\tid=\"valueB\"\r\n\t\t\t\t\t\t\t\t\tname=\"valueB\"\r\n\t\t\t\t\t\t\t\t\toptions={this.props.preguntas}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChangeAutocomplete}\r\n\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option[lang]}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Preguntas\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.handleCloseSave} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.agregar}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"secondary\">\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"footer-single\">\r\n\t\t\t\t\t<button className=\"add-question\" onClick={this.handleClickOpen}>{bText[lang].area_proceso.agregar_pregunta}</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"cancelar\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t\t\t{bText[lang].area_proceso.crear_proceso}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t\tpreguntas: state.firestore.ordered.preguntas,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreateProceso: (proceso) => dispatch(createProceso(proceso)),\r\n\t\tgetProceso: (id) => dispatch(getProceso(id)),\r\n\t\teditProceso: (id, proceso) => dispatch(editProceso(id, proceso)),\r\n\t\t// createArea: (area) => dispatch(createArea(area)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"procesos\" }, { collection: \"preguntas\" }])\r\n)(Proceso);\r\n\r\n// export default connect(mapStateToProps, mapDispatchtoProps)(AreaProceso)","\r\nexport const createProceso = (proceso) => {\r\n    return (dispatch, getState, { getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        \r\n        // console.log(\"Pasa por actionProceso\", proceso)\r\n\r\n        firestore.collection('procesos').add({\r\n            ...proceso,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({ type: 'CREATE_PROCESO_SUCCESS' });\r\n        }).catch(err => {\r\n            dispatch({ type: 'CREATE_PROCESO_ERROR' }, err);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const editProceso = (id, proceso) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        // console.log(\"Llegamos tan lejos?\")\r\n\r\n        firestore.collection(\"procesos\").doc(id).update({\r\n            ...proceso,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_PROCESO\" }, proceso)\r\n        }).catch((err) => {\r\n            console.log(\"Fall√≥\")\r\n            dispatch({ type: \"EDIT_PROCESO_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const deleteProceso = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        firestore.collection(\"procesos\").doc(id).delete()\r\n    }\r\n}\r\n\r\nexport const getProceso = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"procesos\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\n\r\nimport TarjetaAgregarAuditoria from '../auditorias/TarjetaAgregarAuditoria'\r\nimport Volver from '../util/Volver'\r\n\r\nimport { faTrashAlt, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { deleteProceso } from \"../../store/actions/procesoActions\";\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\n\r\nclass DashboardProcesos extends Component {\r\n\r\n    render() {\r\n\r\n        const {procesos, userLevel, lang, auth} = this.props\r\n\r\n        // const bText = require(\"../../config/language\");\r\n\r\n        if (!auth.uid) return <Redirect to=\"signin\"/>\r\n\r\n        if (userLevel !== 0) return <Redirect to=\"/\"/>\r\n\r\n        if (!lang) return null;\r\n\r\n        return (\r\n            <div className=\"padre-padre-titulo\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where=\"/profile\"/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2>{bText[lang].area_proceso.procesos}</h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"arroz-chino\">\r\n                    <TarjetaAgregarAuditoria where=\"/crear-proceso\"/>\r\n                    {procesos && procesos.map(pro => {\r\n                        return (\r\n                            <div\r\n                                className=\"tarjeta-auditor√≠a\"\r\n                                key={pro.id}\r\n                            >\r\n                                <Link to={\"/areas/\" + pro.id}  className=\"tarjeta-proceso-half1\">\r\n                                    {pro.proceso.toUpperCase()}\r\n                                </Link>\r\n                                <div className=\"tarjeta-auditor√≠a-half2\">\r\n                                    <Link to={\"/crear-proceso/\" + pro.id} className=\"button\">\r\n                                        <FontAwesomeIcon icon={faEdit} />\r\n                                    </Link>\r\n                                    <div className=\"button hover-cursor\" onClick={() => {\r\n                                        Swal.fire({\r\n                                            title: bText[lang].swal.title,\r\n                                            showDenyButton: true,\r\n                                            showConfirmButton: true,\r\n                                            denyButtonText: bText[lang].swal.cancel,\r\n                                            confirmButtonText: bText[lang].swal.save,\r\n                                        }).then((result) => {\r\n                                            //  Read more about isConfirmed, isDenied below\r\n                                            if (result.isConfirmed) {\r\n                                                this.props.deleteProceso(pro.id);\r\n                                                Swal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n                                            } else if (result.isDenied) {\r\n                                                Swal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n                                            }\r\n                                        });\r\n                                        //props.deletePregunta(pregunta.id)\r\n                                    }}>\r\n                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n    )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        deleteProceso: (id) => dispatch(deleteProceso(id)),\r\n    };\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"procesos\" }])\r\n)(DashboardProcesos);","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport TarjetaAgregarAuditoria from '../auditorias/TarjetaAgregarAuditoria'\r\nimport Volver from '../util/Volver'\r\nimport PieChart from '../util/gr√°ficas/PieChart';\r\n\r\nimport { faTrashAlt, faEdit, faChartBar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { deleteArea } from \"../../store/actions/areaActions\";\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nclass DashboardAreas extends Component {\r\n\r\n    state = {\r\n        open: false,\r\n        count: [\r\n            { id: \"no\", label: \"no\", value: 35 },\r\n            { id: \"yes\", label: \"yes\", value: 123 }\r\n        ],\r\n    }\r\n\r\n    handleClickOpen = (area) => {\r\n        this.setState({\r\n            open: true,\r\n        }, this.preguntaChart(area))\r\n\r\n        \r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            open: false,\r\n        })\r\n    };\r\n\r\n    preguntaChart = (area) => {\r\n        var count = {\r\n            yes: 0,\r\n            no: 0,\r\n        }\r\n\r\n        console.log(\"Respuestas:\", this.props)\r\n\r\n        this.props.respuestas.filter(p => p.area === area).forEach(res => {\r\n            if (res.respuesta === \"S√≠\") {\r\n                count.yes += 1;\r\n            } else if (res.respuesta === \"No\") {\r\n                count.no += 1;\r\n            }\r\n        });\r\n\r\n        this.setState({\r\n            count: [\r\n                { id: \"no\", label: \"no\", value: count[\"no\"] },\r\n                { id: \"yes\", label: \"yes\", value: count[\"yes\"] }\r\n            ],\r\n            actualText: Math.round((count.no/(count.yes + count.no))*100),\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const {areas, userLevel, lang, auth} = this.props\r\n\r\n        if (!auth.uid) return <Redirect to=\"signin\"/>\r\n\r\n        if (userLevel !== 0) return <Redirect to=\"/\"/>\r\n\r\n        if (!lang) return null;\r\n\r\n        // console.log(this.props.match.params.proceso)\r\n\r\n        const procesoFilt = this.props.match.params.proceso\r\n\r\n        const avalAreas = (areas) ? ((areas && procesoFilt) ? [...areas].filter(a => a.proceso === procesoFilt) : [...areas]) : [];\r\n\r\n        const whereToGo = (procesoFilt) ? \"/procesos\" : \"/profile\";\r\n\r\n        // console.log(this.props.match.url)\r\n        const createWProps = (procesoFilt) ? (\"/crear-area-props/\" + procesoFilt): (\"/crear-area\");\r\n\r\n\r\n\r\n        \r\n\r\n\r\n\r\n        return (\r\n            <div className=\"padre-padre-titulo\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where={whereToGo}/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2>{bText[lang].area_proceso.areas}</h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"arroz-chino\">\r\n                    <TarjetaAgregarAuditoria where={createWProps}/>\r\n                    {/* <div className=\"graph-align\">\r\n                        <PieChart data={this.state.count} radius={0.5} innerText={this.state.actualText + \"%\"} />\r\n                    </div> */}\r\n                    \r\n                    {avalAreas && avalAreas.map(area => {\r\n                        return (\r\n                            <div\r\n                                className=\"tarjeta-auditor√≠a\"\r\n                                key={area.id}\r\n                            >\r\n                                <Link to={\"/auditorias/\" + (procesoFilt ? procesoFilt + \"/\" : \" /\") + area.id} className=\"tarjeta-proceso-half1\">\r\n                                    {area.area}\r\n                                </Link>\r\n                                <div className=\"tarjeta-auditor√≠a-half2\">\r\n                                    <div className=\"button hover-cursor\" onClick={() => this.handleClickOpen(area.id)}>\r\n                                        <FontAwesomeIcon icon={faChartBar} />\r\n                                    </div>\r\n                                    <Link to={\"/crear-area/\" + area.id} className=\"button\">\r\n                                        <FontAwesomeIcon icon={faEdit} />\r\n                                    </Link>\r\n                                    <div className=\"button hover-cursor\" onClick={() => {\r\n                                        Swal.fire({\r\n                                            title: bText[lang].swal.title,\r\n                                            showDenyButton: true,\r\n                                            showConfirmButton: true,\r\n                                            denyButtonText: bText[lang].swal.cancel,\r\n                                            confirmButtonText: bText[lang].swal.save,\r\n                                        }).then((result) => {\r\n                                            //  Read more about isConfirmed, isDenied below\r\n                                            if (result.isConfirmed) {\r\n                                                this.props.deleteArea(area.id);\r\n                                                Swal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n                                            } else if (result.isDenied) {\r\n                                                Swal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n                                            }\r\n                                        });\r\n                                    }}>\r\n                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                \r\n\r\n                <Dialog\r\n                    open={this.state.open}\r\n                    TransitionComponent={Transition}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-slide-title\" className=\"popup-title\">{bText[lang].area_proceso.grafica_global}</DialogTitle>\r\n                    <DialogContent className=\"graph-align-popup\">\r\n                        {/* Working1 */}\r\n                        <PieChart data={this.state.count} radius={0.5} innerText={this.state.actualText + \"%\"} />\r\n                        {/* Working2 */}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            {bText[lang].aceptar}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n    )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\t// procesos: state.firestore.ordered.procesos,\r\n        areas: state.firestore.ordered.areas,\r\n        respuestas: state.firestore.ordered.respuestas,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        deleteArea: (id) => dispatch(deleteArea(id)),\r\n    };\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n    firestoreConnect([{ collection: \"areas\" }, { collection: \"respuestas\" }])\r\n)(DashboardAreas);","import React, { Component } from 'react'\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class SelectorHerramientas extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        {/* <Volver where={whereToGo} /> */}\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"\">\r\n                            {/* {text[lang].auditorias.crearAuditoria.crear_auditoria} */}\r\n                            Herramientas##\r\n                        </h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"arroz-chino only2row\">\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Auditor√≠as###\r\n                    </Link>\r\n\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Auditores###\r\n                    </Link>\r\n\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Preguntas###\r\n                    </Link>\r\n\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Procesos###\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import Navbar from './components/layout/Navbar';\r\nimport React, { Component } from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport DashboardAuditorias from './components/auditorias/DashboardAuditorias'\r\nimport SignIn from './components/auth/SignIn'\r\nimport SignUp from './components/auth/SignUp'\r\nimport CrearAuditoria from './components/auditorias/CrearAuditoria'\r\nimport DashboardPreguntas from './components/preguntas/DashboardPreguntas'\r\nimport CrearPregunta from './components/preguntas/CrearPregunta'\r\nimport DetallesPregunta from './components/preguntas/DetallesPregunta';\r\nimport DetallesAuditoria from './components/auditorias/DetallesAuditoria';\r\nimport ResponderAuditoria from './components/auditorias/ResponderAuditoria';\r\nimport DetallesPreguntasAuditoria from './components/preguntas/DetallesPreguntasAuditoria';\r\nimport EditarPregunta from './components/preguntas/EditarPregunta';\r\nimport ChangePassword from './components/auth/ChangePassword';\r\nimport Profile from './components/util/Profile';\r\nimport Area from './components/areas&procesos/Area'\r\nimport Proceso from './components/areas&procesos/Proceso'\r\nimport DashboardProcesos from './components/areas&procesos/DashboardProcesos'\r\nimport DashboardAreas from './components/areas&procesos/DashboardAreas'\r\nimport SelectorHerramientas from './components/herramientas/SelectorHerramientas';\r\nimport {directions} from './config/config.js';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    // console.log(directions)\r\n    var { path } = directions;\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"App\">\r\n          <Navbar />\r\n          <Switch>\r\n            <Route path=\"/herramientas\" component={SelectorHerramientas} />\r\n            <Route exact path={path.auditorias} component={DashboardAuditorias} />\r\n            <Route exact path={\"/auditorias/:proceso/:area\"} component={DashboardAuditorias} />\r\n            <Route path={path.auditoria} component={DetallesAuditoria} />\r\n            <Route path={path.profile} component={Profile} />\r\n            <Route path={path.sign_in} component={SignIn} />\r\n            <Route path={path.sign_up} component={SignUp} />\r\n            <Route path={path.responder_auditoria_redirect} component={ResponderAuditoria} />\r\n            <Route exact path={path.crear_auditoria} component={CrearAuditoria} />\r\n            <Route path={path.crear_auditoria + \"/:id\"} component={CrearAuditoria} />\r\n            <Route path={\"/crear-auditoria-props/:proceso/:area\"} component={CrearAuditoria} />\r\n            <Route path={path.preguntas} component={DashboardPreguntas} />\r\n            <Route path={path.crear_pregunta} component={CrearPregunta} />\r\n            <Route path={path.preguntas_detalles_redirect} component={DetallesPregunta} />\r\n            <Route path={path.detalles_preguntas_auditoria_redirect} component={DetallesPreguntasAuditoria} />\r\n            <Route path={path.editar_pregunta_redirect} component={EditarPregunta} />\r\n            <Route path={path.change_password} component={ChangePassword} />\r\n            <Route exact path=\"/crear-area\" component={Area} />\r\n            <Route exact path=\"/crear-area-props/:proceso\" component={Area} />\r\n            <Route path=\"/crear-area/:id\" component={Area} />\r\n            <Route exact path=\"/crear-proceso\" component={Proceso} />\r\n            <Route path=\"/crear-proceso/:id\" component={Proceso} />\r\n            <Route path=\"/procesos\" component={DashboardProcesos} />\r\n            <Route exact path=\"/areas\" component={DashboardAreas} />\r\n            <Route path=\"/areas/:proceso\" component={DashboardAreas} />\r\n            \r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initState = {\r\n    authError: null\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGIN_ERROR':\r\n            console.log('login error');\r\n            return {\r\n                ...state,\r\n                authError: 'Login failed'\r\n            }\r\n\r\n        case 'LOGIN_SUCCESS':\r\n            console.log('login success');\r\n            return {\r\n                ...state,\r\n                authError: null\r\n            }\r\n\r\n        case 'SIGNOUT_SUCCESS':\r\n            console.log('signout success');\r\n            return state;\r\n\r\n        case 'SIGNUP_SUCCESS':\r\n            console.log('signup success')\r\n            return {\r\n                ...state,\r\n                authError: null\r\n            }\r\n\r\n        case 'SIGNUP_ERROR':\r\n            console.log('signup error')\r\n            return {\r\n                ...state,\r\n                authError: action.err.message\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default authReducer;","const initState = {}\r\n\r\nconst areaReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_AREA_SUCCESS':\r\n            console.log('create area success');\r\n            return state;\r\n        case 'CREATE_AREA_ERROR':\r\n            console.log('create area error');\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default areaReducer;","const initState = {}\r\n\r\nconst procesoReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_PROCESO_SUCCESS':\r\n            console.log('create proceso success');\r\n            return state;\r\n        case 'CREATE_PROCESO_ERROR':\r\n            console.log('create proceso error');\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default procesoReducer;","const initState = {\r\n    \r\n}\r\n\r\nconst auditoriaReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_AUDITORIA_SUCCESS':\r\n            console.log('create auditoria success', action.auditoria);\r\n            return state;\r\n        case 'CREATE_AUDITORIA_ERROR':\r\n            console.log('create auditoria error', action.err);\r\n            return state;\r\n        case 'SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA':\r\n            return state;\r\n        case 'SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA':\r\n            return state;\r\n        case 'FAILED_EXTRACT_PREGUNTAS_FROM_AUDITORIA':\r\n            console.log('create pregunta error', action.err);\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default auditoriaReducer;","import authReducer from './authReducer'\r\nimport areaReducer from './areaReducer'\r\nimport procesoReducer from './procesoReducer'\r\nimport auditoriaReducer from './auditoriaReducer'\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore';\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    auditoria: auditoriaReducer,\r\n    area: areaReducer,\r\n    proceso: procesoReducer,\r\n    firestore: firestoreReducer,\r\n    firebase: firebaseReducer\r\n});\r\n\r\nexport default rootReducer\r\n\r\n// the key name will be the data property on the state object","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyAh_1nahadyMVGyFn5uVk3Ibg6l1W6kP7U\",\r\n    authDomain: \"gst-app-18bf6.firebaseapp.com\",\r\n    projectId: \"gst-app-18bf6\",\r\n    storageBucket: \"gst-app-18bf6.appspot.com\",\r\n    messagingSenderId: \"313627774403\",\r\n    appId: \"1:313627774403:web:b9f93efea81137b3570176\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nfirebase.firestore().settings({ timestampsInSnapshots: true });\r\n\r\nexport default firebase","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {createStore, applyMiddleware, compose} from 'redux';\r\nimport rootReducer from './store/reducers/rootReducer'\r\nimport {Provider} from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\nimport {reduxFirestore, getFirestore} from 'redux-firestore'\r\nimport {reactReduxFirebase, getFirebase} from 'react-redux-firebase'\r\nimport fbConfig from './config/fbConfig'\r\n\r\n\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk.withExtraArgument({\r\n      getFirebase, getFirestore\r\n    })),\r\n    reduxFirestore(fbConfig),\r\n    reactReduxFirebase(fbConfig, {\r\n      useFirestoreForProfile: true, \r\n      userProfile: \"users\",\r\n      attachAuthIsReady: true\r\n    })\r\n  ));\r\n\r\nstore.firebaseAuthIsReady.then(() => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n  );\r\n})\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}