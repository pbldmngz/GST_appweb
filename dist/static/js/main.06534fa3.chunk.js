(this["webpackJsonpgst-myapp"]=this["webpackJsonpgst-myapp"]||[]).push([[0],{566:function(e,t,a){},7:function(e,t,a){"use strict";a.r(t),a.d(t,"bText",(function(){return i}));var r,s,n=a(40),i={spanish:{locale:"es",return:"Volver",cargando:"Cargando...",aceptar:"Aceptar",guardar:"Guardar",cancelar:"Cancelar",swal:{title:"\xbfGuardar cambios?",cancel:"Descartar",save:"Guardar",saved:"Guardado!",not_saved:"Los cambios no se guardaron"},area_proceso:(r={crear:"Crear",editar:"Editar",area:"\xe1rea",Area:"\xc1rea",proceso:"proceso",Proceso:"Proceso",urgencia:"Prioridad",proceso_corresponde:"Proceso al que corresponde",crear_area:"Crear nueva \xe1rea",crear_proceso:"Crear nuevo proceso",regular:"Prioridad normal",media:"Prioridad media",prioridad:"Prioritario",alta_prioridad:"Alta prioridad"},Object(n.a)(r,"crear_area","Guardar"),Object(n.a)(r,"crear_proceso","Guardar"),Object(n.a)(r,"agregar_pregunta","Agregar pregunta"),Object(n.a)(r,"procesos","Procesos"),Object(n.a)(r,"areas","\xc1reas"),Object(n.a)(r,"grafica_global","Gr\xe1fica global"),r),auditorias:{auditorias:{nada:"Parece que todo ha estado calmado \xfaltimamente"},crearAuditoria:{crear_auditoria:"Asignar auditoria",editar_auditoria:"Editar auditoria",nombre_auditoria:"Nombre de la auditoria",auditor:"Auditor",proceso:"Proceso",area:"\xc1rea",termina_el:"Fin:",inicia_el:"Inicio:",agregar:"Agregar",cancelar:"Cancelar",seleccionar_pregunta:"Seleccionar pregunta",text1:"Busca y selecciona las preguntas que desees a\xf1adir o ",text2:" crea una pregunta nueva, ",text3:"una vez creada la podr\xe1s seleccionar en esta lista.",crear:"Asignar",editar:"Guardar"},dashboardAuditorias:{ordenar_fecha:"Ordenar por fecha",agrupar_areas:"Ir a la vista de procesos",mostrar_realizados:"Mostrar realizados",fecha_inicio:"Fecha de inicio",fecha_expiracion:"Fecha de expiraci\xf3n",fecha_creacion:"Fecha de creaci\xf3n",area:"\xc1rea",proceso:"Proceso",auditor:"Auditor",vista:"Vista",auditorias:"Auditorias"},detallesAuditoria:{auditor:"Auditor",descripcion:"Descripci\xf3n",plan_reaccion:"Plan de reacci\xf3n",creada_por:"Creada por",fecha_inicio:"Fecha de inicio",fecha_finalizacion:"Fecha de finalizaci\xf3n",preguntas:"Preguntas (esto es un array, ya veremos como se arregla esto)"},responderAuditoria:{responder_auditoria:"Responder auditoria",justificacion:"Justificaci\xf3n",si:"S\xed",no:"No",enviar:"Enviar",scan_qr:"Escanea el c\xf3digo QR"},tarjetaAuditoria:{fecha_limite:"Fecha l\xedmite",auditor:"Auditor",proceso:"Proceso",password:"Contrase\xf1a",assignedBy:"Asignada por"}},auth:{changePassword:{cambiar_contrasena:"Cambiar contrase\xf1a",contrasena_actual:"Contrase\xf1a actual",contrasena_nueva:"Contrase\xf1a nueva",repite_contrasena:"Repite la contrase\xf1a nueva",aceptar:"Aceptar",cancelar:"Cancelar"},signIn:{correo:"Correo",contrasena:"Contrase\xf1a",iniciar_sesion:"Iniciar sesi\xf3n"},signUp:{registrar:"Registrar",correo:"Correo",contrasena:"Contrase\xf1a",nombre:"Nombre",apellido:"Apellidos",capa:"Capa",registrar_auditor:"Registrar auditor"}},layout:{navbar:{},signedInLinks:{},signedOutLinks:{}},preguntas:{crearPregunta:{crear_pregunta:"Crear pregunta",pregunta:"Pregunta",descripcion:"Descripci\xf3n",plan_reaccion:"Plan de reacci\xf3n",categoria:"Capa",crear:"Crear",editar:"Guardar",editar_pregunta:"Editar pregunta",fix:"Arreglar inmediatamente",contramedidas_temporales:"Tomar contramedidas temporales",parar_produccion:"Parar la producci\xf3n"},dashboardPreguntas:{creacion_preguntas:"Creaci\xf3n de preguntas"},detallesPregunta:{descripcion:"Descripci\xf3n",categoria:"Capa",plan_reaccion:"Plan de reacci\xf3n",creado_por:"Creado por",creado:"Creado",ver_respuestas:"Respuestas"},detallesPreguntaIndividual:{},detallesPreguntasAuditoria:{respuestas_auditoria:"Respuestas de la auditor\xeda"},preguntaGrafica:{},preguntas:{},tarjetaPregunta:{}},opciones:{opciones:"Opciones",idioma:"Idioma",cambiar_contrasena:"Cambiar contrase\xf1a",registrar_auditor:"Registrar nuevo auditor",preguntas:"Preguntas",procesos:"Procesos",areas:"\xc1reas"}},english:{locale:"en",return:"Return",cargando:"Loading...",aceptar:"Accept",guardar:"Save",cancelar:"Cancel",swal:{title:"Do you want to save the changes?",cancel:"Don't save",save:"Save",saved:"Saved!",not_saved:"Changes are not saved"},area_proceso:(s={crear:"Create",editar:"Edit",area:"area",Area:"Area",procesos:"Processes",areas:"Areas",proceso:"process",Proceso:"Process",urgencia:"Priority",proceso_corresponde:"Process where it belongs",crear_area:"Create new area",crear_proceso:"Create new process",regular:"Regular priority",media:"Medium priority",prioridad:"Priority",alta_prioridad:"High priority"},Object(n.a)(s,"crear_area","Save"),Object(n.a)(s,"crear_proceso","Save"),Object(n.a)(s,"agregar_pregunta","Add question"),Object(n.a)(s,"grafica_global","Global chart"),s),auditorias:{auditorias:{nada:"It seems that everything has been calm lately"},crearAuditoria:{crear_auditoria:"Assign audit",editar_auditoria:"Edit",nombre_auditoria:"Audit name",auditor:"Auditor",proceso:"Process",area:"Area",termina_el:"Due",inicia_el:"Start",agregar:"Add",cancelar:"Cancel",seleccionar_pregunta:"Select question",text1:"Search and select the question you wish to add, or ",text2:" create a new question, ",text3:"once created, you will find it within this list.",crear:"Assign",editar:"Save"},dashboardAuditorias:{ordenar_fecha:"Order by date",agrupar_areas:"Go to the Process view",mostrar_realizados:"Show already done",fecha_inicio:"Start date",fecha_expiracion:"Due date",fecha_creacion:"Creation date",area:"Area",proceso:"Process",auditor:"Auditor",vista:"View",auditorias:"Audits"},detallesAuditoria:{auditor:"Auditor",descripcion:"Description",plan_reaccion:"Reaction plan",creada_por:"Created by",fecha_inicio:"Start date",fecha_finalizacion:"Due date",preguntas:"Questions (Tengo que poner los nombres de las preguntas)"},responderAuditoria:{responder_auditoria:"Answer audit",justificacion:"Justification",si:"Yes",no:"No",enviar:"Submit",scan_qr:"Scan the QR Code"},tarjetaAuditoria:{fecha_limite:"Due date",auditor:"Auditor",proceso:"Process",password:"Password",assignedBy:"Assigned by"}},auth:{changePassword:{cambiar_contrasena:"Change password",contrasena_actual:"Current password",contrasena_nueva:"New password",repite_contrasena:"Repeat new password",aceptar:"Accept",cancelar:"Cancel"},signIn:{correo:"E-mail",contrasena:"Password",iniciar_sesion:"Log In"},signUp:{registrar_auditor:"Register auditor",correo:"E-mail",contrasena:"Password",nombre:"First name",apellido:"Last name",capa:"Layer",registrar:"Register"}},layout:{navbar:{},signedInLinks:{},signedOutLinks:{}},preguntas:{crearPregunta:{crear_pregunta:"Create question",editar_pregunta:"Edit question",pregunta:"Question",descripcion:"Description",plan_reaccion:"Reaction plan",categoria:"Layer",crear:"Create",editar:"Save",fix:"Fix immediately",contramedidas_temporales:"Temporary countermeasures",parar_produccion:"Stop production"},dashboardPreguntas:{creacion_preguntas:"Question creator"},detallesPregunta:{descripcion:"Description",categoria:"Layer",plan_reaccion:"Reaction plan",creado_por:"Created by",creado:"Created",ver_respuestas:"Answers"},detallesPreguntaIndividual:{},detallesPreguntasAuditoria:{respuestas_auditoria:"Audit answers"},preguntaGrafica:{},preguntas:{},tarjetaPregunta:{}},opciones:{opciones:"Settings",idioma:"Language",cambiar_contrasena:"Change password",registrar_auditor:"Register new auditor",preguntas:"Questions",procesos:"Processes",areas:"Areas"}}}},734:function(e,t){},736:function(e,t){},747:function(e,t){},749:function(e,t){},774:function(e,t){},776:function(e,t){},777:function(e,t){},782:function(e,t){},784:function(e,t){},803:function(e,t){},815:function(e,t){},818:function(e,t){},939:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(38),i=a.n(n),c=(a(566),a(17)),o=a(20),l=a(21),u=a(22),d=a(34),h=a(28),p=a(50),b=a(49),j={profile:"/profile",sign_in:"/signin",sign_up:"/signup",crear_auditoria:"/crear-auditoria",areas:"/areas",auditoria:"/auditoria/:id",auditorias:"/",editar_auditoria:"/editar-auditoria",editar_auditoria_redirect:"/editar-auditoria/:id",responder_auditoria:"/responder-auditoria",responder_auditoria_redirect:"/responder-auditoria/:id",auditorias_area:"/area/:id",preguntas:"/preguntas",preguntas_detalles:"/detalles-pregunta",preguntas_detalles_redirect:"/detalles-pregunta/:id",crear_pregunta:"/crear-pregunta",detalles_preguntas_auditoria:"/detalles-preguntas-auditoria",detalles_preguntas_auditoria_redirect:"/detalles-preguntas-auditoria/:id",detalles_pregunta_auditoria:"/detalles-pregunta-auditoria",detalles_pregunta_auditoria_redirect:"/detalles-pregunta-auditoria/:id",editar_pregunta:"/editar-pregunta",editar_pregunta_redirect:"/editar-pregunta/:id",change_password:"/change_password",mainproceso:"/mainproceso"},f=a(1),g=Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){var t=j;return e.auth.uid?Object(f.jsxs)("div",{className:"padre-titulo nav",children:[Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("div",{className:"perfil",children:Object(f.jsx)(d.b,{to:t.profile,className:"center-box",children:Object(f.jsx)(b.a,{icon:p.b})})})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)(d.c,{to:t.auditorias,className:"",children:Object(f.jsx)("b",{children:"Global Safety Textiles"})})})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("div",{className:"imout hover-cursor",onClick:function(){e.signOut(),e.history.push("/signin")},children:Object(f.jsx)(b.a,{icon:p.f})})})]}):null})),m=a(16),x=a(41),O=a(10),v=a(239),N=a.n(v),C=a(46),y=a.n(C),w=a(83),T=function(e){return function(t,a,r){r.getFirebase;var s=(0,r.getFirestore)(),n=a().firebase.profile,i=a().firebase.auth.uid;s.collection("auditorias").add(Object(O.a)(Object(O.a)({},e),{},{createdBy:n.firstName+" "+n.lastName,createdAt:new Date,authorId:i})).then((function(){t({type:"CREATE_AUDITORIA"},e)})).catch((function(e){t({type:"CREATE_AUDITORIA_ERROR"},e)}))}},S=function(e,t){return function(a,r,s){s.getFirebase;var n=(0,s.getFirestore)(),i=r().firebase.profile,c=r().firebase.auth.uid;n.collection("auditorias").doc(e).update(Object(O.a)(Object(O.a)({},t),{},{updatedAt:new Date,updatedBy:i.firstName+" "+i.lastName,editorId:c})).then((function(){a({type:"EDIT_AUDITORIA"},t)})).catch((function(e){a({type:"EDIT_AUDITORIA_ERROR"},e)}))}},A=function(){var e=Object(w.a)(y.a.mark((function e(t,a,r,s){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),i=n.collection(r).doc(s),e.abrupt("return",i.get().then((function(e){if(e.exists)return Object(O.a)(Object(O.a)({},e.data()),{},{id:s})})).catch((function(e){console.log(e)})));case 3:case"end":return e.stop()}}),e)})));return function(t,a,r,s){return e.apply(this,arguments)}}(),_=function(){var e=Object(w.a)(y.a.mark((function e(t,a,r,s,n){var i,c,o,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a(),c=i.collection(r).where(s,"==",n),e.next=4,c.get();case 4:return o=e.sent,l=[],o.empty?console.log("No matching documents."):o.forEach((function(e){l.push(e.data())})),e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t,a,r,s,n){return e.apply(this,arguments)}}(),E=function(e){return function(t,a,r){r.getFirebase;return(0,r.getFirestore)().collection("auditorias").doc(e).get().then((function(e){if(e.exists)return e.data()})).catch((function(e){console.log(e)}))}},P=a(26),R=a.n(P),D=a(39),k=a(42),F=a(1021),I=a(1037),B=a(1020),L=a(1019),U=a(1013),K=a(7),G=a(532),Q=a.n(G),W=s.a.forwardRef((function(e,t){return Object(f.jsx)(U.a,Object(O.a)({direction:"up",ref:t},e))})),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={open:!1},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=j;Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var a=this.props,r=a.auditoria,s=a.userLevel,n=a.alreadyDone,i=a.lang,c=a.users,o=a.areas,l=a.procesos;if(!i)return null;if(!c)return null;if(!o)return null;if(!l)return null;var u="white",h="",g=Object(x.a)(r.auditor).map((function(e){return c.find((function(t){return t.id===e}))})),m=o.find((function(e){return e.id===r.area})),O=l.find((function(e){return e.id===r.proceso}));if(m)switch(m.urgencia){case 0:u="#009900",h="R";break;case 1:u="#FFCC00",h="M";break;case 2:u="#FF9900",h="!";break;case 3:u="#C00000",h="!!"}var v={};n&&(u="grey",h="D",v={backgroundColor:"#D5D8DC"});var C=0===s?Object(f.jsx)("div",{className:"boton extra-margin-botones",children:Object(f.jsx)(d.b,{to:t.detalles_preguntas_auditoria+"/"+r.id,children:Object(f.jsx)(b.a,{icon:p.a})})}):Object(f.jsx)("div",{style:{backgroundColor:u,color:"white"},className:"suavizar-borde center-box",children:h}),y=0===s?Object(f.jsxs)("div",{className:"button-group",children:[C,Object(f.jsx)("div",{className:"boton extra-margin-botones",onClick:this.handleClickOpen,children:Object(f.jsx)(b.a,{icon:p.e})}),Object(f.jsx)(d.b,{to:t.crear_auditoria+"/"+r.id,children:Object(f.jsx)("div",{className:"boton extra-margin-botones",children:Object(f.jsx)(b.a,{icon:p.c})})}),Object(f.jsx)("div",{className:"boton extra-margin-botones",onClick:function(){R.a.fire({title:K.bText[i].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[i].swal.cancel,confirmButtonText:K.bText[i].swal.save}).then((function(t){t.isConfirmed?(e.props.deleteAuditoria(r.id),R.a.fire(K.bText[i].swal.saved,"","success")):t.isDenied&&R.a.fire(K.bText[i].swal.not_saved,"","info")}))},children:Object(f.jsx)(b.a,{icon:p.g})})]}):C;N.a.locale(K.bText[i].locale);var w=r.fecha_fin?Object(f.jsxs)("p",{className:"grey-text",children:[K.bText[i].auditorias.tarjetaAuditoria.fecha_limite,":"," ",N()(r.fecha_fin.toDate()).fromNow()]}):null,T=Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("div",{className:"",children:Object(f.jsx)("span",{className:"",children:r.auditoria.length>18?r.auditoria.substr(0,18)+"...":r.auditoria})}),0===s?Object(f.jsxs)("div",{children:[K.bText[i].auditorias.tarjetaAuditoria.auditor,": ",g&&g.map((function(e){return e?e.firstName[0]+". "+e.lastName:""})).join(" & ")]}):null,0!==s?m&&O?O.proceso+", "+m.area:null:Object(f.jsx)("p",{children:m&&O?O.proceso+", "+m.area:null}),w,0!==s?Object(f.jsxs)("p",{children:[K.bText[i].auditorias.tarjetaAuditoria.assignedBy,": ",r.createdBy,", ",N()(r.createdAt.toDate()).fromNow()]}):null]}),S=Object(f.jsxs)(I.a,{open:this.state.open,TransitionComponent:W,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(f.jsx)(L.a,{className:"center-box",children:Object(f.jsx)(Q.a,{value:r.password})}),Object(f.jsx)(B.a,{children:Object(f.jsx)(F.a,{onClick:this.handleClose,color:"primary",children:K.bText[i].aceptar})})]});return 0===s?Object(f.jsxs)("div",{style:v,className:"tarjeta-auditor\xeda",children:[Object(f.jsx)("div",{className:"tarjeta-auditor\xeda-half1",children:T}),Object(f.jsx)("div",{className:"tarjeta-auditor\xeda-half2",children:y}),S]}):Object(f.jsxs)(d.b,{className:"tarjeta-auditor\xeda",style:v,to:t.responder_auditoria+"/"+r.id,children:[Object(f.jsx)("div",{className:"tarjeta-auditor\xeda-half1",children:T}),Object(f.jsx)("div",{className:"tarjeta-auditor\xeda-half2",children:y}),S]})}}]),a}(r.Component),H=Object(D.d)(Object(h.b)((function(e){return{lang:e.firebase.profile.lang,areas:e.firestore.ordered.areas,procesos:e.firestore.ordered.procesos}}),(function(e){return{deleteAuditoria:function(t){return e(function(e){return function(t,a,r){r.getFirebase,(0,r.getFirestore)().collection("auditorias").doc(e).delete()}}(t))},editAuditoria:function(t,a){return e(S(t,a))}}})),Object(k.firestoreConnect)([{collection:"areas"},{collection:"procesos"}]))(z),X=function(e){var t=e.where,a=e.hasTrace,r=t||"/crear-auditoria";return a&&(r="/crear-auditoria-props/"+a.proceso+"/"+a.area),Object(f.jsx)(d.b,{to:r,className:"tarjeta-auditor\xeda center-box",children:Object(f.jsx)("div",{className:"add-symbol",children:Object(f.jsx)(b.a,{size:"5x",icon:p.d})})})};function q(e){var t=e.userLevel,a=e.auditorias,r=e.alreadyDone,s=e.lang,n=e.uid,i=e.users,c=e.hasTrace,o=0!==t?a.filter((function(e){return e.auditor.includes(n)})):a;return Object(f.jsx)("div",{children:o&&0!==o.length||0===t?Object(f.jsxs)("div",{className:"arroz-chino",children:[0===t?Object(f.jsx)(X,{hasTrace:c}):null,o&&o.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(H,{auditoria:e,userLevel:t,alreadyDone:r,lang:s,users:i})},e.id)}))]}):Object(f.jsx)("div",{className:"footer-single",children:Object(f.jsx)("p",{children:K.bText[s].auditorias.auditorias.nada})})})}var J=a(1031),V=a(1039),M=a(1024),Y=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).move=function(){e.props.where?e.props.history.push(e.props.where):e.props.history.push("/")},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.lang;return t?Object(f.jsx)("button",{className:"return",onClick:function(){e.move()},children:K.bText[t].return}):null}}]),a}(r.Component),Z=Object(h.b)((function(e){return{lang:e.firebase.profile.lang}}))(Object(m.g)(Y)),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={filter:0},e.handleChangeSelect=function(t){e.setState({filter:t.target.value})},e.getKeyByValue=function(e,t){return Object.keys(e).find((function(a){return e[a]===t}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;console.log("This app was developed by this guy: https://github.com/pbldmngz"),console.log("For any further changes, please send an e-mail to pablo@dominguez.contact");var t=this.props,a=t.auditorias,r=t.respuestas,s=t.auth,n=t.userLevel,i=t.lang,c=t.users;if(!s.uid)return Object(f.jsx)(m.a,{to:"/signin"});if(!i)return null;var o=new Date,l=a?0===n?Object(x.a)(a):Object(x.a)(a).filter((function(e){return e.fecha_fin.toDate()>o})):[];this.props.match.params.proceso&&" "!==this.props.match.params.proceso&&(l=l.filter((function(t){return t.proceso===e.props.match.params.proceso}))),this.props.match.params.area&&(l=l.filter((function(t){return t.area===e.props.match.params.area})));var u,d=l?Object(x.a)(l):[],h="fecha_fin";switch(this.state.filter){case 0:h="fecha_fin";break;case 1:this.props.history.push("/procesos");break;case 3:h="createdAt";break;case 4:h="area";break;case 5:h="proceso";break;case 6:h="auditor";break;case 7:h="fecha_inicio";break;default:h="fecha_fin"}u=h;var p=d=d.sort((function(e,t){var a=e[u].toString(),r=t[u].toString();return a<r?-1:a>r?1:0}));if(3===this.state.filter&&(p=p.reverse()),a&&0!==n&&r){var b=r.filter((function(e){return s.uid===e.answeredById})),j={};for(var g in b)j[b[g].auditoria]=!0;var O=Object.keys(j);p=2===this.state.filter?d&&d.filter((function(e){return O.includes(e.id)})):d&&d.filter((function(e){return!O.includes(e.id)}))}var v=0===n?Object(f.jsxs)(J.a,{labelId:"select-filter",id:"filter",value:this.state.filter,onChange:this.handleChangeSelect,children:[Object(f.jsx)(V.a,{value:7,children:K.bText[i].auditorias.dashboardAuditorias.fecha_inicio}),Object(f.jsx)(V.a,{value:0,children:K.bText[i].auditorias.dashboardAuditorias.fecha_expiracion}),Object(f.jsx)(V.a,{value:3,children:K.bText[i].auditorias.dashboardAuditorias.fecha_creacion}),Object(f.jsx)(V.a,{value:4,children:K.bText[i].auditorias.dashboardAuditorias.area}),Object(f.jsx)(V.a,{value:5,children:K.bText[i].auditorias.dashboardAuditorias.proceso}),Object(f.jsx)(V.a,{value:6,children:K.bText[i].auditorias.dashboardAuditorias.auditor}),Object(f.jsx)(V.a,{value:1,children:K.bText[i].auditorias.dashboardAuditorias.agrupar_areas})]}):Object(f.jsxs)(J.a,{labelId:"select-filter",id:"filter",value:this.state.filter,onChange:this.handleChangeSelect,children:[Object(f.jsx)(V.a,{value:0,children:K.bText[i].auditorias.dashboardAuditorias.ordenar_fecha}),Object(f.jsx)(V.a,{value:2,children:K.bText[i].auditorias.dashboardAuditorias.mostrar_realizados})]}),N=this.props.match.params.proceso?"/areas/"+this.props.match.params.proceso:"/";return p?Object(f.jsxs)("div",{className:"padre-padre-titulo",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:this.props.match.params.proceso?Object(f.jsx)(Z,{where:N}):null}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[i].auditorias.dashboardAuditorias.auditorias})}),Object(f.jsxs)("div",{className:"titulo",children:[Object(f.jsx)(M.a,{id:"select-filter",children:K.bText[i].auditorias.dashboardAuditorias.vista}),v]})]}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)(q,{auditorias:p,userLevel:n,alreadyDone:2===this.state.filter,lang:i,uid:s.uid,users:c,hasTrace:this.props.match.params.proceso?this.props.match.params:null})})]}):Object(f.jsx)("div",{className:"container center",children:Object(f.jsx)("p",{children:K.bText[i].cargando})})}}]),a}(r.Component),ee=Object(D.d)(Object(h.b)((function(e){return{auditorias:e.firestore.ordered.auditorias,respuestas:e.firestore.ordered.respuestas,users:e.firestore.ordered.users,lang:e.firebase.profile.lang,auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel}})),Object(k.firestoreConnect)([{collection:"auditorias",orderBy:["fecha_fin","asc"]},{collection:"respuestas"},{collection:"users"}]))($),te=a(40),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e.listenEnter=function(t){13===t.keyCode&&e.handleSubmit(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.authError,r=t.auth;console.log("This app was developed by this guy: https://github.com/pbldmngz"),console.log("For any further changes, please send an e-mail to pablo@dominguez.contact");var s="spanish";return r.uid?Object(f.jsx)(m.a,{to:"/"}):Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo",children:[Object(f.jsx)("div",{className:"titulo"}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("img",{className:"logo",src:"data:image/png;base64,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",alt:"gst logo"})})]}),Object(f.jsx)("form",{className:"",onSubmit:this.handleSubmit,children:Object(f.jsxs)("div",{className:"form-1 white",children:[Object(f.jsxs)("div",{className:"form-2",children:[Object(f.jsxs)("div",{className:"input-field",children:[Object(f.jsx)("label",{className:"uname",htmlFor:"email"}),Object(f.jsx)("input",{onKeyDown:function(t){return e.listenEnter(t)},type:"email",id:"email",placeholder:K.bText[s].auth.signIn.correo,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"input-field",children:[Object(f.jsx)("label",{htmlFor:"password"}),Object(f.jsx)("input",{onKeyDown:function(t){return e.listenEnter(t)},type:"password",id:"password",placeholder:K.bText[s].auth.signIn.contrasena,onChange:this.handleChange})]})]}),Object(f.jsx)("div",{className:"footer-single",children:a?Object(f.jsx)("p",{children:a}):null}),Object(f.jsx)("div",{className:"footer-single",children:Object(f.jsx)("button",{className:"add-question",children:K.bText[s].auth.signIn.iniciar_sesion})})]})})]})}}]),a}(r.Component),re=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(ae),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",firstName:"",lastName:"",level:4,lang:"english"},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleChangeSelect=function(t){e.setState({level:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state),e.props.history.push("/profile")},e.Seguro=function(t){t.preventDefault(),R.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Save",denyButtonText:"Don't save"}).then((function(a){a.isConfirmed?(e.handleSubmit(t),R.a.fire("Saved!","","success")):a.isDenied&&R.a.fire("Changes are not saved","","info")}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,r=e.lang,s=e.userLevel;return t.uid?s&&0!==s?Object(f.jsx)(m.a,{to:"/"}):r?Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/profile"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"titulo",children:K.bText[r].auth.signUp.registrar_auditor})})]}),Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"form-2",children:Object(f.jsxs)("form",{className:"",onSubmit:this.Seguro,children:[Object(f.jsxs)("div",{className:"date-container",children:[Object(f.jsxs)("div",{className:"input-field-1-2",children:[Object(f.jsx)("label",{htmlFor:"firstName"}),Object(f.jsx)("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"off",type:"text",id:"firstName",placeholder:K.bText[r].auth.signUp.nombre,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"input-field-3-4",children:[Object(f.jsx)("label",{htmlFor:"lastName"}),Object(f.jsx)("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"off",type:"text",id:"lastName",placeholder:K.bText[r].auth.signUp.apellido,onChange:this.handleChange})]})]}),Object(f.jsxs)("div",{className:"input-field",children:[Object(f.jsx)("label",{htmlFor:"email"}),Object(f.jsx)("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"off",type:"email",id:"email",placeholder:K.bText[r].auth.signUp.correo,onChange:this.handleChange})]}),Object(f.jsxs)("div",{className:"input-field",children:[Object(f.jsx)("label",{htmlFor:"password"}),Object(f.jsx)("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"off",type:"text",id:"password",placeholder:K.bText[r].auth.signUp.contrasena,onChange:this.handleChange})]}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsxs)("div",{className:"footer-single-flex",children:[Object(f.jsx)(M.a,{id:"select-level",children:K.bText[r].auth.signUp.capa}),Object(f.jsxs)(J.a,{labelId:"select-level",id:"level",value:this.state.level,onChange:this.handleChangeSelect,style:{width:"".concat(100,"px")},children:[Object(f.jsx)(V.a,{value:4,children:"A"}),Object(f.jsx)(V.a,{value:3,children:"B"}),Object(f.jsx)(V.a,{value:2,children:"C"}),Object(f.jsx)(V.a,{value:1,children:"D"}),Object(f.jsx)(V.a,{value:0,children:"Admin"})]})]})})]})})}),Object(f.jsx)("div",{className:"footer-single margin-top",children:Object(f.jsx)("button",{onClick:this.Seguro,className:"add-question",children:K.bText[r].auth.signUp.registrar})}),Object(f.jsx)("div",{className:"footer-single",children:a?Object(f.jsx)("p",{children:a}):null})]}):null:Object(f.jsx)(m.a,{to:"/"})}}]),a}(r.Component),ne=Object(h.b)((function(e){return{auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,authError:e.auth.authError,lang:e.firebase.profile.lang}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,r){var s=r.getFirebase,n=r.getFirestore,i=s(),c=n();i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0],userLevel:e.level,lang:e.lang})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(se),ie=a(330),ce=a.n(ie),oe=(a(290),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsx)("input",Object(O.a)(Object(O.a)({type:"text"},this.props),{},{readOnly:!0}))}}]),a}(r.Component)),le=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={auditoria:"",auditor:["","","",""],area:"",proceso:"",fecha_inicio:new Date,fecha_fin:new Date,preguntas:[],openB:!1,valueB:"",password:""},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleChangeAutocomplete=function(t,a){e.setState({valueB:a})},e.handleSubmit=function(t){t.preventDefault();var r=e.props.match.params.id,s={auditoria:e.state.auditoria,auditor:e.state.auditor.filter((function(e){return""!==e})),area:e.state.area,proceso:e.state.proceso,fecha_inicio:e.state.fecha_inicio,fecha_fin:e.state.fecha_fin,preguntas:e.props.procesos.find((function(t){return t.id===e.state.proceso})).preguntas};if(r)s.password=e.state.password,e.props.editAuditoria(r,s);else{var n=a(728).generate({length:8,numbers:!0,uppercase:!1,lowercase:!1});s.password=n,e.props.createAuditoria(s)}var i=e.props.match.params.proceso?"/auditorias/"+e.props.match.params.proceso+"/"+e.props.match.params.area:"/";e.props.history.push(i)},e.handleClickOpen=function(){e.setState({openB:!0})},e.handleCancel=function(){var t=e.props.match.params.proceso?"/auditorias/"+e.props.match.params.proceso+"/"+e.props.match.params.area:"/";e.props.history.push(t)},e.handleDelete=function(t){var a=e.state.preguntas.filter((function(e){return e.id!==t}));e.setState({preguntas:a})},e.handleClose=function(){e.setState({openB:!1})},e.handleCloseSave=function(t){e.setState((function(t){return{openB:!1,preguntas:Object(x.a)(new Set([].concat(Object(x.a)(t.preguntas),[e.state.valueB])))}}))},e.Seguro=function(t){var a=e.props.lang;t.preventDefault(),R.a.fire({title:K.bText[a].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[a].swal.cancel,confirmButtonText:K.bText[a].swal.save}).then((function(r){r.isConfirmed?(e.handleSubmit(t),R.a.fire(K.bText[a].swal.saved,"","success")):r.isDenied&&R.a.fire(K.bText[a].swal.not_saved,"","info")}))},e.handleChangeSelectProceso=function(t){e.setState({proceso:t.target.value})},e.handleChangeSelectArea=function(t){e.setState({area:t.target.value})},e.handleChangeSelectAuditor=function(t){console.log("This is E",t.target);var a=Object(x.a)(e.state.auditor);switch(t.target.name){case"auditor1":a[0]=t.target.value;break;case"auditor2":a[1]=t.target.value;break;case"auditor3":a[2]=t.target.value;break;case"auditor4":a[3]=t.target.value}e.setState({auditor:a})},e.sortByKey=function(e,t){return e.sort((function(e,a){var r=e[t].toString(),s=a[t].toString();return r<s?-1:r>s?1:0}))},e.cantSend=function(){return!(e.state.preguntas&&e.state.preguntas.length>=5&&e.state.preguntas.length<=15)},e}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.match.params.proceso&&" "!==this.props.match.params.proceso?this.setState({proceso:this.props.match.params.proceso,area:this.props.match.params.area}):this.props.match.params.area&&this.setState({area:this.props.match.params.area});var t=this.props.match.params.id;t&&this.props.getAuditoria(t).then((function(t){e.setState({auditoria:t.auditoria,auditor:t.auditor,area:t.area,proceso:t.proceso,fecha_inicio:t.fecha_inicio.toDate(),fecha_fin:t.fecha_fin.toDate(),preguntas:t.preguntas.map((function(t){return e.props.preguntas.filter((function(e){return e.id===t}))[0]})),password:t.password})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,r=t.userLevel,s=t.lang,n=t.procesos,i=t.areas,c=t.users;if(!a.uid)return Object(f.jsx)(m.a,{to:"/signin"});if(!s)return null;if(0!==r)return Object(f.jsx)(m.a,{to:"/"});if(!c)return null;var o=this.sortByKey(Object(x.a)(c),"lastName").filter((function(e){return 0!==e.userLevel})),l=Object(x.a)(i).find((function(t){return t.id===e.state.area})),u=""!==this.state.area&&i&&Object(x.a)(i).map((function(e){return e.id})).includes(this.state.area)&&l?l.urgencia:0;switch(u){case 2:u=[2,3,4];break;case 3:u=[1,2,3,4];break;default:u=[3,4]}var d=["Admin","D","C","B","A"],h=this.props.match.params.proceso?"/auditorias/"+this.props.match.params.proceso+"/"+this.props.match.params.area:"/";return Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:h})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"",children:K.bText[s].auditorias.crearAuditoria.crear_auditoria})})]}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)("form",{className:"",onSubmit:this.Seguro,children:Object(f.jsxs)("div",{className:"form-2",children:[Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",id:"proceso",value:this.state.proceso,onChange:this.handleChangeSelectProceso,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsx)("div",{className:"placeholder-color",children:K.bText[s].auditorias.crearAuditoria.proceso})}),n&&this.sortByKey(Object(x.a)(n),"proceso").map((function(e){return Object(f.jsx)(V.a,{className:"text-color",value:e.id,children:e.proceso},e.id)}))]})}),Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",id:"area",value:this.state.area?this.state.area:"",onChange:this.handleChangeSelectArea,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,disabled:""===this.state.proceso,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsx)("div",{className:"placeholder-color",children:K.bText[s].auditorias.crearAuditoria.area})}),i&&this.sortByKey(Object(x.a)(i),"area").filter((function(t){return t.proceso===e.state.proceso})).map((function(e){return Object(f.jsx)(V.a,{className:"text-color",value:e.id,children:e.area},e.id)}))]})}),console.log(u),""!==this.state.area?u&&u.map((function(t){return Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",name:"auditor"+t.toString(),value:e.state.auditor[t-1]?e.state.auditor[t-1]:"",onChange:e.handleChangeSelectAuditor,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsxs)("div",{className:"placeholder-color",children:[K.bText[s].auditorias.crearAuditoria.auditor," - ",d[t]]})}),o&&o.filter((function(e){return e.userLevel===t})).map((function(e){return Object(f.jsxs)(V.a,{className:"text-color",value:e.id,children:[e.lastName,", ",e.firstName]},e.id)}))]})},t)})):null,Object(f.jsxs)("div",{className:"date-container",children:[Object(f.jsx)("span",{className:"fecha",children:K.bText[s].auditorias.crearAuditoria.inicia_el}),Object(f.jsx)("div",{className:"datePicker-container",children:Object(f.jsx)(ce.a,{id:"fecha_inicio",selected:this.state.fecha_inicio,onChange:function(t){return e.setState({fecha_inicio:t})},withPortal:!0,customInput:Object(f.jsx)(oe,{})})}),Object(f.jsx)("span",{className:"fecha",children:K.bText[s].auditorias.crearAuditoria.termina_el}),Object(f.jsx)("div",{className:"datePicker-container",children:Object(f.jsx)(ce.a,{id:"fecha_fin",selected:this.state.fecha_fin,onChange:function(t){return e.setState({fecha_fin:t})},withPortal:!0,customInput:Object(f.jsx)(oe,{})})})]})]})})})})}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"cancelar",onClick:this.handleCancel,children:K.bText[s].auditorias.crearAuditoria.cancelar})}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"aceptar",onClick:this.Seguro,children:K.bText[s].auditorias.crearAuditoria.crear})})]})})]})}}]),r}(r.Component),ue=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,lang:e.firebase.profile.lang,preguntas:e.firestore.ordered.preguntas,areas:e.firestore.ordered.areas,procesos:e.firestore.ordered.procesos,users:e.firestore.ordered.users}}),(function(e){return{createAuditoria:function(t){return e(T(t))},editAuditoria:function(t,a){return e(S(t,a))},getAuditoria:function(t){return e(E(t))}}})),Object(k.firestoreConnect)([{collection:"preguntas"},{collection:"areas"},{collection:"procesos"},{collection:"users"}]))(le),de=a(54),he=a(157),pe=a.n(he),be=a(1026),je=a(1025),fe=s.a.forwardRef((function(e,t){return Object(f.jsx)(U.a,Object(O.a)({direction:"up",ref:t},e))}));function ge(e){var t=j,a=e.pregunta,r=e.userLevel,n=e.lang,i=0===r?Object(f.jsxs)("div",{className:"button-group",children:[Object(f.jsx)(d.b,{to:t.editar_pregunta+"/"+a.id,children:Object(f.jsx)("div",{className:"boton",children:Object(f.jsx)(b.a,{icon:p.c})})}),Object(f.jsx)(d.b,{to:t.preguntas,children:Object(f.jsx)("div",{className:"boton",onClick:function(){R.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showConfirmButton:!0,denyButtonText:"Don't save",confirmButtonText:"Save"}).then((function(t){t.isConfirmed?(e.deletePregunta(a.id),R.a.fire("Saved!","","success")):t.isDenied&&R.a.fire("Changes are not saved","","info")}))},children:Object(f.jsx)(b.a,{icon:p.g})})})]}):null,c={0:K.bText[n].preguntas.crearPregunta.fix,1:K.bText[n].preguntas.crearPregunta.contramedidas_temporales,2:K.bText[n].preguntas.crearPregunta.parar_produccion},o=s.a.useState(!1),l=Object(de.a)(o,2),u=l[0],h=l[1],g=function(){h(!1)};return Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"tarjeta-pregunta",children:[Object(f.jsxs)("div",{className:"tarjeta-pregunta-half1 hover-cursor",onClick:function(){h(!0)},children:[Object(f.jsx)("span",{className:"",children:a[n].length>60?a[n].substr(0,60)+"...":a[n]}),Object(f.jsx)("p",{className:"",children:a.description.length>120?a.description.substr(0,120)+"...":a.description}),Object(f.jsx)("p",{className:"",children:c[a.reaction_plan]})]}),Object(f.jsx)("div",{className:"tarjeta-pregunta-half2",children:Object(f.jsx)("div",{className:"center-box",children:i})})]},a.id),Object(f.jsxs)(I.a,{open:u,TransitionComponent:fe,onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(f.jsx)(je.a,{id:"alert-dialog-slide-title",children:"Justificaciones a esta pregunta####"}),Object(f.jsxs)(be.a,{className:"dialog-content",children:[Object(f.jsxs)(be.a,{children:[a.english,"###"]}),Object(f.jsxs)(be.a,{children:[Object(f.jsx)("span",{className:"dialog-span",children:"Descripci\xf3n:"}),Object(f.jsxs)("p",{className:"dialog-p",children:[a.description,"###EEEEEEEEEEEEEEEEEEEEEEE##########"]})]}),Object(f.jsxs)(be.a,{children:[Object(f.jsx)("span",{className:"dialog-span",children:"Capa:"}),Object(f.jsx)("p",{className:"dialog-p",children:{1:"A",2:"B",3:"C",4:"D"}[a.category]})]}),Object(f.jsxs)(be.a,{children:[Object(f.jsx)("span",{className:"dialog-span",children:"Plan de reacci\xf3n:"}),Object(f.jsx)("p",{className:"dialog-p",children:a.reaction_plan})]}),Object(f.jsxs)(be.a,{children:[Object(f.jsx)("span",{className:"dialog-span",children:"Creado por:"}),Object(f.jsx)("p",{className:"dialog-p",children:a.createdBy})]}),Object(f.jsxs)(be.a,{children:[Object(f.jsx)("span",{className:"dialog-span",children:"Creado:"}),Object(f.jsx)("p",{className:"dialog-p",children:pe()(a.createdAt.toDate()).fromNow()})]})]}),Object(f.jsx)(B.a,{children:Object(f.jsx)(F.a,{onClick:g,color:"primary",children:"Aceptar###"})})]})]})}var me=function(){return Object(f.jsx)(d.b,{to:"/crear-pregunta",className:"tarjeta-pregunta center-box",children:Object(f.jsx)("div",{className:"add-symbol",children:Object(f.jsx)(b.a,{size:"5x",icon:p.d})})})};function xe(e){var t,a,r=e.preguntas,s=e.editPregunta,n=e.deletePregunta,i=e.userLevel,c=e.lang,o=(t=Object(x.a)(r),a="createdAt",t.sort((function(e,t){var r=e[a].toString(),s=t[a].toString();return r<s?-1:r>s?1:0})));return Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"preguntas",children:[Object(f.jsx)(me,{}),r&&o.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(ge,{pregunta:e,editPregunta:s,deletePregunta:n,userLevel:i,lang:c})},e.id)}))]})})}var Oe=a(69),ve=function(e,t){return function(a,r,s){s.getFirebase;var n=(0,s.getFirestore)(),i=r().firebase.profile,c=r().firebase.auth.uid;n.collection("preguntas").doc(e).update(Object(O.a)(Object(O.a)({},t),{},{updatedAt:new Date,updatedBy:i.firstName+" "+i.lastName,editorId:c})).then((function(){a({type:"EDIT_PREGUNTA"},t)})).catch((function(e){a({type:"EDIT_PREGUNTA_ERROR"},e)}))}},Ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.preguntas,a=e.auth,r=e.userLevel,s=e.lang;return a.uid?0!==r?Object(f.jsx)(m.a,{to:"/"}):s?t?Object(f.jsxs)("div",{className:"padre-padre-titulo",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/profile"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[s].preguntas.dashboardPreguntas.creacion_preguntas})})]}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)(xe,{preguntas:t,editPregunta:this.props.editPregunta,deletePregunta:this.props.deletePregunta,userLevel:r,lang:s})})]}):Object(f.jsx)("div",{className:"container center",children:Object(f.jsx)("p",{children:"Cargando..."})}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),a}(r.Component),Ce=Object(D.d)(Object(h.b)((function(e){return{preguntas:e.firestore.ordered.preguntas,auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,lang:e.firebase.profile.lang}}),(function(e){return{deletePregunta:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var s=(0,r.getFirestore)();a().firebase.profile,a().firebase.auth.uid,s.collection("preguntas").doc(e).delete()}}(t))},editPregunta:function(t){return e(ve(t))}}})),Object(k.firestoreConnect)([{collection:"preguntas",orderBy:["createdAt","desc"]}]))(Ne),ye=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={category:4,description:"",reaction_plan:"",english:"",spanish:""},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleChangeSelect=function(t){e.setState({category:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.createPregunta(e.state),e.props.history.push("/preguntas")},e.Seguro=function(t){var a=e.props.lang;t.preventDefault(),R.a.fire({title:K.bText[a].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[a].swal.cancel,confirmButtonText:K.bText[a].swal.save}).then((function(r){r.isConfirmed?(e.handleSubmit(t),R.a.fire(K.bText[a].swal.saved,"","success")):r.isDenied&&R.a.fire(K.bText[a].swal.not_saved,"","info")}))},e.handleChangeSelectRP=function(t){e.setState({reaction_plan:t.target.value})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.lang;return t.uid?a?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/preguntas"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"titulo",children:K.bText[a].preguntas.crearPregunta.crear_pregunta})})]}),Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)("form",{className:"",onSubmit:this.Seguro,children:Object(f.jsxs)("div",{className:"form-2",children:[Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"english",placeholder:K.bText[a].preguntas.crearPregunta.crear_pregunta+" [EN]",onChange:this.handleChange})}),Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"spanish",placeholder:K.bText[a].preguntas.crearPregunta.crear_pregunta+" [ES]",onChange:this.handleChange})}),Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"description",placeholder:K.bText[a].preguntas.crearPregunta.descripcion,onChange:this.handleChange})}),Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",id:"reaction_plan",value:this.state.reaction_plan,onChange:this.handleChangeSelectRP,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsx)("div",{className:"placeholder-color",children:K.bText[a].preguntas.crearPregunta.plan_reaccion})}),Object(f.jsx)(V.a,{value:0,children:K.bText[a].preguntas.crearPregunta.fix}),Object(f.jsx)(V.a,{value:1,children:K.bText[a].preguntas.crearPregunta.contramedidas_temporales}),Object(f.jsx)(V.a,{value:2,children:K.bText[a].preguntas.crearPregunta.parar_produccion})]})}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsxs)("div",{className:"footer-single-flex",children:[Object(f.jsx)(M.a,{id:"select-level",children:K.bText[a].preguntas.crearPregunta.categoria}),Object(f.jsxs)(J.a,{labelId:"select-level",id:"level",value:this.state.category,onChange:this.handleChangeSelect,style:{width:"".concat(100,"px")},children:[Object(f.jsx)(V.a,{value:4,children:"A"}),Object(f.jsx)(V.a,{value:3,children:"B"}),Object(f.jsx)(V.a,{value:2,children:"C"}),Object(f.jsx)(V.a,{value:1,children:"D"})]})]})})]})})})}),Object(f.jsx)("div",{className:"footer-single",children:Object(f.jsx)("button",{className:"aceptar",onClick:this.Seguro,children:K.bText[a].preguntas.crearPregunta.crear})})]}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),a}(r.Component),we=Object(h.b)((function(e){return{auth:e.firebase.auth,lang:e.firebase.profile.lang}}),(function(e){return{createPregunta:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var s=(0,r.getFirestore)(),n=a().firebase.profile,i=a().firebase.auth.uid;s.collection("preguntas").add(Object(O.a)(Object(O.a)({},e),{},{createdBy:n.firstName+" "+n.lastName,authorId:i,createdAt:new Date})).then((function(){t({type:"CREATE_PREGUNTA"},e)})).catch((function(e){t({type:"CREATE_PREGUNTA_ERROR"},e)}))}}(t))}}}))(ye),Te=a(540),Se=function(e){var t=e.radius,a=e.innerText,r=e.colors,s=e.data;console.log("ThisIsData:",s);var n=t||0,i=function(e){return"".concat(Math.round(e/function(){var e,t=0,a=Object(Oe.a)(s);try{for(a.s();!(e=a.n()).done;)t+=e.value.value}catch(r){a.e(r)}finally{a.f()}return t}()*100),"%")};return Object(f.jsx)("div",{style:{height:"100%"},children:Object(f.jsx)(Te.a,{data:s,keys:["label"],colors:r?function(e){return r[e.id]}:["#002D73","#A9CCE3"],arcLabelsTextColor:"white",innerRadius:n,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:2,margin:{top:15,right:15,bottom:15,left:15},layers:["arcs","arcLabels","arcLinkLabels","legends",a?function(e){var t=e.centerX,r=e.centerY;return Object(f.jsx)("text",{x:t,y:r,textAnchor:"middle",dominantBaseline:"central",style:{fontSize:"28px",fontWeight:"600"},children:a})}:null],enableArcLabels:!1,arcLabel:function(e){return"".concat(i(e.value))},enableArcLinkLabels:!1})})},Ae=s.a.forwardRef((function(e,t){return Object(f.jsx)(U.a,Object(O.a)({direction:"up",ref:t},e))})),_e=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,lang:e.firebase.profile.lang}})),Object(k.firestoreConnect)([{collection:"preguntas"}]))((function(e){var t=e.pregunta,a=e.lang,r=s.a.useState(!1),n=Object(de.a)(r,2),i=n[0],c=n[1],o=function(){c(!1)},l={yes:0,no:0};t.respuestas.forEach((function(e){"S\xed"===e.respuesta?l.yes+=1:"No"===e.respuesta&&(l.no+=1)}));var u=(l=[{id:"no",label:"no",value:l.no},{id:"yes",label:"yes",value:l.yes}])[0].value+l[1].value!==0?Math.round(l[0].value/(l[0].value+l[1].value)*100):0;console.log("---\x3e",l);var d=t.respuestas.map((function(e){return Object(f.jsx)(be.a,{children:e.justificacion})})),h=a?[K.bText[a].preguntas.crearPregunta.fix,K.bText[a].preguntas.crearPregunta.contramedidas_temporales,K.bText[a].preguntas.crearPregunta.parar_produccion]:["###","###","###"];return t.createdAt?Object(f.jsxs)("div",{className:"new-class",children:[Object(f.jsx)("div",{className:"tarjeta-pregunta",children:Object(f.jsxs)("div",{className:"arroz-chino only2row",children:[Object(f.jsxs)("div",{className:"new-class new-class-2",children:[Object(f.jsx)("p",{className:"card-title",children:Object(f.jsx)("b",{children:t[a]})}),Object(f.jsxs)("p",{className:"card-title justify-text ",children:[Object(f.jsxs)("b",{children:[K.bText[a].preguntas.detallesPregunta.descripcion,": "]}),t.description]}),Object(f.jsxs)("p",{className:"card-title",children:[Object(f.jsxs)("b",{children:[K.bText[a].preguntas.detallesPregunta.categoria,": "]}),{1:"A",2:"B",3:"C",4:"D"}[t.category]]}),Object(f.jsxs)("p",{className:"card-title",children:[Object(f.jsxs)("b",{children:[K.bText[a].preguntas.detallesPregunta.plan_reaccion,": "]}),h[t.reaction_plan]]})]}),Object(f.jsxs)("div",{className:"new-parent",children:[Object(f.jsx)("div",{className:"graph-align",children:Object(f.jsx)(Se,{data:l||[],radius:.5,innerText:u+"%"})}),Object(f.jsx)("div",{className:"new-class-3",children:Object(f.jsx)("button",{className:"aceptar responder",onClick:function(){c(!0)},children:K.bText[a].preguntas.detallesPregunta.ver_respuestas})})]})]})}),Object(f.jsxs)(I.a,{open:i,TransitionComponent:Ae,onClose:o,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(f.jsx)(je.a,{id:"alert-dialog-slide-title",children:"Justificaciones a esta pregunta"}),Object(f.jsx)(L.a,{children:d}),Object(f.jsx)(B.a,{children:Object(f.jsx)(F.a,{onClick:o,color:"primary",children:"Aceptar"})})]})]}):Object(f.jsx)("div",{className:"container center",children:Object(f.jsx)("p",{children:"Cargando..."})})})),Ee=Object(D.d)(Object(h.b)((function(e,t){var a=t.match.params.id,r=e.firestore.data.auditorias;return{auditoria:r?r[a]:null,lang:e.firebase.profile.lang,auth:e.firebase.auth}})),Object(k.firestoreConnect)([{collection:"auditorias"}]))((function(e){var t=e.auditoria,a=e.auth,r=e.lang;return r?a.uid?t?Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"section",children:Object(f.jsx)("div",{className:"card x-depth-0",children:Object(f.jsxs)("div",{className:"card-content grey-text text-darken-3",children:[Object(f.jsx)("span",{className:"card-title",children:t.auditoria}),Object(f.jsxs)("p",{children:[K.bText[r].auditorias.detallesAuditoria.auditor,": ",t.auditor]}),Object(f.jsxs)("p",{children:[K.bText[r].auditorias.detallesAuditoria.descripcion,": ",t.description]}),Object(f.jsxs)("p",{children:[K.bText[r].auditorias.detallesAuditoria.plan_reaccion,": ",t.reaction_plan]}),Object(f.jsxs)("p",{children:[K.bText[r].auditorias.detallesAuditoria.creada_por,": ",t.createdBy,", ",pe()(t.createdAt.toDate()).locale(K.bText[r].locale).fromNow()]}),Object(f.jsxs)("p",{children:[K.bText[r].auditorias.detallesAuditoria.fecha_inicio,": ",pe()(t.fecha_inicio.toDate()).locale(K.bText[r].locale).fromNow()]}),Object(f.jsxs)("p",{children:[K.bText[r].auditorias.detallesAuditoria.fecha_finalizacion,": ",pe()(t.fecha_fin.toDate()).locale(K.bText[r].locale).fromNow()]}),Object(f.jsx)("p",{children:K.bText[r].auditorias.detallesAuditoria.preguntas})]})},t.id)})}):Object(f.jsxs)("div",{className:"container center",children:[console.log("cargando",K.bText,r),K.bText[r]?Object(f.jsx)("p",{children:K.bText[r].cargando}):null]}):Object(f.jsx)(m.a,{to:"/signin"}):null})),Pe=a(147),Re=a(1029),De=a(941),ke=a(1034),Fe=a(1040),Ie=a(1038),Be=a(535),Le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).handleChange=function(e){r.setState(Object(te.a)({},e.target.name,e.target.value))},r.handleSubmit=function(e){e.preventDefault();for(var t=Object.keys(r.state),a=["just-","resp-"],s={},n=0,i=t;n<i.length;n++){var c=i[n].substring(5,25);20===c.length&&(s[c]=!0)}s=Object.keys(s);var o,l=[],u=Object(Oe.a)(s);try{for(u.s();!(o=u.n()).done;){var d=o.value,h={pregunta:d,auditoria:r.props.match.params.id,area:r.state.area};h.auditoria_pregunta=r.props.match.params.id+"_"+d;var p,b=Object(Oe.a)(t);try{for(b.s();!(p=b.n()).done;){var j=p.value,f=j.substring(0,5),g=j.substring(5,25);a.includes(f)&&g===d&&("just-"===f?h.justificacion=r.state[j]:h.respuesta=r.state[j])}}catch(m){b.e(m)}finally{b.f()}l.push(h)}}catch(m){u.e(m)}finally{u.f()}r.props.respuestaPregunta(l),r.props.history.push("/")},r.Seguro=function(e){var t=r.props.lang;e.preventDefault(),R.a.fire({title:K.bText[t].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[t].swal.cancel,confirmButtonText:K.bText[t].swal.save}).then((function(a){a.isConfirmed?(r.handleSubmit(e),R.a.fire(K.bText[t].swal.saved,"","success")):a.isDenied&&R.a.fire(K.bText[t].swal.not_saved,"","info")}))},r.state={delay:100,result:"No result",password:"<NOPASS>",pass:"",preguntas:[],auditoria:"",area:"",_mounted:!1},r.handleScan=r.handleScan.bind(Object(Pe.a)(r)),r}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("Mounted!");var t=this.props.match.params.id;this.props.getAuditoria(t).then((function(t){e.setState({area:t.area,pass:t.password})})),this.props.preguntasAuditoria({id:t}).then((function(a){e.setState({preguntas:a.filter((function(e){return e})),auditoria:t,_mounted:!0},console.log("Updated!"))}))}},{key:"handleScan",value:function(e){null!==e&&this.setState({password:e.text})}},{key:"handleError",value:function(e){console.error(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,r=t.proceed,s=t.lang;if(!a.uid)return Object(f.jsx)(m.a,{to:"/signin"});if(!s)return null;if(this.state._mounted&&!r)return Object(f.jsx)(m.a,{to:"/"});if(this.state.pass!==this.state.password){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[s].auditorias.responderAuditoria.scan_qr})}),Object(f.jsx)("div",{className:"titulo"})]}),Object(f.jsx)("center",{children:Object(f.jsx)(Be.a,{delay:this.state.delay,style:{width:"90%"},onError:this.handleError,onScan:this.handleScan,facingMode:"rear"})})]})}return Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("div",{className:"test"}),Object(f.jsxs)("div",{className:"card x-depth-0",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[s].auditorias.responderAuditoria.responder_auditoria})}),Object(f.jsx)("div",{className:"titulo"})]}),Object(f.jsxs)("form",{className:"white section",onSubmit:this.Seguro,children:[this.state.preguntas&&this.state.preguntas.map((function(t){return Object(f.jsxs)("div",{className:"form-1 extra-padding-form",children:[Object(f.jsx)(De.a,{className:"legend-pregunta grey-text text-darken-3",component:"legend",children:Object(f.jsx)("h3",{children:t[s]})}),Object(f.jsxs)("div",{className:"campos extra-margin",children:[Object(f.jsxs)(Fe.a,{className:"radio-group",row:!0,"aria-label":"gender",name:"resp-"+t.id,onChange:e.handleChange,children:[Object(f.jsx)(Re.a,{className:"radio-button grey-text text-darken-3",value:"S\xed",control:Object(f.jsx)(ke.a,{}),label:K.bText[s].auditorias.responderAuditoria.si}),Object(f.jsx)(Re.a,{className:"radio-button grey-text text-darken-3",value:"No",control:Object(f.jsx)(ke.a,{}),label:K.bText[s].auditorias.responderAuditoria.no})]}),e.state["resp-"+t.id]&&"No"===e.state["resp-"+t.id]?Object(f.jsx)(Ie.a,{label:K.bText[s].auditorias.responderAuditoria.justificacion,className:"label70",name:"just-"+t.id,onChange:e.handleChange}):null]})]},t.id)})),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{id:"Enviar",className:"aceptar",children:K.bText[s].auditorias.responderAuditoria.enviar})})]})]})]})}}]),a}(r.Component),Ue=Object(D.d)(Object(h.b)((function(e,t){return{auth:e.firebase.auth,lang:e.firebase.profile.lang,proceed:!((e.firestore.ordered.respuestas&&e.firestore.ordered.respuestas.filter((function(a){return a.answeredById===e.firebase.auth.uid&&a.auditoria===t.match.params.id})).length)>0),preguntas:e.firestore.ordered.preguntas}}),(function(e){return{createAuditoria:function(t){return e(T(t))},preguntasAuditoria:function(t){return e(function(e){return function(){var t=Object(w.a)(y.a.mark((function t(a,r,s){var n,i,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.getFirebase,n=s.getFirestore,t.next=3,A(a,n,"auditorias",e.id);case 3:return i=t.sent,t.next=6,Promise.all(i.preguntas.map(function(){var e=Object(w.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(a,n,"preguntas",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return e})).catch((function(e){console.log(e)}));case 6:return c=t.sent,console.log("this is X before",c),a({type:"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA"},c),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}()}(t))},respuestaPregunta:function(t){return e((a=t,function(e,t,r){r.getFirebase;var s,n=(0,r.getFirestore)(),i=t().firebase.profile,c=t().firebase.auth.uid,o=a.map((function(e){return e.answeredBy=i.firstName+" "+i.lastName,e.answeredById=c,e.answeredAt=new Date,e})),l=Object(Oe.a)(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.collection("respuestas").add(u).then((function(){e({type:"CREATE_RESPUESTA_PREGUNTA"},a)})).catch((function(t){e({type:"CREATE_RESPUESTA_PREGUNTA_ERROR"},t)}))}}catch(d){l.e(d)}finally{l.f()}}));var a},getAuditoria:function(t){return e(E(t))}}})),Object(k.firestoreConnect)([{collection:"respuestas",orderBy:["answeredAt","asc"]}]))(Le),Ke=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={preguntas:[],auditoria:""},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.setState({auditoria:t}),this.props.preguntasAuditoriaVoting({id:t}).then((function(t){e.setState({preguntas:t})}))}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.lang;return t.uid?a?Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"",children:K.bText[a].preguntas.detallesPreguntasAuditoria.respuestas_auditoria})})]}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)("div",{className:"",children:this.state.preguntas&&this.state.preguntas.map((function(e){return Object(f.jsx)("div",{className:"",children:Object(f.jsx)(_e,{pregunta:e,lang:a})},e.id)}))})})]}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),a}(r.Component),Ge=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,lang:e.firebase.profile.lang}}),(function(e){return{preguntasAuditoriaVoting:function(t){return e(function(e){return function(){var t=Object(w.a)(y.a.mark((function t(a,r,s){var n,i,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.getFirebase,n=s.getFirestore,t.next=3,A(a,n,"auditorias",e.id);case 3:return i=t.sent,t.next=6,Promise.all(i.preguntas.map(function(){var t=Object(w.a)(y.a.mark((function t(r){var s,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(a,n,"preguntas",r);case 2:return s=t.sent,t.next=5,_(a,n,"respuestas","auditoria_pregunta",e.id+"_"+r);case 5:return i=t.sent,t.abrupt("return",Object(O.a)(Object(O.a)({},s),{},{respuestas:i}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){return e})).catch((function(e){console.log(e)}));case 6:return c=t.sent,a({type:"SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA"},c),t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(e,a,r){return t.apply(this,arguments)}}()}(t))}}})))(Ke),Qe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={category:4,description:"",reaction_plan:"",english:"",spanish:""},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleChangeSelect=function(t){e.setState({category:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.editPregunta(e.props.match.params.id,e.state),e.props.history.push("/preguntas")},e.Seguro=function(t){t.preventDefault(),R.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Save",denyButtonText:"Don't save"}).then((function(a){a.isConfirmed?(e.handleSubmit(t),R.a.fire("Saved!","","success")):a.isDenied&&R.a.fire("Changes are not saved","","info")}))},e.handleChangeSelectRP=function(t){e.setState({reaction_plan:t.target.value})},e}return Object(o.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props.match.params.id;this.props.getPregunta(t).then((function(t){e.setState({category:t.category,description:t.description,reaction_plan:t.reaction_plan,english:t.english,spanish:t.spanish})}))}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.lang;return t.uid?a?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/preguntas"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"titulo",children:K.bText[a].preguntas.crearPregunta.editar_pregunta})})]}),Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)("form",{className:"",onSubmit:this.Seguro,children:Object(f.jsxs)("div",{className:"form-2",children:[Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"english",value:this.state.english,placeholder:K.bText[a].preguntas.crearPregunta.crear_pregunta+" [EN]",onChange:this.handleChange})}),Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"spanish",value:this.state.spanish,placeholder:K.bText[a].preguntas.crearPregunta.crear_pregunta+" [ES]",onChange:this.handleChange})}),Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"description",value:this.state.description,placeholder:K.bText[a].preguntas.crearPregunta.descripcion,onChange:this.handleChange})}),Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",id:"reaction_plan",value:this.state.reaction_plan,onChange:this.handleChangeSelectRP,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsx)("div",{className:"placeholder-color",children:K.bText[a].preguntas.crearPregunta.plan_reaccion})}),Object(f.jsx)(V.a,{value:0,children:K.bText[a].preguntas.crearPregunta.fix}),Object(f.jsx)(V.a,{value:1,children:K.bText[a].preguntas.crearPregunta.contramedidas_temporales}),Object(f.jsx)(V.a,{value:2,children:K.bText[a].preguntas.crearPregunta.parar_produccion})]})}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsxs)("div",{className:"footer-single-flex",children:[Object(f.jsx)(M.a,{id:"select-level",children:K.bText[a].preguntas.crearPregunta.categoria}),Object(f.jsxs)(J.a,{labelId:"select-level",id:"level",value:this.state.category,onChange:this.handleChangeSelect,style:{width:"".concat(100,"px")},children:[Object(f.jsx)(V.a,{value:4,children:"A"}),Object(f.jsx)(V.a,{value:3,children:"B"}),Object(f.jsx)(V.a,{value:2,children:"C"}),Object(f.jsx)(V.a,{value:1,children:"D"})]})]})})]})})})}),Object(f.jsx)("div",{className:"footer-single",children:Object(f.jsx)("button",{className:"aceptar",onClick:this.Seguro,children:K.bText[a].preguntas.crearPregunta.editar})})]}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),a}(r.Component),We=Object(h.b)((function(e){return{auth:e.firebase.auth,lang:e.firebase.profile.lang}}),(function(e){return{editPregunta:function(t,a){return e(ve(t,a))},getPregunta:function(t){return e(function(e){return function(t,a,r){return r.getFirebase,(0,r.getFirestore)().collection("preguntas").doc(e).get().then((function(e){if(e.exists)return e.data()})).catch((function(e){console.log(e)}))}}(t))}}}))(Qe),ze=a(188);a(523);var He=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(c.a)(this,r);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).reauthenticate=function(e){var t=ze.a.auth().currentUser,a=ze.a.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(a)},e.changePassword=function(t,r){var s=a(7),n=e.props.lang;e.reauthenticate(t).then((function(){ze.a.auth().currentUser.updatePassword(r).then((function(){console.log("Password updated!"),e.props.history.push("/"),R.a.fire(s[n].swal.saved)})).catch((function(e){console.log(e)}))})).catch((function(t){e.setState({authError:t})}))},e.changeEmail=function(t,a){e.reauthenticate(t).then((function(){ze.a.auth().currentUser.updateEmail(a).then((function(){console.log("Email updated!")})).catch((function(e){console.log(e)}))})).catch((function(t){e.setState({authError:t})}))},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.state.newPassword===e.state.newPasswordConfirm?e.changePassword(e.state.currentPassword,e.state.newPassword):e.setState({authError:{code:"password missmatch",message:"Las contrase\xf1as no coinciden, c\xe1mbielas y pruebe otra vez"}})},e}return Object(o.a)(r,[{key:"componentWillMount",value:function(){this.setState({currentPassword:"",newPassword:"",newPasswordConfirm:"",authError:null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,r=t.lang;return a.uid?r?Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/profile"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"titulo",children:K.bText[r].auth.changePassword.cambiar_contrasena})})]}),Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)("form",{className:"",onSubmit:this.handleSubmit,children:Object(f.jsxs)("div",{className:"form-2",children:[Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",placeholder:K.bText[r].auth.changePassword.contrasena_actual,onChange:this.handleChange})}),Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",placeholder:K.bText[r].auth.changePassword.contrasena_nueva,onChange:this.handleChange})}),Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"password",id:"newPasswordConfirm",name:"newPasswordConfirm",placeholder:K.bText[r].auth.changePassword.repite_contrasena,onChange:this.handleChange})})]})})})}),Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"cancelar",onClick:function(){e.props.history.push("/profile")},children:K.bText[r].auth.changePassword.cancelar})}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"aceptar",onClick:this.handleSubmit,children:K.bText[r].auth.changePassword.aceptar})})]}),Object(f.jsx)("div",{className:"footer-single",children:this.state.authError?Object(f.jsx)("p",{children:this.state.authError.message}):null})]}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),r}(r.Component),Xe=Object(h.b)((function(e){return{auth:e.firebase.auth,lang:e.firebase.profile.lang}}))(He),qe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={lang:e.props.lang},e.handleChange=function(t){e.setState({lang:t.target.value},e.props.editIdioma(e.props.auth.uid,t.target.value))},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsxs)(J.a,{labelId:"select-filter",id:"filter",value:this.state.lang,onChange:this.handleChange,style:{marginLeft:"".concat(10,"px")},children:[Object(f.jsx)(V.a,{value:"english",children:"English"}),Object(f.jsx)(V.a,{value:"spanish",children:"Espa\xf1ol"})]})}}]),a}(r.Component),Je=Object(m.g)(Object(h.b)((function(e){return{lang:e.firebase.profile.lang,auth:e.firebase.auth}}),(function(e){return{editIdioma:function(t,a){return e(function(e,t){return function(a,r,s){s.getFirebase,(0,s.getFirestore)().collection("users").doc(e).update({lang:t}).then((function(){a({type:"EDIT_IDIOMA"},t)})).catch((function(e){a({type:"EDIT_IDIOMA_ERROR"},e)}))}}(t,a))}}}))(qe)),Ve=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userLevel,a=e.lang,r=e.auth,s=j;return r.uid?a?Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"box",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[a].opciones.opciones})})]}),Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"",children:[0===t?Object(f.jsxs)("div",{className:"extra-margin",children:[Object(f.jsx)(d.b,{className:"form-1 overwrite-margin center-box default-height",to:"/procesos",children:K.bText[a].opciones.procesos}),Object(f.jsx)(d.b,{className:"form-1 overwrite-margin center-box default-height",to:s.preguntas,children:K.bText[a].opciones.preguntas}),Object(f.jsx)(d.b,{className:"form-1 overwrite-margin center-box default-height",to:s.sign_up,children:K.bText[a].opciones.registrar_auditor})]}):null,Object(f.jsx)(d.b,{className:"form-1 overwrite-margin center-box default-height",to:s.change_password,children:K.bText[a].opciones.cambiar_contrasena}),Object(f.jsxs)("div",{className:"form-1 overwrite-margin center-box default-height",children:[K.bText[a].opciones.idioma+":"," ",Object(f.jsx)(Je,{})]})]})})]})}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),a}(r.Component),Me=Object(h.b)((function(e){return{lang:e.firebase.profile.lang,userLevel:e.firebase.profile.userLevel,auth:e.firebase.auth}}))(Ve),Ye=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={proceso:"",urgencia:"",area:""},e.handleCancel=function(){var t=e.props.match.params.proceso?"/areas/"+e.props.match.params.proceso:"/profile";t=e.props.match.params.id?"/areas/"+e.state.proceso:t,e.props.history.push(t)},e.handleSubmit=function(t){t.preventDefault();var a=e.props.match.params.proceso?"/areas/"+e.props.match.params.proceso:"/profile",r=e.props.match.params.id;a=r?"/areas/"+e.state.proceso:a,r?e.props.editArea(r,e.state):e.props.createArea(e.state),e.props.history.push(a)},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleChangeSelectProceso=function(t){e.setState({proceso:t.target.value})},e.handleChangeSelectUrgencia=function(t){e.setState({urgencia:t.target.value})},e.Seguro=function(t){t.preventDefault(),R.a.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Save",denyButtonText:"Don't save"}).then((function(a){a.isConfirmed?(e.handleSubmit(t),R.a.fire("Saved!","","success")):a.isDenied&&R.a.fire("Changes are not saved","","info")}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.match.params.proceso)this.setState({proceso:this.props.match.params.proceso});else{var t=this.props.match.params.id;if(!t)return null;this.props.getArea(t).then((function(t){e.setState(Object(O.a)({},t))}))}}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.userLevel,r=e.lang,s=e.procesos;if(!t.uid)return Object(f.jsx)(m.a,{to:"/signin"});if(!r)return null;if(0!==a)return Object(f.jsx)(m.a,{to:"/"});var n=this.props.match.params.proceso?"/areas/"+this.props.match.params.proceso:"/profile";return Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:n})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsxs)("h2",{className:"",children:[K.bText[r].area_proceso.crear," ",K.bText[r].area_proceso.area]})})]}),Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)("form",{className:"",onSubmit:this.Seguro,children:Object(f.jsxs)("div",{className:"form-2",children:[Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"area",value:this.state.area,placeholder:K.bText[r].area_proceso.Area,onChange:this.handleChange})}),Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",id:"urgencia",value:this.state.urgencia,onChange:this.handleChangeSelectUrgencia,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsx)("div",{className:"placeholder-color",children:K.bText[r].area_proceso.urgencia})}),Object(f.jsx)(V.a,{value:0,children:K.bText[r].area_proceso.regular}),Object(f.jsx)(V.a,{value:1,children:K.bText[r].area_proceso.media}),Object(f.jsx)(V.a,{value:2,children:K.bText[r].area_proceso.prioridad}),Object(f.jsx)(V.a,{value:3,children:K.bText[r].area_proceso.alta_prioridad})]})}),Object(f.jsx)("div",{className:"limit-width",children:Object(f.jsxs)(J.a,{labelId:"select-filter",id:"filter",value:this.state.proceso,onChange:this.handleChangeSelectProceso,className:"this-is-also-input",displayEmpty:!0,disableUnderline:!0,children:[Object(f.jsx)(V.a,{value:"",disabled:!0,children:Object(f.jsx)("div",{className:"placeholder-color",children:K.bText[r].area_proceso.proceso_corresponde})}),s&&s.map((function(e){return Object(f.jsx)(V.a,{className:"text-color",value:e.id,children:e.proceso},e.id)}))]})})]})})})}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"cancelar",onClick:this.handleCancel,children:K.bText[r].auditorias.crearAuditoria.cancelar})}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"aceptar",onClick:this.Seguro,children:K.bText[r].area_proceso.crear_area})})]})})]})}}]),a}(r.Component),Ze=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,lang:e.firebase.profile.lang,procesos:e.firestore.ordered.procesos}}),(function(e){return{createArea:function(t){return e(function(e){return function(t,a,r){var s=(0,r.getFirestore)(),n=a().firebase.profile,i=a().firebase.auth.uid;s.collection("areas").add(Object(O.a)(Object(O.a)({},e),{},{authorFirstName:n.firstName,authorLastName:n.lastName,authorId:i,createdAt:new Date})).then((function(){t({type:"CREATE_AREA_SUCCESS"})})).catch((function(e){t({type:"CREATE_AREA_ERROR"},e)}))}}(t))},editArea:function(t,a){return e(function(e,t){return function(a,r,s){s.getFirebase;var n=(0,s.getFirestore)(),i=r().firebase.profile,c=r().firebase.auth.uid;n.collection("areas").doc(e).update(Object(O.a)(Object(O.a)({},t),{},{updatedAt:new Date,updatedBy:i.firstName+" "+i.lastName,editorId:c})).then((function(){a({type:"EDIT_AREA"},t)})).catch((function(e){console.log("Fall\xf3"),a({type:"EDIT_AREA_ERROR"},e)}))}}(t,a))},getArea:function(t){return e(function(e){return function(t,a,r){return r.getFirebase,(0,r.getFirestore)().collection("areas").doc(e).get().then((function(e){if(e.exists)return e.data()})).catch((function(e){console.log(e)}))}}(t))}}})),Object(k.firestoreConnect)([{collection:"procesos"},{collection:"areas"}]))(Ye),$e=a(1033),et=s.a.forwardRef((function(e,t){return Object(f.jsx)(U.a,Object(O.a)({direction:"up",ref:t},e))})),tt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={proceso:"",preguntas:[],openB:!1,valueB:""},e.handleCancel=function(){e.props.history.push("/profile")},e.handleSubmit=function(t){t.preventDefault();var a=e.props.match.params.id,r={proceso:e.state.proceso,preguntas:e.state.preguntas.map((function(e){return e.id})),minCategory:Math.max.apply(Math,Object(x.a)(e.state.preguntas.map((function(e){return e.category}))))};a?e.props.editProceso(a,r):e.props.createProceso(r),e.props.history.push("/procesos")},e.handleChange=function(t){e.setState(Object(te.a)({},t.target.id,t.target.value))},e.handleChangeSelectProceso=function(t){e.setState({proceso:t.target.value})},e.handleChangeAutocomplete=function(t,a){e.setState({valueB:a})},e.handleChangeSelectUrgencia=function(t){e.setState({urgencia:t.target.value})},e.handleClickOpen=function(){e.setState({openB:!0})},e.handleCancel=function(){e.props.history.push("/procesos")},e.handleDelete=function(t){var a=e.state.preguntas.filter((function(e){return e.id!==t}));e.setState({preguntas:a})},e.handleClose=function(){e.setState({openB:!1})},e.cantSend=function(){return!(e.state.preguntas&&e.state.preguntas.length>=5&&e.state.preguntas.length<=15)},e.handleCloseSave=function(t){e.setState((function(t){return{openB:!1,preguntas:Object(x.a)(new Set([].concat(Object(x.a)(t.preguntas),[e.state.valueB])))}}))},e.Seguro=function(t){var a=e.props.lang;if(e.cantSend())return null;t.preventDefault(),R.a.fire({title:K.bText[a].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[a].swal.cancel,confirmButtonText:K.bText[a].swal.save}).then((function(r){r.isConfirmed?(e.handleSubmit(t),R.a.fire(K.bText[a].swal.saved,"","success")):r.isDenied&&R.a.fire(K.bText[a].swal.not_saved,"","info")}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;if(!t)return null;this.props.getProceso(t).then((function(t){e.setState({preguntas:t.preguntas.map((function(t){return e.props.preguntas.find((function(e){return e.id===t}))})),proceso:t.proceso})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,r=t.userLevel,s=t.lang,n=["Admin","D","C","B","A"];return a.uid?s?0!==r?Object(f.jsx)(m.a,{to:"/"}):Object(f.jsxs)("div",{className:"",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/procesos"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsxs)("h2",{className:"",children:[this.props.match.params.id?K.bText[s].area_proceso.editar:K.bText[s].area_proceso.crear," ",K.bText[s].area_proceso.proceso]})})]}),Object(f.jsx)("div",{className:"form-1",children:Object(f.jsx)("div",{className:"",children:Object(f.jsx)("form",{className:"",onSubmit:this.Seguro,children:Object(f.jsx)("div",{className:"form-2",children:Object(f.jsx)("div",{className:"input-field",children:Object(f.jsx)("input",{type:"text",id:"proceso",value:this.state.proceso,placeholder:K.bText[s].area_proceso.Proceso,onChange:this.handleChange})})})})})}),Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("div",{className:"margin-bottom",children:this.state.preguntas&&this.state.preguntas.map((function(t,a){return Object(f.jsx)("div",{className:"form-1 overwrite-margin",children:Object(f.jsxs)("div",{className:"nueva-pregunta",children:[Object(f.jsxs)("div",{className:"nueva-pregunta-index",children:[a+1,"."]}),Object(f.jsx)("div",{className:"nueva-pregunta-main",children:t[s]}),Object(f.jsx)("div",{className:"nueva-pregunta-layer",children:n[t.category]}),Object(f.jsx)("div",{className:"nueva-pregunta-delete hover-cursor",onClick:function(){e.handleDelete(t.id)},children:Object(f.jsx)(b.a,{icon:p.g})})]})},a)}))}),Object(f.jsxs)(I.a,{open:this.state.openB,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",TransitionComponent:et,children:[Object(f.jsx)(je.a,{id:"form-dialog-title",children:K.bText[s].auditorias.crearAuditoria.seleccionar_pregunta}),Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(be.a,{children:[K.bText[s].auditorias.crearAuditoria.text1,Object(f.jsx)(d.b,{to:"/crear-pregunta",target:"_blank",rel:"noopener noreferrer",className:"red-text",children:K.bText[s].auditorias.crearAuditoria.text2}),K.bText[s].auditorias.crearAuditoria.text3]}),Object(f.jsx)($e.a,{id:"valueB",name:"valueB",options:this.props.preguntas,onChange:this.handleChangeAutocomplete,getOptionLabel:function(e){return e[s]},renderInput:function(e){return Object(f.jsx)(Ie.a,Object(O.a)(Object(O.a)({},e),{},{label:"Preguntas",variant:"outlined"}))}})]}),Object(f.jsxs)(B.a,{children:[Object(f.jsx)(F.a,{onClick:this.handleCloseSave,color:"primary",children:K.bText[s].auditorias.crearAuditoria.agregar}),Object(f.jsx)(F.a,{onClick:this.handleClose,color:"secondary",children:K.bText[s].auditorias.crearAuditoria.cancelar})]})]})]})}),Object(f.jsx)("div",{className:"footer-single",children:Object(f.jsx)("button",{className:"add-question",onClick:this.handleClickOpen,children:K.bText[s].area_proceso.agregar_pregunta})}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"cancelar",onClick:this.handleCancel,children:K.bText[s].auditorias.crearAuditoria.cancelar})}),Object(f.jsx)("div",{className:"center-box",children:Object(f.jsx)("button",{className:"aceptar",onClick:this.Seguro,children:K.bText[s].area_proceso.crear_proceso})})]})})]}):null:Object(f.jsx)(m.a,{to:"/signin"})}}]),a}(r.Component),at=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,lang:e.firebase.profile.lang,procesos:e.firestore.ordered.procesos,preguntas:e.firestore.ordered.preguntas}}),(function(e){return{createProceso:function(t){return e(function(e){return function(t,a,r){var s=(0,r.getFirestore)(),n=a().firebase.profile,i=a().firebase.auth.uid;s.collection("procesos").add(Object(O.a)(Object(O.a)({},e),{},{authorFirstName:n.firstName,authorLastName:n.lastName,authorId:i,createdAt:new Date})).then((function(){t({type:"CREATE_PROCESO_SUCCESS"})})).catch((function(e){t({type:"CREATE_PROCESO_ERROR"},e)}))}}(t))},getProceso:function(t){return e(function(e){return function(t,a,r){return r.getFirebase,(0,r.getFirestore)().collection("procesos").doc(e).get().then((function(e){if(e.exists)return e.data()})).catch((function(e){console.log(e)}))}}(t))},editProceso:function(t,a){return e(function(e,t){return function(a,r,s){s.getFirebase;var n=(0,s.getFirestore)(),i=r().firebase.profile,c=r().firebase.auth.uid;n.collection("procesos").doc(e).update(Object(O.a)(Object(O.a)({},t),{},{updatedAt:new Date,updatedBy:i.firstName+" "+i.lastName,editorId:c})).then((function(){a({type:"EDIT_PROCESO"},t)})).catch((function(e){console.log("Fall\xf3"),a({type:"EDIT_PROCESO_ERROR"},e)}))}}(t,a))}}})),Object(k.firestoreConnect)([{collection:"procesos"},{collection:"preguntas"}]))(tt),rt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.procesos,r=t.userLevel,s=t.lang;return t.auth.uid?0!==r?Object(f.jsx)(m.a,{to:"/"}):s?Object(f.jsxs)("div",{className:"padre-padre-titulo",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:"/profile"})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[s].area_proceso.procesos})})]}),Object(f.jsxs)("div",{className:"arroz-chino",children:[Object(f.jsx)(X,{where:"/crear-proceso"}),a&&a.map((function(t){return Object(f.jsxs)("div",{className:"tarjeta-auditor\xeda",children:[Object(f.jsx)(d.b,{to:"/areas/"+t.id,className:"tarjeta-proceso-half1",children:t.proceso.toUpperCase()}),Object(f.jsxs)("div",{className:"tarjeta-auditor\xeda-half2",children:[Object(f.jsx)(d.b,{to:"/crear-proceso/"+t.id,className:"button",children:Object(f.jsx)(b.a,{icon:p.c})}),Object(f.jsx)("div",{className:"button hover-cursor",onClick:function(){R.a.fire({title:K.bText[s].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[s].swal.cancel,confirmButtonText:K.bText[s].swal.save}).then((function(a){a.isConfirmed?(e.props.deleteProceso(t.id),R.a.fire(K.bText[s].swal.saved,"","success")):a.isDenied&&R.a.fire(K.bText[s].swal.not_saved,"","info")}))},children:Object(f.jsx)(b.a,{icon:p.g})})]})]},t.id)}))]})]}):null:Object(f.jsx)(m.a,{to:"signin"})}}]),a}(r.Component),st=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,lang:e.firebase.profile.lang,procesos:e.firestore.ordered.procesos}}),(function(e){return{deleteProceso:function(t){return e(function(e){return function(t,a,r){r.getFirebase,(0,r.getFirestore)().collection("procesos").doc(e).delete()}}(t))}}})),Object(k.firestoreConnect)([{collection:"procesos"}]))(rt),nt=s.a.forwardRef((function(e,t){return Object(f.jsx)(U.a,Object(O.a)({direction:"up",ref:t},e))})),it=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={open:!1,count:[{id:"no",label:"no",value:35},{id:"yes",label:"yes",value:123}]},e.handleClickOpen=function(t){e.setState({open:!0},e.preguntaChart(t))},e.handleClose=function(){e.setState({open:!1})},e.preguntaChart=function(t){var a={yes:0,no:0};console.log("Respuestas:",e.props),e.props.respuestas.filter((function(e){return e.area===t})).forEach((function(e){"S\xed"===e.respuesta?a.yes+=1:"No"===e.respuesta&&(a.no+=1)})),e.setState({count:[{id:"no",label:"no",value:a.no},{id:"yes",label:"yes",value:a.yes}],actualText:Math.round(a.no/(a.yes+a.no)*100)})},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.areas,r=t.userLevel,s=t.lang;if(!t.auth.uid)return Object(f.jsx)(m.a,{to:"signin"});if(0!==r)return Object(f.jsx)(m.a,{to:"/"});if(!s)return null;var n=this.props.match.params.proceso,i=a?a&&n?Object(x.a)(a).filter((function(e){return e.proceso===n})):Object(x.a)(a):[],c=n?"/procesos":"/profile",o=n?"/crear-area-props/"+n:"/crear-area";return Object(f.jsxs)("div",{className:"padre-padre-titulo",children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile",children:Object(f.jsx)(Z,{where:c})}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{children:K.bText[s].area_proceso.areas})})]}),Object(f.jsxs)("div",{className:"arroz-chino",children:[Object(f.jsx)(X,{where:o}),i&&i.map((function(t){return Object(f.jsxs)("div",{className:"tarjeta-auditor\xeda",children:[Object(f.jsx)(d.b,{to:"/auditorias/"+(n?n+"/":" /")+t.id,className:"tarjeta-proceso-half1",children:t.area}),Object(f.jsxs)("div",{className:"tarjeta-auditor\xeda-half2",children:[Object(f.jsx)("div",{className:"button hover-cursor",onClick:function(){return e.handleClickOpen(t.id)},children:Object(f.jsx)(b.a,{icon:p.a})}),Object(f.jsx)(d.b,{to:"/crear-area/"+t.id,className:"button",children:Object(f.jsx)(b.a,{icon:p.c})}),Object(f.jsx)("div",{className:"button hover-cursor",onClick:function(){R.a.fire({title:K.bText[s].swal.title,showDenyButton:!0,showConfirmButton:!0,denyButtonText:K.bText[s].swal.cancel,confirmButtonText:K.bText[s].swal.save}).then((function(a){a.isConfirmed?(e.props.deleteArea(t.id),R.a.fire(K.bText[s].swal.saved,"","success")):a.isDenied&&R.a.fire(K.bText[s].swal.not_saved,"","info")}))},children:Object(f.jsx)(b.a,{icon:p.g})})]})]},t.id)}))]}),Object(f.jsxs)(I.a,{open:this.state.open,TransitionComponent:nt,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(f.jsx)(je.a,{id:"alert-dialog-slide-title",className:"popup-title",children:K.bText[s].area_proceso.grafica_global}),Object(f.jsx)(L.a,{className:"graph-align-popup",children:Object(f.jsx)(Se,{data:this.state.count,radius:.5,innerText:this.state.actualText+"%"})}),Object(f.jsx)(B.a,{children:Object(f.jsx)(F.a,{onClick:this.handleClose,color:"primary",children:K.bText[s].aceptar})})]})]})}}]),a}(r.Component),ct=Object(D.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,userLevel:e.firebase.profile.userLevel,lang:e.firebase.profile.lang,areas:e.firestore.ordered.areas,respuestas:e.firestore.ordered.respuestas}}),(function(e){return{deleteArea:function(t){return e(function(e){return function(t,a,r){r.getFirebase,(0,r.getFirestore)().collection("areas").doc(e).delete()}}(t))}}})),Object(k.firestoreConnect)([{collection:"areas"},{collection:"respuestas"}]))(it),ot=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"padre-titulo mobile",children:[Object(f.jsx)("div",{className:"titulo destroy-on-mobile"}),Object(f.jsx)("div",{className:"titulo",children:Object(f.jsx)("h2",{className:"",children:"Herramientas##"})})]}),Object(f.jsxs)("div",{className:"arroz-chino only2row",children:[Object(f.jsx)(d.b,{className:"tarjeta-auditor\xeda center-box",children:"Auditor\xedas###"}),Object(f.jsx)(d.b,{className:"tarjeta-auditor\xeda center-box",children:"Auditores###"}),Object(f.jsx)(d.b,{className:"tarjeta-auditor\xeda center-box",children:"Preguntas###"}),Object(f.jsx)(d.b,{className:"tarjeta-auditor\xeda center-box",children:"Procesos###"})]})]})}}]),a}(r.Component),lt=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=j;return Object(f.jsx)(d.a,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(g,{}),Object(f.jsxs)(m.d,{children:[Object(f.jsx)(m.b,{path:"/herramientas",component:ot}),Object(f.jsx)(m.b,{exact:!0,path:e.auditorias,component:ee}),Object(f.jsx)(m.b,{exact:!0,path:"/auditorias/:proceso/:area",component:ee}),Object(f.jsx)(m.b,{path:e.auditoria,component:Ee}),Object(f.jsx)(m.b,{path:e.profile,component:Me}),Object(f.jsx)(m.b,{path:e.sign_in,component:re}),Object(f.jsx)(m.b,{path:e.sign_up,component:ne}),Object(f.jsx)(m.b,{path:e.responder_auditoria_redirect,component:Ue}),Object(f.jsx)(m.b,{exact:!0,path:e.crear_auditoria,component:ue}),Object(f.jsx)(m.b,{path:e.crear_auditoria+"/:id",component:ue}),Object(f.jsx)(m.b,{path:"/crear-auditoria-props/:proceso/:area",component:ue}),Object(f.jsx)(m.b,{path:e.preguntas,component:Ce}),Object(f.jsx)(m.b,{path:e.crear_pregunta,component:we}),Object(f.jsx)(m.b,{path:e.preguntas_detalles_redirect,component:_e}),Object(f.jsx)(m.b,{path:e.detalles_preguntas_auditoria_redirect,component:Ge}),Object(f.jsx)(m.b,{path:e.editar_pregunta_redirect,component:We}),Object(f.jsx)(m.b,{path:e.change_password,component:Xe}),Object(f.jsx)(m.b,{exact:!0,path:"/crear-area",component:Ze}),Object(f.jsx)(m.b,{exact:!0,path:"/crear-area-props/:proceso",component:Ze}),Object(f.jsx)(m.b,{path:"/crear-area/:id",component:Ze}),Object(f.jsx)(m.b,{exact:!0,path:"/crear-proceso",component:at}),Object(f.jsx)(m.b,{path:"/crear-proceso/:id",component:at}),Object(f.jsx)(m.b,{path:"/procesos",component:st}),Object(f.jsx)(m.b,{exact:!0,path:"/areas",component:ct}),Object(f.jsx)(m.b,{path:"/areas/:proceso",component:ct})]})]})})}}]),a}(r.Component),ut=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1042)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),s(e),n(e),i(e)}))},dt={authError:null},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(O.a)(Object(O.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(O.a)(Object(O.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(O.a)(Object(O.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(O.a)(Object(O.a)({},e),{},{authError:t.err.message});default:return e}},pt={},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_AREA_SUCCESS":return console.log("create area success"),e;case"CREATE_AREA_ERROR":return console.log("create area error"),e;default:return e}},jt={},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROCESO_SUCCESS":return console.log("create proceso success"),e;case"CREATE_PROCESO_ERROR":return console.log("create proceso error"),e;default:return e}},gt={},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_AUDITORIA_SUCCESS":return console.log("create auditoria success",t.auditoria),e;case"CREATE_AUDITORIA_ERROR":return console.log("create auditoria error",t.err),e;case"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA":case"SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA":return e;case"FAILED_EXTRACT_PREGUNTAS_FROM_AUDITORIA":return console.log("create pregunta error",t.err),e;default:return e}},xt=a(186),Ot=Object(D.c)({auth:ht,auditoria:mt,area:bt,proceso:ft,firestore:xt.firestoreReducer,firebase:k.firebaseReducer}),vt=a(539),Nt=a(242);a(938),a(523);Nt.a.initializeApp({apiKey:"AIzaSyAh_1nahadyMVGyFn5uVk3Ibg6l1W6kP7U",authDomain:"gst-app-18bf6.firebaseapp.com",projectId:"gst-app-18bf6",storageBucket:"gst-app-18bf6.appspot.com",messagingSenderId:"313627774403",appId:"1:313627774403:web:b9f93efea81137b3570176"}),Nt.a.firestore().settings({timestampsInSnapshots:!0});var Ct=Nt.a,yt=Object(D.e)(Ot,Object(D.d)(Object(D.a)(vt.a.withExtraArgument({getFirebase:k.getFirebase,getFirestore:xt.getFirestore})),Object(xt.reduxFirestore)(Ct),Object(k.reactReduxFirebase)(Ct,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));yt.firebaseAuthIsReady.then((function(){i.a.render(Object(f.jsx)(h.a,{store:yt,children:Object(f.jsx)(lt,{})}),document.getElementById("root"))})),ut()}},[[939,1,2]]]);
//# sourceMappingURL=main.06534fa3.chunk.js.map