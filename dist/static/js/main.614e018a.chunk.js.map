{"version":3,"sources":["config/config.js","components/layout/Navbar.js","store/actions/authActions.js","store/actions/auditoriaActions.js","config/language.js","components/auditorias/TarjetaAuditoria.js","components/auditorias/TarjetaAgregarAuditoria.js","components/auditorias/Auditorias.js","components/util/Volver.js","components/auditorias/DashboardAuditorias.js","components/auth/SignIn.js","styles/imgs/Logo-GST.png","components/auth/SignUp.js","components/util/DatepickerInput.js","components/auditorias/CrearAuditoria.js","components/preguntas/TarjetaPregunta.js","components/preguntas/TarjetaAgregarPregunta.js","components/preguntas/Preguntas.js","store/actions/preguntaActions.js","components/preguntas/DashboardPreguntas.js","components/preguntas/CrearPregunta.js","components/util/gr√°ficas/PieChart.js","components/preguntas/DetallesPregunta.js","components/auditorias/DetallesAuditoria.js","components/auditorias/ResponderAuditoria.js","components/preguntas/DetallesPreguntasAuditoria.js","components/preguntas/EditarPregunta.js","components/auth/ChangePassword.js","components/util/CambiarIdioma.js","store/actions/idiomaActions.js","components/util/Profile.js","components/areas&procesos/Area.js","store/actions/areaActions.js","components/areas&procesos/Proceso.js","store/actions/procesoActions.js","components/areas&procesos/DashboardProcesos.js","components/areas&procesos/DashboardAreas.js","components/herramientas/SelectorHerramientas.js","App.js","reportWebVitals.js","store/reducers/authReducer.js","store/reducers/areaReducer.js","store/reducers/procesoReducer.js","store/reducers/auditoriaReducer.js","store/reducers/rootReducer.js","config/fbConfig.js","index.js"],"names":["directions","profile","sign_in","sign_up","crear_auditoria","areas","auditoria","auditorias","editar_auditoria","editar_auditoria_redirect","responder_auditoria","responder_auditoria_redirect","auditorias_area","preguntas","preguntas_detalles","preguntas_detalles_redirect","crear_pregunta","detalles_preguntas_auditoria","detalles_preguntas_auditoria_redirect","detalles_pregunta_auditoria","detalles_pregunta_auditoria_redirect","editar_pregunta","editar_pregunta_redirect","change_password","mainproceso","connect","state","auth","firebase","dispatch","signOut","getState","getFirebase","then","type","props","path","uid","className","to","icon","faCog","onClick","history","push","faSignOutAlt","createAuditoria","firestore","getFirestore","authorId","collection","add","createdBy","firstName","lastName","createdAt","Date","catch","err","editAuditoria","id","doc","update","updatedAt","updatedBy","editorId","asyncCall","a","docRef","get","exists","data","console","log","asyncWhereCall","param","value","where","snap","res","empty","forEach","getAuditoria","bText","spanish","locale","return","cargando","aceptar","guardar","cancelar","swal","title","cancel","save","saved","not_saved","area_proceso","crear","editar","area","Area","proceso","Proceso","urgencia","proceso_corresponde","crear_area","crear_proceso","regular","media","prioridad","alta_prioridad","nada","crearAuditoria","nombre_auditoria","auditor","termina_el","inicia_el","agregar","seleccionar_pregunta","text1","text2","text3","dashboardAuditorias","ordenar_fecha","agrupar_areas","mostrar_realizados","fecha_inicio","fecha_expiracion","fecha_creacion","vista","detallesAuditoria","descripcion","plan_reaccion","creada_por","fecha_finalizacion","responderAuditoria","justificacion","si","no","enviar","scan_qr","tarjetaAuditoria","fecha_limite","password","assignedBy","changePassword","cambiar_contrasena","contrasena_actual","contrasena_nueva","repite_contrasena","signIn","correo","contrasena","iniciar_sesion","signUp","registrar","nombre","apellido","capa","registrar_auditor","layout","navbar","signedInLinks","signedOutLinks","crearPregunta","pregunta","categoria","fix","contramedidas_temporales","parar_produccion","dashboardPreguntas","creacion_preguntas","detallesPregunta","creado_por","creado","ver_respuestas","detallesPreguntaIndividual","detallesPreguntasAuditoria","respuestas_auditoria","preguntaGrafica","tarjetaPregunta","opciones","idioma","procesos","english","Transition","React","forwardRef","ref","Slide","direction","TarjetaAuditoria","open","handleClickOpen","setState","handleClose","prototype","addDays","days","date","this","valueOf","setDate","getDate","userLevel","alreadyDone","lang","users","color","text","findUser","map","u","find","e","findArea","findProceso","style","backgroundColor","graphOrWarn","faChartBar","botones","faQrcode","faEdit","Swal","fire","showDenyButton","showConfirmButton","denyButtonText","confirmButtonText","result","isConfirmed","deleteAuditoria","isDenied","faTrashAlt","moment","fecha_fin","toDate","fromNow","content","length","substr","join","dialog","Dialog","TransitionComponent","onClose","aria-labelledby","aria-describedby","DialogContent","DialogActions","Button","Component","compose","ordered","delete","firestoreConnect","TarjetaAgregarAuditoria","hasTrace","whereToGo","size","faPlus","Auditorias","pertinent","filter","includes","Volver","move","withRouter","DashboardAuditorias","handleChangeSelect","target","getKeyByValue","object","Object","keys","key","respuestas","rightNow","whatAuditorias","match","params","orderedAudit","filter_value","filteredAuditorias","sort","b","x","toString","y","reverse","filtRespuestas","answeredById","filtID","fA","aud","menuItems","Select","labelId","onChange","MenuItem","InputLabel","orderBy","SignIn","email","handleChange","handleSubmit","preventDefault","listenEnter","event","keyCode","authError","src","alt","onSubmit","htmlFor","onKeyDown","placeholder","creds","credentials","signInWithEmailAndPassword","SignUp","level","Seguro","showCancelButton","autoComplete","autoCorrect","spellCheck","width","newUser","functions","httpsCallable","changeLang","DatepickerInput","readOnly","CrearAuditoria","openB","valueB","handleChangeAutocomplete","newValue","toSend","p","require","generate","numbers","uppercase","lowercase","handleCancel","handleDelete","newPreguntas","handleCloseSave","prevState","Set","handleChangeSelectProceso","handleChangeSelectArea","handleChangeSelectAuditor","newAuditor","name","sortByKey","array","cantSend","pre","fil","filtUsers","temp1","auditorCount","ar","layerName","displayEmpty","disableUnderline","disabled","layer","selected","withPortal","customInput","TarjetaPregunta","deletePregunta","react_plan","0","1","2","useState","setOpen","description","maxQuestionLength","reaction_plan","DialogTitle","DialogContentText","3","4","category","TarjetaAgregarPregunta","Preguntas","editPregunta","sortedPreguntas","DashboardPreguntas","CrearPregunta","createPregunta","handleChangeSelectRP","PieChart","radius","innerText","colors","innerRadius","format","v","Math","round","total","height","bar","arcLabelsTextColor","padAngle","cornerRadius","activeOuterRadiusOffset","margin","top","right","bottom","left","layers","centerX","centerY","textAnchor","dominantBaseline","fontSize","fontWeight","enableArcLabels","arcLabel","d","enableArcLinkLabels","count","yes","respuesta","actualText","label","justificaciones","reaction","ownProps","ResponderAuditoria","validKN","header_base","substring","results","ks","dict","k","header","cont","respuestaPregunta","delay","pass","_mounted","handleScan","bind","preguntasAuditoria","r","error","proceed","facingMode","onError","handleError","onScan","index","FormLabel","component","RadioGroup","row","aria-label","FormControlLabel","control","Radio","TextField","Promise","all","values","respArray","re","answeredBy","answeredAt","DetallesPreguntasAuditoria","preguntasAuditoriaVoting","EditarPregunta","getPregunta","ChangePassword","reauthenticate","currentPassword","user","currentUser","cred","EmailAuthProvider","credential","reauthenticateWithCredential","newPassword","updatePassword","changeEmail","newEmail","updateEmail","newPasswordConfirm","code","message","CambiarIdioma","editIdioma","marginLeft","Profile","editArea","createArea","handleChangeSelectUrgencia","getArea","authorFirstName","authorLastName","minCategory","max","editProceso","createProceso","getProceso","rel","Autocomplete","options","getOptionLabel","option","renderInput","variant","agregar_pregunta","DashboardProcesos","pro","toUpperCase","deleteProceso","DashboardAreas","preguntaChart","procesoFilt","avalAreas","createWProps","deleteArea","grafica_global","SelectorHerramientas","App","exact","DetallesAuditoria","DetallesPregunta","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initState","authReducer","action","areaReducer","procesoReducer","auditoriaReducer","rootReducer","combineReducers","firestoreReducer","firebaseReducer","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","settings","timestampsInSnapshots","store","createStore","applyMiddleware","thunk","withExtraArgument","reduxFirestore","fbConfig","reactReduxFirebase","useFirestoreForProfile","userProfile","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.614e018a.chunk.js","sourcesContent":["export const directions = {\r\n    path: {\r\n        profile: \"/profile\",\r\n        sign_in: \"/signin\",\r\n        sign_up: \"/signup\",\r\n        crear_auditoria: \"/crear-auditoria\",\r\n        areas: \"/areas\",\r\n        auditoria: \"/auditoria/:id\",\r\n        auditorias: \"/\",\r\n        editar_auditoria: \"/editar-auditoria\",\r\n        editar_auditoria_redirect: \"/editar-auditoria/:id\",\r\n        responder_auditoria: \"/responder-auditoria\",\r\n        responder_auditoria_redirect: \"/responder-auditoria/:id\",\r\n        auditorias_area: \"/area/:id\",\r\n        preguntas: \"/preguntas\",\r\n        preguntas_detalles: \"/detalles-pregunta\",\r\n        preguntas_detalles_redirect: \"/detalles-pregunta/:id\",\r\n        crear_pregunta: \"/crear-pregunta\",\r\n        detalles_preguntas_auditoria: \"/detalles-preguntas-auditoria\",\r\n        detalles_preguntas_auditoria_redirect: \"/detalles-preguntas-auditoria/:id\",\r\n        detalles_pregunta_auditoria: \"/detalles-pregunta-auditoria\",\r\n        detalles_pregunta_auditoria_redirect: \"/detalles-pregunta-auditoria/:id\",\r\n        editar_pregunta: \"/editar-pregunta\",\r\n        editar_pregunta_redirect: \"/editar-pregunta/:id\",\r\n        change_password: \"/change_password\",\r\n        mainproceso: \"/mainproceso\",\r\n        // pregunta_reponder: \"/responder-pregunta\",\r\n        // pregunta_reponder_redirect: \"/responder-pregunta/:id\"\r\n    },\r\n    pathName: {\r\n        profile: \"Profile\",\r\n        sign_in: \"Login\",\r\n        sign_up: \"SignUp\",\r\n        crear_auditoria: \"Crear auditor√≠a\",\r\n        areas: \"Areas\",\r\n        auditorias: \"Auditorias\",\r\n        auditoria: \"Auditoria\",\r\n        responder_auditoria: \"Responder auditoria\",\r\n        preguntas: \"Preguntas\",\r\n        crear_pregunta: \"Crear pregunta\",\r\n        pregunta_detalles: \"Detalles de pregunta\",\r\n        pregunta_responder: \"Responder pregunta\",\r\n        detalles_preguntas_auditoria: \"Detalles de las preguntas de la auditor√≠a\",\r\n        change_password: \"Cambiar contrase√±a\",\r\n        editarauditoria: \"Editar Auditoria\",\r\n        mainproceso: \"Proceso principal\",\r\n    },\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport {signOut} from '../../store/actions/authActions'\r\n\r\nimport { faSignOutAlt, faCog } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {directions} from \"../../config/config\"\r\n\r\n\r\n//<div className=\"\"> ==> <div className=\"container\"> to center\r\nconst Navbar = (props) => {\r\n    var { path } = directions\r\n    const {auth} = props\r\n\r\n    return (\r\n        auth.uid ? (\r\n            <div className=\"padre-titulo nav\">\r\n            {/* <ul> */}\r\n                <div className=\"titulo\">\r\n                    <div className=\"perfil\">\r\n                        <Link to={path.profile} className=\"center-box\">\r\n                            <FontAwesomeIcon icon={faCog} />\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"titulo\">\r\n                    <div className=\"\">\r\n                        <NavLink to={path.auditorias} className=\"\">\r\n                            <b>Global Safety Textiles</b>\r\n                        </NavLink>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"titulo\">\r\n                    <div className=\"imout hover-cursor\" onClick={() => {\r\n                        props.signOut();\r\n                        if (props.history) {\r\n                            props.history.push(\"/signin\")\r\n                        }\r\n                        \r\n                    }}>\r\n                        <FontAwesomeIcon icon={faSignOutAlt} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ) : null\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        profile: state.firebase.profile\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signOut: () => dispatch(signOut())\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);","export const signIn = (credentials) => {\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n\r\n        firebase.auth().signInWithEmailAndPassword(\r\n            credentials.email,\r\n            credentials.password\r\n        ).then(() => {\r\n            dispatch({ type: 'LOGIN_SUCCESS' });\r\n        }).catch((err) => {\r\n            dispatch({ type: 'LOGIN_ERROR', err });\r\n        });\r\n\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return (dispatch, getState, { getFirebase }) => {\r\n        const firebase = getFirebase();\r\n\r\n        firebase.auth().signOut().then(() => {\r\n            dispatch({ type: 'SIGNOUT_SUCCESS' })\r\n        });\r\n    }\r\n}\r\n\r\n// export const signUp = (newUser) => {\r\n//     return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n//         const firebase = getFirebase();\r\n//         const firestore = getFirestore();\r\n\r\n//         firebase.auth().createUserWithEmailAndPassword(\r\n//             newUser.email,\r\n//             newUser.password\r\n//         ).then(resp => {\r\n//             return firestore.collection('users').doc(resp.user.uid).set({\r\n//                 firstName: newUser.firstName,\r\n//                 lastName: newUser.lastName,\r\n//                 userLevel: newUser.level,\r\n//                 lang: newUser.lang,\r\n//                 // Se pretende que haya Admin, A, B, C, D, E (o los necesarios)\r\n//                 // Pero por facilidades t√©cnicas, esto se har√° num√©ricamente\r\n//                 // Cuando ya se est√© trabajando en esto puedes descomentar la userLevel\r\n//                 // Para inclu√≠r el ID del usuario en las preguntas resueltas creo que puedes \r\n//                 // Sacarlo de .auth, no necesariamente de profile, aunque ser√≠a pr√°ctico poder sacarlo de\r\n//                 // Profile para usarlo en todos lados\r\n\r\n//             });\r\n//         }).then(() => {\r\n//             dispatch({ type: 'SIGNUP_SUCCESS' });\r\n//         }).catch((err) => {\r\n//             dispatch({ type: 'SIGNUP_ERROR', err });\r\n//         });\r\n//     }\r\n// }\r\n\r\nexport const signUp = (newUser) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n        const profile = getState().firebase.profile;\r\n\r\n        const changeLang = firebase.functions().httpsCallable('createUser');\r\n\r\n        changeLang({newUser: newUser, userLevel: profile.userLevel}).then((res) => {\r\n            console.log(\"Creado nuevo usuario\")\r\n        });\r\n\r\n    }\r\n}\r\n\r\n\r\n// export const signUp = (newUser) => {\r\n//     return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n//         const firebase = getFirebase();\r\n//         const firestore = getFirestore();\r\n\r\n//         firebase.auth().createUserWithEmailAndPassword(\r\n//             newUser.email,\r\n//             newUser.password\r\n//         ).then(resp => {\r\n//             return firestore.collection('users').doc(resp.user.uid).set({\r\n//                 firstName: newUser.firstName,\r\n//                 lastName: newUser.lastName,\r\n//                 initials: newUser.firstName[0] + newUser.lastName[0],\r\n//                 userLevel: newUser.level,\r\n//                 lang: newUser.lang,\r\n//                 // Se pretende que haya Admin, A, B, C, D, E (o los necesarios)\r\n//                 // Pero por facilidades t√©cnicas, esto se har√° num√©ricamente\r\n//                 // Cuando ya se est√© trabajando en esto puedes descomentar la userLevel\r\n//                 // Para inclu√≠r el ID del usuario en las preguntas resueltas creo que puedes \r\n//                 // Sacarlo de .auth, no necesariamente de profile, aunque ser√≠a pr√°ctico poder sacarlo de\r\n//                 // Profile para usarlo en todos lados\r\n\r\n//             });\r\n//         }).then(() => {\r\n//             dispatch({ type: 'SIGNUP_SUCCESS' });\r\n//         }).catch((err) => {\r\n//             dispatch({ type: 'SIGNUP_ERROR', err });\r\n//         });\r\n//     }\r\n// }","export const createAuditoria = (auditoria) => {\r\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        \r\n        firestore.collection(\"auditorias\").add({\r\n            ...auditoria,\r\n            createdBy: profile.firstName + \" \" + profile.lastName,\r\n            createdAt: new Date(),\r\n            authorId,\r\n            //FechaInicio y FechaFin\r\n            //Tratar√© de hacerlo con un componente\r\n            //de calendario\r\n        }).then(() => {\r\n            dispatch({ type: \"CREATE_AUDITORIA\" }, auditoria)\r\n        }).catch((err) => {\r\n            dispatch({type: \"CREATE_AUDITORIA_ERROR\"}, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const editAuditoria = (id, auditoria) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        // console.log(\"This is what I get: \", id, auditoria)\r\n\r\n        firestore.collection(\"auditorias\").doc(id).update({\r\n            ...auditoria,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_AUDITORIA\" }, auditoria)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"EDIT_AUDITORIA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const deleteAuditoria = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        firestore.collection(\"auditorias\").doc(id).delete()\r\n    }\r\n}\r\n\r\nconst asyncCall = async (dispatch, getFirestore, collection, id) => {\r\n    const firestore = getFirestore();\r\n\r\n    //console.log(\"this is auditoria here: \", auditoria)\r\n    var docRef = firestore.collection(collection).doc(id);\r\n\r\n    return docRef.get()//FIND() //.add()\r\n        .then((doc) => {\r\n            if (doc.exists) {\r\n                //console.log(\"this: \", doc.data())\r\n                return {...doc.data(), id}\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n}\r\n\r\n\r\nexport const preguntasAuditoria = (auditoria) => {\r\n    return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, preguntas)\r\n        let x = await asyncCall(dispatch, getFirestore, \"auditorias\", auditoria.id);\r\n\r\n        const result = await Promise.all(x.preguntas.map(async (id) => {\r\n            return await asyncCall(dispatch, getFirestore, \"preguntas\", id)\r\n        })).then((values) => {\r\n            // console.log(\"Values: \", values)\r\n            // if (values.exist) {\r\n                return values\r\n            // }\r\n            // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, values)\r\n            \r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n\r\n        console.log(\"this is X before\", result)\r\n        dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, result)\r\n        return result\r\n    }\r\n}\r\n\r\nconst asyncWhereCall = async (dispatch, getFirestore, collection, param, value) => {\r\n    const firestore = getFirestore();\r\n    // console.log(\"asyncWhereCall: \", collection, param, value)\r\n    //console.log(\"this is auditoria here: \", auditoria)\r\n    const docRef = firestore.collection(collection).where(param, \"==\", value);\r\n\r\n    const snap = await docRef.get()\r\n    var res = []\r\n    if (snap.empty) {\r\n        console.log('No matching documents.');\r\n        // return;\r\n    } else {\r\n        snap.forEach(doc => {\r\n            res.push(doc.data())\r\n            // console.log(\"ElseWhere\", doc.id, '=>', doc.data());\r\n        });\r\n    }\r\n\r\n    return res\r\n}\r\n\r\nexport const preguntasAuditoriaVoting = (auditoria) => {\r\n    return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, preguntas)\r\n        let x = await asyncCall(dispatch, getFirestore, \"auditorias\", auditoria.id);\r\n\r\n        const result = await Promise.all(x.preguntas.map(async (id) => {\r\n            var pregunta = await asyncCall(dispatch, getFirestore, \"preguntas\", id);\r\n            // console.log(auditoria.id, typeof auditoria.id, id, typeof id)\r\n            var respuestas = await asyncWhereCall(dispatch, getFirestore, \"respuestas\", \"auditoria_pregunta\", auditoria.id + \"_\" + id)\r\n            return {...pregunta, respuestas}\r\n        })).then((values) => {\r\n            // console.log(\"Values: \", values)\r\n            // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, values)\r\n            return values\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n\r\n        // console.log(\"this is X in the new fuction\", result)\r\n        dispatch({ type: 'SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA' }, result)\r\n        return result\r\n    }\r\n}\r\n\r\nexport const getAuditoria = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"auditorias\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}\r\n\r\n// //Se recibe el ID\r\n// export const failedVersion = (auditoria) => {\r\n//     return async (dispatch, getState, { getFirebase, getFirestore }) => {\r\n//         // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, preguntas)\r\n//         let x = await preguntasAuditoria(auditoria);\r\n\r\n//         console.log(\"this is X\", x)\r\n\r\n//         const result = await Promise.all(x.map(async (pregunta) => {\r\n//             var exData = await asyncWhereCall(dispatch, getFirestore, \"respuestas\", \"auditoria_pregunta\", auditoria + \"_\" + pregunta.id)\r\n\r\n//             return {...pregunta, voting: exData}\r\n//         })).then((values) => {\r\n//             // console.log(\"Values: \", values)\r\n//             // dispatch({ type: \"SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA\" }, values)\r\n//             return values\r\n//         }).catch((err) => {\r\n//             console.log(err)\r\n//         });\r\n\r\n//         //console.log(result)\r\n//         dispatch({ type: 'SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA' }, result)\r\n//         return result\r\n//     }\r\n// }","export const bText = {\r\n    spanish: {\r\n        locale: \"es\",\r\n        return: \"Volver\",\r\n        cargando: \"Cargando...\",\r\n        aceptar: \"Aceptar\",\r\n        guardar: \"Guardar\",\r\n        cancelar: \"Cancelar\",\r\n        swal: {\r\n            title: \"¬øGuardar cambios?\",\r\n            cancel: \"Descartar\",\r\n            save: \"Guardar\",\r\n            saved: \"Guardado!\",\r\n            not_saved: \"Los cambios no se guardaron\",\r\n        },\r\n        area_proceso: {\r\n            crear: \"Crear\",\r\n            editar: \"Editar\",\r\n            area: \"√°rea\",\r\n            Area: \"√Årea\",\r\n            proceso: \"proceso\",\r\n            Proceso: \"Proceso\",\r\n            urgencia: \"Prioridad\",\r\n            proceso_corresponde: \"Proceso al que corresponde\",\r\n            crear_area: \"Crear nueva √°rea\",\r\n            crear_proceso: \"Crear nuevo proceso\",\r\n            regular: \"Prioridad normal\",\r\n            media: \"Prioridad media\",\r\n            prioridad: \"Prioritario\",\r\n            alta_prioridad: \"Alta prioridad\",\r\n            crear_area: \"Guardar\",\r\n            crear_proceso: \"Guardar\",\r\n            agregar_pregunta: \"Agregar pregunta\",\r\n            procesos: \"Procesos\",\r\n            areas: \"√Åreas de trabajo\",\r\n            grafica_global: \"Gr√°fica global\",\r\n        },\r\n        auditorias: {\r\n            auditorias: {\r\n                nada: \"Parece que todo ha estado calmado √∫ltimamente\",\r\n            },\r\n            crearAuditoria: {\r\n                crear_auditoria: \"Asignar LPA\",\r\n                editar_auditoria: \"Editar auditoria\",\r\n                nombre_auditoria: \"Nombre de la auditoria\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Proceso\",\r\n                area: \"√Årea\",\r\n                termina_el: \"Fin:\",\r\n                inicia_el: \"Inicio:\",\r\n                agregar: \"Agregar\",\r\n                cancelar: \"Cancelar\",\r\n                seleccionar_pregunta: \"Seleccionar pregunta\",\r\n                text1: \"Busca y selecciona las preguntas que desees a√±adir o \",\r\n                text2: \" crea una pregunta nueva, \",\r\n                text3: \"una vez creada la podr√°s seleccionar en esta lista.\",\r\n                crear: \"Asignar\",\r\n                editar: \"Guardar\",\r\n            },\r\n            dashboardAuditorias: {\r\n                ordenar_fecha: \"Ordenar por fecha\",\r\n                agrupar_areas: \"Ir a la vista de procesos\",\r\n                mostrar_realizados: \"Mostrar realizados\",\r\n                fecha_inicio: \"Fecha de inicio\",\r\n                fecha_expiracion: \"Fecha de expiraci√≥n\",\r\n                fecha_creacion: \"Fecha de creaci√≥n\",\r\n                area: \"√Årea\",\r\n                proceso: \"Proceso\",\r\n                auditor: \"Auditor\",\r\n                vista: \"Vista\",\r\n                auditorias: \"Auditor√≠as Programadas\",\r\n            },\r\n            detallesAuditoria: {\r\n                auditor: \"Auditor\",\r\n                descripcion: \"Descripci√≥n\",\r\n                plan_reaccion: \"Plan de reacci√≥n\",\r\n                creada_por: \"Creada por\",\r\n                fecha_inicio: \"Fecha de inicio\",\r\n                fecha_finalizacion: \"Fecha de finalizaci√≥n\",\r\n                preguntas: \"Preguntas (esto es un array, ya veremos como se arregla esto)\",\r\n            },\r\n            responderAuditoria: {\r\n                responder_auditoria: \"Responder auditoria\",\r\n                justificacion: \"Justificaci√≥n\",\r\n                si: \"S√≠\",\r\n                no: \"No\",\r\n                enviar: \"Enviar\",\r\n                scan_qr: \"Escanea el c√≥digo QR\"\r\n            },\r\n            tarjetaAuditoria: {\r\n                fecha_limite: \"Fecha l√≠mite\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Proceso\",\r\n                password: \"Contrase√±a\",\r\n                assignedBy: \"Asignada por\",\r\n            },\r\n        },\r\n        auth: {\r\n            changePassword: {\r\n                cambiar_contrasena: \"Cambiar contrase√±a\",\r\n                contrasena_actual: \"Contrase√±a actual\",\r\n                contrasena_nueva: \"Contrase√±a nueva\",\r\n                repite_contrasena: \"Repite la contrase√±a nueva\",\r\n                aceptar: \"Aceptar\",\r\n                cancelar: \"Cancelar\",\r\n            },\r\n            signIn: {\r\n                correo: \"Correo\",\r\n                contrasena: \"Contrase√±a\",\r\n                iniciar_sesion: \"Iniciar sesi√≥n\",\r\n            },\r\n            signUp: {\r\n                registrar: \"Registrar\",\r\n                correo: \"Correo\",\r\n                contrasena: \"Contrase√±a\",\r\n                nombre: \"Nombre\",\r\n                apellido: \"Apellidos\",\r\n                capa: \"Capa\",\r\n                registrar_auditor: \"Registrar auditor\",\r\n            },\r\n        },\r\n        layout: {\r\n            navbar: {\r\n\r\n            },\r\n            signedInLinks: {\r\n\r\n            },\r\n            signedOutLinks: {\r\n\r\n            },\r\n        },\r\n        preguntas: {\r\n            crearPregunta: {\r\n                crear_pregunta: \"Crear pregunta\",\r\n                pregunta: \"Pregunta\",\r\n                descripcion: \"Descripci√≥n\",\r\n                plan_reaccion: \"Plan de reacci√≥n\",\r\n                categoria: \"Capa\",\r\n                crear: \"Crear\",\r\n                editar: \"Guardar\",\r\n                editar_pregunta: \"Editar pregunta\",\r\n                fix: \"Arreglar inmediatamente\",\r\n                contramedidas_temporales: \"Tomar contramedidas temporales\",\r\n                parar_produccion: \"Parar la producci√≥n\",\r\n            },\r\n            dashboardPreguntas: {\r\n                creacion_preguntas: \"Elementos de Verificaci√≥n LPA\",\r\n            },\r\n            detallesPregunta: {\r\n                descripcion: \"Prop√≥sito\",\r\n                categoria: \"Capa\",\r\n                plan_reaccion: \"Plan de reacci√≥n\",\r\n                creado_por: \"Creado por\",\r\n                creado: \"Creado\",\r\n                ver_respuestas: \"Respuestas\",\r\n            },\r\n            detallesPreguntaIndividual: {\r\n\r\n            },\r\n            detallesPreguntasAuditoria: {\r\n                respuestas_auditoria: \"Respuestas de la auditor√≠a\",\r\n\r\n            },\r\n            preguntaGrafica: {\r\n\r\n            },\r\n            preguntas: {\r\n\r\n            },\r\n            tarjetaPregunta: {\r\n\r\n            }\r\n        },\r\n        opciones: {\r\n            opciones: \"Opciones\",\r\n            idioma: \"Idioma\",\r\n            cambiar_contrasena: \"Cambiar contrase√±a\",\r\n            registrar_auditor: \"Registrar nuevo auditor\",\r\n            preguntas: \"Preguntas\",\r\n            procesos: \"Procesos\",\r\n            areas: \"√Åreas\",\r\n        }\r\n    },\r\n    english: {\r\n        locale: \"en\",\r\n        return: \"Return\",\r\n        cargando: \"Loading...\",\r\n        aceptar: \"Accept\",\r\n        guardar: \"Save\",\r\n        cancelar: \"Cancel\",\r\n        swal: {\r\n            title: \"Do you want to save the changes?\",\r\n            cancel: \"Don't save\",\r\n            save: \"Save\",\r\n            saved: \"Saved!\",\r\n            not_saved: \"Changes are not saved\",\r\n        },\r\n        area_proceso: {\r\n            crear: \"Create\",\r\n            editar: \"Edit\",\r\n            area: \"area\",\r\n            Area: \"Area\",\r\n            procesos: \"Processes\",\r\n            areas: \"Work area\",\r\n            proceso: \"process\",\r\n            Proceso: \"Process\",\r\n            urgencia: \"Priority\",\r\n            proceso_corresponde: \"Process where it belongs\",\r\n            crear_area: \"Create new area\",\r\n            crear_proceso: \"Create new process\",\r\n            regular: \"Regular priority\",\r\n            media: \"Medium priority\",\r\n            prioridad: \"Priority\",\r\n            alta_prioridad: \"High priority\",\r\n            crear_area: \"Save\",\r\n            crear_proceso: \"Save\",\r\n            agregar_pregunta: \"Add question\",\r\n            grafica_global: \"Global chart\",\r\n        },\r\n        auditorias: {\r\n            auditorias: {\r\n                nada: \"It seems that everything has been calm lately\",\r\n            },\r\n            crearAuditoria: {\r\n                crear_auditoria: \"Assign LPA\",\r\n                editar_auditoria: \"Edit\",\r\n                nombre_auditoria: \"Audit name\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Process\",\r\n                area: \"Area\",\r\n                termina_el: \"Due\",\r\n                inicia_el: \"Start\",\r\n                agregar: \"Add\",\r\n                cancelar: \"Cancel\",\r\n                seleccionar_pregunta: \"Select question\",\r\n                text1: \"Search and select the question you wish to add, or \",\r\n                text2: \" create a new question, \",\r\n                text3: \"once created, you will find it within this list.\",\r\n                crear: \"Assign\",\r\n                editar: \"Save\",\r\n            },\r\n            dashboardAuditorias: {\r\n                ordenar_fecha: \"Order by date\",\r\n                agrupar_areas: \"Go to the Process view\",\r\n                mostrar_realizados: \"Show already done\",\r\n                fecha_inicio: \"Start date\",\r\n                fecha_expiracion: \"Due date\",\r\n                fecha_creacion: \"Creation date\",\r\n                area: \"Area\",\r\n                proceso: \"Process\",\r\n                auditor: \"Auditor\",\r\n                vista: \"View\",\r\n                auditorias: \"Scheduled Audits\",\r\n            },\r\n            detallesAuditoria: {\r\n                auditor: \"Auditor\",\r\n                descripcion: \"Description\",\r\n                plan_reaccion: \"Reaction plan\",\r\n                creada_por: \"Created by\",\r\n                fecha_inicio: \"Start date\",\r\n                fecha_finalizacion: \"Due date\",\r\n                preguntas: \"Questions (Tengo que poner los nombres de las preguntas)\",\r\n            },\r\n            responderAuditoria: {\r\n                responder_auditoria: \"Answer audit\",\r\n                justificacion: \"Justification\",\r\n                si: \"Yes\",\r\n                no: \"No\",\r\n                enviar: \"Submit\",\r\n                scan_qr: \"Scan the QR Code\",\r\n            },\r\n            tarjetaAuditoria: {\r\n                fecha_limite: \"Due date\",\r\n                auditor: \"Auditor\",\r\n                proceso: \"Process\",\r\n                password: \"Password\",\r\n                assignedBy: \"Assigned by\",\r\n            },\r\n        },\r\n        auth: {\r\n            changePassword: {\r\n                cambiar_contrasena: \"Change password\",\r\n                contrasena_actual: \"Current password\",\r\n                contrasena_nueva: \"New password\",\r\n                repite_contrasena: \"Repeat new password\",\r\n                aceptar: \"Accept\",\r\n                cancelar: \"Cancel\",\r\n            },\r\n            signIn: {\r\n                correo: \"E-mail\",\r\n                contrasena: \"Password\",\r\n                iniciar_sesion: \"Log In\",\r\n            },\r\n            signUp: {\r\n                registrar_auditor: \"Register auditor\",\r\n                correo: \"E-mail\",\r\n                contrasena: \"Password\",\r\n                nombre: \"First name\",\r\n                apellido: \"Last name\",\r\n                capa: \"Layer\",\r\n                registrar: \"Register\",\r\n            },\r\n        },\r\n        layout: {\r\n            navbar: {\r\n\r\n            },\r\n            signedInLinks: {\r\n\r\n            },\r\n            signedOutLinks: {\r\n\r\n            },\r\n        },\r\n        preguntas: {\r\n            crearPregunta: {\r\n                crear_pregunta: \"Create question\",\r\n                editar_pregunta: \"Edit question\",\r\n                pregunta: \"Question\",\r\n                descripcion: \"Description\",\r\n                plan_reaccion: \"Reaction plan\",\r\n                categoria: \"Layer\",\r\n                crear: \"Create\",\r\n                editar: \"Save\",\r\n                fix: \"Fix immediately\",\r\n                contramedidas_temporales: \"Temporary countermeasures\",\r\n                parar_produccion: \"Stop production\",\r\n            },\r\n            dashboardPreguntas: {\r\n                creacion_preguntas: \"LPA Check Items\",\r\n            },\r\n            detallesPregunta: {\r\n                descripcion: \"Purpose\",\r\n                categoria: \"Layer\",\r\n                plan_reaccion: \"Reaction plan\",\r\n                creado_por: \"Created by\",\r\n                creado: \"Created\",\r\n                ver_respuestas: \"Answers\",\r\n            },\r\n            detallesPreguntaIndividual: {\r\n\r\n            },\r\n            detallesPreguntasAuditoria: {\r\n                respuestas_auditoria: \"Audit answers\",\r\n\r\n            },\r\n            preguntaGrafica: {\r\n\r\n            },\r\n            preguntas: {\r\n\r\n            },\r\n            tarjetaPregunta: {\r\n\r\n            }\r\n        },\r\n        opciones: {\r\n            opciones: \"Settings\",\r\n            idioma: \"Language\",\r\n            cambiar_contrasena: \"Change password\",\r\n            registrar_auditor: \"Register new auditor\",\r\n            preguntas: \"Questions\",\r\n            procesos: \"Processes\",\r\n            areas: \"Areas\",\r\n        }\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport moment from \"moment/min/moment-with-locales\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n\tdeleteAuditoria,\r\n\teditAuditoria,\r\n} from \"../../store/actions/auditoriaActions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { compose } from \"redux\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport { faTrashAlt, faEdit, faChartBar, faQrcode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { bText } from \"../../config/language\";\r\nimport { directions } from \"../../config/config\"\r\n\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass TarjetaAuditoria extends Component {\r\n\r\n\tstate = {\r\n\t\topen: false,\r\n\t}\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: true,\r\n\t\t})\r\n\t};\r\n\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topen: false,\r\n\t\t})\r\n\t};\r\n\r\n\trender() {\r\n\t\tvar { path } = directions\r\n\r\n\t\t// console.log(\"Those are props\", props)\r\n\t\t// Si las tarjetas no tienen las mismas \"l√≠neas\" de contenido\r\n\t\t// se rompe la tabla\r\n\t\t// Para arreglar esto se limit√≥ el l√≠mite de car√°cteres para el t√≠tulo,\r\n\t\t// quiz√°s sea necesario para el resto de atributos\r\n\r\n\t\t// Se tienen que a√±adir:\r\n\t\t// - Funci√≥n que regrese un bot√≥n de color y texto correspondiente al tiempo que falte\r\n\t\t// - A√±adir botones para borrar/editar una auditor√≠a, con un \"¬øest√°s seguro?\"\r\n\r\n\t\tDate.prototype.addDays = function (days) {\r\n\t\t\tvar date = new Date(this.valueOf());\r\n\t\t\tdate.setDate(date.getDate() + days);\r\n\t\t\treturn date;\r\n\t\t};\r\n\r\n\t\tconst { auditoria, userLevel, alreadyDone, lang, users, areas, procesos } = this.props;\r\n\r\n\t\t// console.log(lang, users, areas, procesos)\r\n\t\tif (!lang) return null;\r\n\t\tif (!users) return null;\r\n\t\tif (!areas) return null;\r\n\t\tif (!procesos) return null;\r\n\t\t// console.log(users)\r\n\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\t// if (!lang) return null;\r\n\r\n\t\tvar color = \"white\";\r\n\t\tvar text = \"\";\r\n\r\n\t\t// console.log([...users])\r\n\r\n\t\tconst findUser = [...auditoria.auditor].map(u => {\r\n\t\t\t// console.log(\"This is U: \", u)\r\n\t\t\t// console.log(\"This is users: \", users)\r\n\t\t\treturn users.find(e => e.id === u)\r\n\t\t})\r\n\t\t// console.log(\"This is what findUsers returns: \", findUser)\r\n\r\n\t\tconst findArea = areas.find(e => e.id === auditoria.area)\r\n\t\tconst findProceso = procesos.find(e => e.id === auditoria.proceso)\r\n\r\n\t\tif (findArea) {\r\n\t\t\tswitch (findArea.urgencia) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tcolor = \"#009900\";\r\n\t\t\t\t\ttext = \"R\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tcolor = \"#FFCC00\";\r\n\t\t\t\t\ttext = \"M\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tcolor = \"#FF9900\";\r\n\t\t\t\t\ttext = \"!\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tcolor = \"#C00000\";\r\n\t\t\t\t\ttext = \"!!\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// var checkDate = new Date();\r\n\t\t// var fecha_fin = auditoria.fecha_fin.toDate().addDays(0);\r\n\r\n\t\tvar style = {};\r\n\r\n\t\tif (alreadyDone) {\r\n\t\t\tcolor = \"grey\";\r\n\t\t\ttext = \"D\";\r\n\t\t\tstyle = { backgroundColor: \"#D5D8DC\" };\r\n\t\t}\r\n\t\t// <div className=\"a\"></div>\r\n\t\t// const refLink =\r\n\t\t// \tuserLevel === 0\r\n\t\t// \t\t? path.detalles_preguntas_auditoria\r\n\t\t// \t\t: path.responder_auditoria;\r\n\r\n\t\tconst graphOrWarn =\r\n\t\t\tuserLevel === 0 ? (\r\n\t\t\t\t<div className=\"boton extra-margin-botones\">\r\n\t\t\t\t\t<Link to={path.detalles_preguntas_auditoria + \"/\" + auditoria.id}>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faChartBar} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{ backgroundColor: color, color: \"white\" }}\r\n\t\t\t\t\tclassName=\"suavizar-borde center-box\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{text}\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\tconst botones =\r\n\t\t\t(userLevel === 0) ? (\r\n\t\t\t\t<div className=\"button-group\">\r\n\t\t\t\t\t{graphOrWarn}\r\n\t\t\t\t\t<div className=\"boton extra-margin-botones\" onClick={this.handleClickOpen}>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faQrcode} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Link to={path.crear_auditoria + \"/\" + auditoria.id}>\r\n\t\t\t\t\t\t<div className=\"boton extra-margin-botones\">\r\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faEdit} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"boton extra-margin-botones\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t/*<PopUp></PopUp>\r\n\t\t\t\t\t\t\t\t  this.props.deleteAuditoria(auditoria.id)*/\r\n\t\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\t\t\t\t\t\tshowDenyButton: true,\r\n\t\t\t\t\t\t\t\tshowConfirmButton: true,\r\n\t\t\t\t\t\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\t\t\t\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t\t\t\t\t\t}).then((result) => {\r\n\t\t\t\t\t\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\t\t\t\t\t\tif (result.isConfirmed) {\r\n\t\t\t\t\t\t\t\t\tthis.props.deleteAuditoria(auditoria.id);\r\n\t\t\t\t\t\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t\t\t\t\t\t} else if (result.isDenied) {\r\n\t\t\t\t\t\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//props.deletePregunta(pregunta.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : graphOrWarn;\r\n\r\n\t\tmoment.locale(bText[lang].locale);\r\n\t\t// console.log(moment.locale(\"es\"))\r\n\t\tconst date = auditoria.fecha_fin ? (\r\n\t\t\t<p className=\"grey-text\">\r\n\t\t\t\t{bText[lang].auditorias.tarjetaAuditoria.fecha_limite}:{\" \"}\r\n\t\t\t\t{moment(auditoria.fecha_fin.toDate()).fromNow()}\r\n\t\t\t</p>\r\n\t\t) : null;\r\n\t\t\r\n\t\t\r\n\r\n\t\tconst content = (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t{/* {console.log(audit.auditoria.length)} */}\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t{/* card-title */}\r\n\t\t\t\t\t<span className=\"\">\r\n\t\t\t\t\t\t{auditoria.auditoria.length > 18\r\n\t\t\t\t\t\t\t? auditoria.auditoria.substr(0, 18) + \"...\"\r\n\t\t\t\t\t\t\t: auditoria.auditoria}\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{(userLevel === 0) ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{ bText[lang].auditorias.tarjetaAuditoria.auditor}: { findUser && findUser.map(u => {\r\n\t\t\t\t\t\t\treturn u ? (u.firstName[0] + \". \" + u.lastName) : \"\";\r\n\t\t\t\t\t\t}).join(\" & \")}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\r\n\t\t\t\t{(userLevel !== 0) ? (\r\n\t\t\t\t\tfindArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p>{findArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null}</p>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{date}\r\n\r\n\t\t\t\t{(userLevel !== 0) ? (\r\n\t\t\t\t\t<p>{bText[lang].auditorias.tarjetaAuditoria.assignedBy}: {auditoria.createdBy}, {moment(auditoria.createdAt.toDate()).fromNow()}</p>\r\n\t\t\t\t) : null}\r\n\t\t\t\t\r\n\t\t\t\t{/* <p>{findArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null}</p> */}\r\n\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\t// const linked = alreadyDone ? (\r\n\t\t// \tcontent\r\n\t\t// ) : (\r\n\t\t// \t<Link to={refLink + \"/\" + auditoria.id}>{content}</Link>\r\n\t\t// );\r\n\r\n\t\tconst dialog = (\r\n\t\t\t<Dialog\r\n\t\t\t\topen={this.state.open}\r\n\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-slide-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-slide-description\"\r\n\t\t\t>\r\n\t\t\t\t<DialogContent className=\"center-box\">\r\n\t\t\t\t\t{/* Working1 */}\r\n\t\t\t\t\t{/* {console.log(\"Pass:\", auditoria.password)} */}\r\n\t\t\t\t\t<QRCode value={auditoria.password}/>\r\n\t\t\t\t\t{/* Working2 */}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={this.handleClose} color=\"primary\">\r\n\t\t\t\t\t\t{bText[lang].aceptar}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t)\r\n\r\n\r\n\t\tconst contentParent = (userLevel === 0) ? (\r\n\t\t\t<div style={style} className=\"tarjeta-auditor√≠a\">\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half1\">\r\n\t\t\t\t\t{content}\r\n\t\t\t\t\t{/* <p>{findArea && findProceso ? findProceso.proceso + \", \" + findArea.area : null}</p> */}\r\n\t\t\t\t\t{/* <p>{bText[lang].auditorias.tarjetaAuditoria.password}: {auditoria.password}</p> */}\r\n\t\t\t\t\t{/* <p>CreatedAt: {moment(auditoria.createdAt.toDate()).fromNow()}</p> */}\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half2\">\r\n\t\t\t\t\t{botones}\r\n\t\t\t\t</div>\r\n\t\t\t\t{dialog}\r\n\t\t\t</div>\r\n\t\t) : (\r\n\t\t\t<Link \r\n\t\t\t\tclassName=\"tarjeta-auditor√≠a\"\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tto={path.responder_auditoria + \"/\" + auditoria.id}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half1\">\r\n\t\t\t\t\t{content}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tarjeta-auditor√≠a-half2\">\r\n\t\t\t\t\t{botones}\r\n\t\t\t\t</div>\r\n\t\t\t\t{dialog}\r\n\t\t\t</Link>\r\n\t\t);\r\n\r\n\t\treturn contentParent;\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(state)\r\n\treturn {\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tareas: state.firestore.ordered.areas,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t\t// users: state.firestore.ordered.users,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tdeleteAuditoria: (id) => dispatch(deleteAuditoria(id)),\r\n\t\teditAuditoria: (id, pregunta) => dispatch(editAuditoria(id, pregunta)),\r\n\t};\r\n};\r\n\r\n// export default connect(mapStateToProps, mapDispatchtoProps)(TarjetaAuditoria)\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"areas\" }, { collection: \"procesos\" }])\r\n)(TarjetaAuditoria);","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\n\r\nconst TarjetaAgregarAuditoria = (props) => {\r\n\r\n\tconst { where, hasTrace } = props\r\n\r\n\tvar whereToGo = where ? where : \"/crear-auditoria\";\r\n\r\n\tif (hasTrace) {\r\n\t\twhereToGo = \"/crear-auditoria-props/\" + hasTrace.proceso + \"/\" + hasTrace.area\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Link to={whereToGo} className=\"tarjeta-auditor√≠a center-box\">\r\n\t\t\t<div className=\"add-symbol\">\r\n\t\t\t\t<FontAwesomeIcon size='5x' icon={faPlus} />\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default TarjetaAgregarAuditoria;\r\n","import React from 'react'\r\nimport TarjetaAuditoria from './TarjetaAuditoria'\r\n\r\nimport TarjetaAgregarAuditoria from './TarjetaAgregarAuditoria'\r\n\r\nimport { bText } from \"../../config/language\";\r\nimport { directions } from \"../../config/config\"\r\n\r\nexport default function Auditorias(props) {\r\n    const { userLevel, auditorias, alreadyDone, lang, uid, users, hasTrace } = props\r\n    // var { path } = directions\r\n    // const text = require('../../config/language');\r\n\r\n    // const refLink = (userLevel === 0) ? path.detalles_preguntas_auditoria : path.responder_auditoria;\r\n\r\n    const pertinent = (userLevel !== 0) ? auditorias.filter(a => a.auditor.includes(uid)) : auditorias;\r\n\r\n    // auditorias.filter(a => a.auditor.includes(uid))\r\n    // console.log(auditorias)\r\n\r\n    return (\r\n    <div>\r\n        {(pertinent && pertinent.length !== 0) || (userLevel === 0) ? (\r\n            <div className=\"arroz-chino\">\r\n            {/* Esto es muy mejorable */}\r\n                {(userLevel === 0) ? <TarjetaAgregarAuditoria hasTrace={hasTrace}/> : null}\r\n\r\n                {pertinent && pertinent.map(auditoria => {\r\n\r\n                    return (\r\n                        <div key={auditoria.id}>\r\n                            <TarjetaAuditoria\r\n                                auditoria={auditoria}\r\n                                userLevel={userLevel}\r\n                                alreadyDone={alreadyDone}\r\n                                lang={lang}\r\n                                users={users}\r\n                            />\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        ) : (\r\n            <div className=\"footer-single\"><p>{bText[lang].auditorias.auditorias.nada}</p></div>\r\n        )}\r\n        \r\n\r\n       \r\n    </div>\r\n    )\r\n}\r\n","import { withRouter } from \"react-router\";\r\nimport { connect } from 'react-redux'\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport React, { Component } from 'react'\r\n\r\nclass Volver extends Component {\r\n\r\n    move = () => {\r\n        if (this.props.where) {\r\n            this.props.history.push(this.props.where)\r\n        } else {\r\n            this.props.history.push(\"/\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {lang} = this.props\r\n        // const bText = require('../../config/language');\r\n\r\n\r\n        return lang ? (\r\n            <button \r\n                className=\"return\" \r\n                onClick={() => {this.move()}}\r\n            >\r\n                {bText[lang].return}\r\n            </button>\r\n        ) : null\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Volver));","import React, { Component } from 'react'\r\nimport Auditorias from './Auditorias'\r\nimport { connect } from 'react-redux'\r\nimport {firestoreConnect} from 'react-redux-firebase'\r\nimport {compose} from 'redux'\r\nimport { Redirect } from 'react-router'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Volver from '../util/Volver'\r\nimport { bText } from \"../../config/language\";\r\n\r\n// CSS class \"container\" centers content\r\n\r\nclass DashboardAuditorias extends Component {\r\n    state = {\r\n        filter: 0\r\n    }\r\n\r\n    handleChangeSelect = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            filter: e.target.value\r\n        })\r\n    }\r\n\r\n    getKeyByValue = (object, value) => {\r\n        return Object.keys(object).find(key => object[key] === value);\r\n    }\r\n\r\n    render() {\r\n        console.log(\"This app was developed by this guy: https://github.com/pbldmngz\")\r\n        console.log(\"For any further changes, please send an e-mail to pablo@dominguez.contact\")\r\n        \r\n        const { auditorias, respuestas, auth, userLevel, lang, users } = this.props\r\n        // const bText = require('../../config/language');\r\n        \r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\"/>\r\n        if (!lang) return null;\r\n        // if (userLevel != 0) return <Redirect to=\"/\" />\r\n        // console.log(\"userLevel: \", userLevel)\r\n        // console.log(\"respuestas\", respuestas)\r\n        // if (!lang) return null;\r\n        // console.log(\"Calling from DashboardAuditorias\", this.props)\r\n\r\n\r\n        // ---> Con esto los usuarios no ven las que ya respondieron <---\r\n        // Se podr√≠a mejorar mandando un prop de que ya est√° resuelta\r\n        // hacia la tarjeta, pero se me hace mucha bronca porque luego se tendr√≠an\r\n        // Que mandar al fondo. En todo caso puedo hacer una vista de auditorias YA HECHAS\r\n\r\n        const sortByKey = (array, key) => {\r\n            return array.sort(function (a, b) {\r\n                //Check if they are timestamp\r\n\r\n\r\n                var x = a[key].toString(); var y = b[key].toString();\r\n                return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n            });\r\n        }\r\n\r\n        const rightNow = new Date();\r\n\r\n        // if (auditorias) {\r\n        //     console.log(\"Watching this:\", [...auditorias], rightNow)\r\n        // }\r\n        \r\n\r\n        var whatAuditorias = auditorias ? (\r\n            (userLevel === 0) ? [...auditorias] : [...auditorias].filter(a => a.fecha_fin.toDate() > rightNow)\r\n        ) : []\r\n\r\n        // console.log(this.props.match.params)\r\n\r\n        if (this.props.match.params.proceso && this.props.match.params.proceso !== \" \") {\r\n            // console.log(\"nope\")\r\n            whatAuditorias = whatAuditorias.filter(a => a.proceso === this.props.match.params.proceso)\r\n        }\r\n\r\n        if (this.props.match.params.area) {\r\n            whatAuditorias = whatAuditorias.filter(a => a.area === this.props.match.params.area)\r\n        }\r\n    \r\n        var orderedAudit = whatAuditorias ? [...whatAuditorias] : [];\r\n\r\n        var filter_value = \"fecha_fin\";\r\n\r\n        switch (this.state.filter) {\r\n            case 0:\r\n                filter_value = \"fecha_fin\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 1:\r\n                this.props.history.push(\"/procesos\")\r\n                break;\r\n            case 3:\r\n                filter_value = \"createdAt\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 4:\r\n                filter_value = \"area\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 5:\r\n                filter_value = \"proceso\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 6:\r\n                filter_value = \"auditor\";\r\n                // console.log(filter_value)\r\n                break;\r\n            case 7:\r\n                filter_value = \"fecha_inicio\";\r\n                // console.log(filter_value)\r\n                break;\r\n            default:\r\n                filter_value = \"fecha_fin\";\r\n                // console.log(filter_value)\r\n                break;\r\n        }\r\n    \r\n        orderedAudit = sortByKey(orderedAudit, filter_value)\r\n        \r\n\r\n        var filteredAuditorias = orderedAudit;\r\n\r\n        if (this.state.filter === 3) {\r\n            filteredAuditorias = filteredAuditorias.reverse()\r\n        }\r\n\r\n        // Mal√≠sima implementaci√≥n, se deber√≠a filtrar y luego ordenar, \r\n        // al rev√©s es un desperdicio\r\n\r\n        if (auditorias && userLevel !== 0 && respuestas) {\r\n            // console.log(\"0\", this.state.filter, respuestas)\r\n            const filtRespuestas = respuestas.filter(res => auth.uid === res.answeredById)\r\n\r\n            // console.log(\"After Filter\", this.state.filter, filtRespuestas)\r\n            \r\n            var filtID = {}\r\n            for (let fA in filtRespuestas){\r\n                // console.log(\"fA\", filtRespuestas[fA])\r\n                filtID[filtRespuestas[fA].auditoria] = true\r\n            }\r\n            \r\n            // console.log(\"2\", filtID)\r\n\r\n            const alreadyDone = Object.keys(filtID)\r\n\r\n            // console.log(\"3\", alreadyDone)\r\n\r\n            filteredAuditorias = (this.state.filter === 2) ? (\r\n                orderedAudit && orderedAudit.filter(aud => alreadyDone.includes(aud.id))\r\n            ) : (\r\n                orderedAudit && orderedAudit.filter(aud => !alreadyDone.includes(aud.id))\r\n            );\r\n\r\n            // filteredAuditorias = filteredAuditorias.filter(aud => aud.minCategory >= userLevel)\r\n        }\r\n        // var { path, pathName } = require('../../config/config');\r\n        \r\n        const menuItems = (userLevel === 0) ? (\r\n            <Select labelId=\"select-filter\" id=\"filter\" value={this.state.filter} onChange={this.handleChangeSelect}>\r\n                <MenuItem value={7}>{bText[lang].auditorias.dashboardAuditorias.fecha_inicio}</MenuItem>\r\n                <MenuItem value={0}>{bText[lang].auditorias.dashboardAuditorias.fecha_expiracion}</MenuItem>\r\n                <MenuItem value={3}>{bText[lang].auditorias.dashboardAuditorias.fecha_creacion}</MenuItem>\r\n                <MenuItem value={4}>{bText[lang].auditorias.dashboardAuditorias.area}</MenuItem>\r\n                <MenuItem value={5}>{bText[lang].auditorias.dashboardAuditorias.proceso}</MenuItem>\r\n                <MenuItem value={6}>{bText[lang].auditorias.dashboardAuditorias.auditor}</MenuItem>\r\n                <MenuItem value={1}>{bText[lang].auditorias.dashboardAuditorias.agrupar_areas}</MenuItem>\r\n            </Select>\r\n        ) : (\r\n                <Select labelId=\"select-filter\" id=\"filter\" value={this.state.filter} onChange={this.handleChangeSelect}>\r\n                    <MenuItem value={0}>{bText[lang].auditorias.dashboardAuditorias.ordenar_fecha}</MenuItem>\r\n                    <MenuItem value={2}>{bText[lang].auditorias.dashboardAuditorias.mostrar_realizados}</MenuItem>\r\n                </Select>\r\n        );\r\n        // const botonReturn = (userLevel === 0) ? (\r\n        //     <div className=\"dashboard-extra-space\">{text[lang].return}</div>\r\n        // ): null;\r\n        const whereToGo = this.props.match.params.proceso ? \"/areas/\" + this.props.match.params.proceso : \"/\";\r\n\r\n        if (filteredAuditorias) {\r\n            return (\r\n                <div className=\"padre-padre-titulo\">\r\n                    <div className=\"padre-titulo mobile\">\r\n                        <div className=\"titulo destroy-on-mobile\">\r\n                            {(this.props.match.params.proceso) ? (\r\n                                <Volver where={whereToGo} />\r\n                            ) : (null)}\r\n                            \r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <h2>{bText[lang].auditorias.dashboardAuditorias.auditorias}</h2>\r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <InputLabel id=\"select-filter\">{bText[lang].auditorias.dashboardAuditorias.vista}</InputLabel>\r\n                            {menuItems}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <Auditorias\r\n                            auditorias={filteredAuditorias}\r\n                            userLevel={userLevel}\r\n                            alreadyDone={(this.state.filter === 2)}\r\n                            lang={lang}\r\n                            uid={auth.uid}\r\n                            users={users}\r\n                            hasTrace={(this.props.match.params.proceso) ? this.props.match.params : null}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"container center\">\r\n                    <p>{bText[lang].cargando}</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log(\"Status\", state)\r\n    return {\r\n        auditorias: state.firestore.ordered.auditorias,\r\n        respuestas: state.firestore.ordered.respuestas,\r\n        users: state.firestore.ordered.users,\r\n        lang: state.firebase.profile.lang,\r\n        auth: state.firebase.auth,\r\n        userLevel: state.firebase.profile.userLevel,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([{ collection: \"auditorias\", orderBy: [\"fecha_fin\", \"asc\"]}, {collection:\"respuestas\"}, {collection:\"users\"}])\r\n)(DashboardAuditorias)\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {signIn} from '../../store/actions/authActions'\r\nimport { Redirect } from 'react-router';\r\nimport Logo_GST from '../../styles/imgs/Logo-GST.png'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\n\r\n\r\nclass SignIn extends Component {\r\n    state = {\r\n        email: '',\r\n        password: ''\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signIn(this.state)\r\n    }\r\n\r\n    listenEnter = (event) => {\r\n        if (event.keyCode === 13) {\r\n            this.handleSubmit(event)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const {authError, auth} = this.props;\r\n\r\n        console.log(\"This app was developed by this guy: https://github.com/pbldmngz\")\r\n        console.log(\"For any further changes, please send an e-mail to pablo@dominguez.contact\")\r\n\r\n        const lang = \"spanish\"\r\n\r\n        // const bText = require('../../config/language');\r\n\r\n        if (auth.uid) return <Redirect to=\"/\" />\r\n        \r\n        return (\r\n            \r\n            <div className=\"\">\r\n                <div className=\"padre-titulo\">\r\n                    <div className=\"titulo\">\r\n                        {/* <Volver /> */}\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        {/* <h2 className=\"titulo\">##########</h2> */}\r\n                        <img className=\"logo\" src={Logo_GST} alt=\"gst logo\"></img>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <form className=\"\" onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-1 white\">\r\n                        <div className=\"form-2\">\r\n                            \r\n\r\n                                <div className=\"input-field\">\r\n                                    <label className=\"uname\" htmlFor=\"email\"></label>\r\n                                    <input onKeyDown={(e) => this.listenEnter(e)} type=\"email\" id='email' placeholder={bText[lang].auth.signIn.correo} onChange={this.handleChange} />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    <label htmlFor=\"password\"></label>\r\n                                    <input onKeyDown={(e) => this.listenEnter(e)} type=\"password\" id='password' placeholder={bText[lang].auth.signIn.contrasena} onChange={this.handleChange} />\r\n                                </div>\r\n\r\n                            \r\n\r\n                        </div>\r\n                        <div className=\"footer-single\">\r\n                            {authError ? <p>{authError}</p> : null}\r\n                        </div>\r\n                        <div className=\"footer-single\">\r\n                            <button \r\n                                className=\"add-question\"\r\n                                >{bText[lang].auth.signIn.iniciar_sesion}</button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        authError: state.auth.authError,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signIn: (creds) => dispatch(signIn(creds))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router';\r\nimport { signUp } from '../../store/actions/authActions'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Volver from '../util/Volver'\r\nimport Swal from \"sweetalert2\";\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass SignUp extends Component {\r\n    state = {\r\n        email: '',\r\n        password: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        level: 4,\r\n        lang: \"english\",\r\n    }\r\n    handleChange = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleChangeSelect = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            level: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.signUp(this.state)\r\n        this.props.history.push(\"/profile\")\r\n    }\r\n\r\n    Seguro = (e) => {\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Do you want to save the changes?\",\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowCancelButton: false,\r\n\t\t\tconfirmButtonText: \"Save\",\r\n\t\t\tdenyButtonText: \"Don't save\",\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(\"Saved!\", \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(\"Changes are not saved\", \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n    render() {\r\n        const { auth, authError, lang, userLevel } = this.props;\r\n        \r\n\r\n        if (!auth.uid) return <Redirect to=\"/\" />\r\n        if (userLevel && userLevel !==0) return <Redirect to=\"/\" />\r\n\r\n        // const bText = require('../../config/language');\r\n\r\n        if (!lang) return null;\r\n\r\n        return (\r\n            <div className=\"\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where=\"/profile\"/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"titulo\">{bText[lang].auth.signUp.registrar_auditor}</h2>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"form-1\">\r\n                    <div className=\"form-2\">\r\n                        <form className=\"\" onSubmit={this.Seguro}>\r\n                            <div className=\"date-container\">\r\n                                <div className=\"input-field-1-2\">\r\n                                    <label htmlFor=\"firstName\"></label>\r\n                                    <input\r\n                                        autoComplete=\"off\"\r\n                                        autoCorrect=\"off\"\r\n                                        spellCheck=\"off\"\r\n                                        type=\"text\"\r\n                                        id='firstName'\r\n                                        placeholder={bText[lang].auth.signUp.nombre}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                                {/* <i class=\"lname\"></i> */}\r\n                                <div className=\"input-field-3-4\">\r\n                                    <label htmlFor=\"lastName\"></label>\r\n                                    <input\r\n                                        autoComplete=\"off\"\r\n                                        autoCorrect=\"off\"\r\n                                        spellCheck=\"off\"\r\n                                        type=\"text\"\r\n                                        id='lastName'\r\n                                        placeholder={bText[lang].auth.signUp.apellido}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div className=\"input-field\">\r\n                                <label htmlFor=\"email\"></label>\r\n                                <input\r\n                                    autoComplete=\"off\"\r\n                                    autoCorrect=\"off\"\r\n                                    spellCheck=\"off\"\r\n                                    type=\"email\"\r\n                                    id='email'\r\n                                    placeholder={bText[lang].auth.signUp.correo}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"input-field\">\r\n                                <label htmlFor=\"password\"></label>\r\n                                <input \r\n                                    autoComplete=\"off\"\r\n                                    autoCorrect=\"off\"\r\n                                    spellCheck=\"off\"\r\n                                    type=\"text\"\r\n                                    id='password'\r\n                                    placeholder={bText[lang].auth.signUp.contrasena}\r\n                                    onChange={this.handleChange} \r\n                                />\r\n                            </div>\r\n                            <div className=\"center-box\">\r\n                                <div className=\"footer-single-flex\">\r\n                                    <InputLabel id=\"select-level\">{bText[lang].auth.signUp.capa}</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"select-level\"\r\n                                        id=\"level\"\r\n                                        value={this.state.level}\r\n                                        onChange={this.handleChangeSelect}\r\n                                        style={{width: `${100}px`}}\r\n                                    >\r\n                                        <MenuItem value={4}>A</MenuItem>\r\n                                        <MenuItem value={3}>B</MenuItem>\r\n                                        <MenuItem value={2}>C</MenuItem>\r\n                                        <MenuItem value={1}>D</MenuItem>\r\n                                        <MenuItem value={0}>Admin</MenuItem>\r\n                                    </Select>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"footer-single margin-top\">\r\n                    <button \r\n                        onClick={this.Seguro}\r\n                        className=\"add-question\">{bText[lang].auth.signUp.registrar}</button>\r\n                </div>\r\n                <div className=\"footer-single\">\r\n                    {authError ? <p>{authError}</p> : null}\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        userLevel: state.firebase.profile.userLevel,\r\n        authError: state.auth.authError,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        signUp: (newUser) => dispatch(signUp(newUser))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)\r\n","// import React from 'react';\r\n\r\n// const DatepickerInput = ({ ...props }) => {\r\n//     return (\r\n//         <input type=\"text\" {...props} readOnly />\r\n//     );\r\n// }\r\n\r\n// export default DatepickerInput;\r\n\r\n\r\nimport React, { Component } from 'react'\r\n\r\nexport default class DatepickerInput extends Component {\r\n    render() {\r\n        return (\r\n            <input type=\"text\" {...this.props} readOnly />\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\n// import { createAuditoria } from \"../../store/actions/auditoriaActions\";\r\nimport {\r\n\tcreateAuditoria,\r\n\teditAuditoria,\r\n\tgetAuditoria,\r\n} from \"../../store/actions/auditoriaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n//import DatePicker from 'react-datepicker/dist/react-datepicker'\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport DatepickerInput from '../util/DatepickerInput'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\n\r\nclass CrearAuditoria extends Component {\r\n\tstate = {\r\n\t\tauditoria: \"\",\r\n\t\tauditor: [\"\", \"\", \"\", \"\"],\r\n\t\tarea: \"\",\r\n\t\tproceso: \"\",\r\n\t\tfecha_inicio: new Date(),\r\n\t\tfecha_fin: new Date(),\r\n\t\tpreguntas: [],\r\n\t\topenB: false,\r\n\t\tvalueB: \"\",\r\n\t\tpassword: \"\",\r\n\t};\r\n\thandleChange = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleChangeAutocomplete = (e, newValue) => {\r\n\t\t// console.log(\"This is E and nV\", e, newValue)\r\n\t\t//Tengo que conseguir el ID\r\n\t\tthis.setState({\r\n\t\t\tvalueB: newValue,\r\n\t\t});\r\n\t};\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst id = this.props.match.params.id;\r\n\r\n\t\tvar toSend = {\r\n\t\t\tauditoria: this.state.auditoria,\r\n\t\t\tauditor: this.state.auditor.filter(a => a !== \"\"),\r\n\t\t\tarea: this.state.area,\r\n\t\t\tproceso: this.state.proceso,\r\n\t\t\tfecha_inicio: this.state.fecha_inicio,\r\n\t\t\tfecha_fin: this.state.fecha_fin,\r\n\t\t\tpreguntas: this.props.procesos.find(p => p.id === this.state.proceso).preguntas,\r\n\t\t\t// password: password,\r\n\t\t}\r\n\r\n\t\tif (!id) {\r\n\t\t\tvar generator = require('generate-password');\r\n\r\n\t\t\tvar password = generator.generate({\r\n\t\t\t\tlength: 8,\r\n\t\t\t\tnumbers: true,\r\n\t\t\t\tuppercase: false,\r\n\t\t\t\tlowercase: false,\r\n\t\t\t});\r\n\r\n\t\t\ttoSend.password = password\r\n\t\t\t// console.log(this.state)\r\n\t\t\tthis.props.createAuditoria(toSend);\r\n\t\t} else {\r\n\t\t\ttoSend.password = this.state.password;\r\n\r\n\t\t\tthis.props.editAuditoria(id, toSend);\r\n\t\t}\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? (\"/auditorias/\" + this.props.match.params.proceso + \"/\" + this.props.match.params.area) : \"/\";\r\n\t\t\r\n\t\tthis.props.history.push(whereToGo); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: true,\r\n\t\t});\r\n\t};\r\n\thandleCancel = () => {\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? (\"/auditorias/\" + this.props.match.params.proceso + \"/\" + this.props.match.params.area) : \"/\";\r\n\r\n\t\tthis.props.history.push(whereToGo);\r\n\t};\r\n\thandleDelete = (id) => {\r\n\t\tconst newPreguntas = this.state.preguntas.filter(\r\n\t\t\t(pregunta) => pregunta.id !== id\r\n\t\t);\r\n\t\tthis.setState({\r\n\t\t\tpreguntas: newPreguntas,\r\n\t\t});\r\n\t};\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: false,\r\n\t\t});\r\n\t};\r\n\thandleCloseSave = (e) => {\r\n\t\t// console.log(\"Y aqu√≠ debo de sacar una forma de registrar una pregunta nueva\", e)\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\topenB: false,\r\n\t\t\tpreguntas: [...new Set([...prevState.preguntas, this.state.valueB])],\r\n\t\t}));\r\n\t};\r\n\tSeguro = (e) => {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst {lang} = this.props\r\n\t\t// console.log(this.cantSend())\r\n\t\t// if (this.cantSend()) return null;\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowConfirmButton: true,\r\n\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t\r\n\r\n\thandleChangeSelectProceso = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tproceso: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectArea = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tarea: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectAuditor = (e) => {\r\n\t\tconsole.log(\"This is E\", e.target)\r\n\r\n\t\tvar newAuditor = [...this.state.auditor]\r\n\r\n\t\tswitch (e.target.name) {\r\n\t\t\tcase \"auditor1\":\r\n\t\t\t\tnewAuditor[0] = e.target.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"auditor2\":\r\n\t\t\t\tnewAuditor[1] = e.target.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"auditor3\":\r\n\t\t\t\tnewAuditor[2] = e.target.value;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"auditor4\":\r\n\t\t\t\tnewAuditor[3] = e.target.value;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tauditor: newAuditor,\r\n\t\t});\r\n\t};\r\n\r\n\tsortByKey = (array, key) => {\r\n\t\treturn array.sort(function (a, b) {\r\n\t\t\t//Check if they are timestamp\r\n\r\n\r\n\t\t\tvar x = a[key].toString(); var y = b[key].toString();\r\n\t\t\treturn ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n\t\t});\r\n\t}\r\n\r\n\tcantSend = () => {\r\n\t\treturn !(this.state.preguntas && (this.state.preguntas.length >= 5) && (this.state.preguntas.length <= 15));\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tif (this.props.match.params.proceso && this.props.match.params.proceso !== \" \") {\r\n\t\t\tthis.setState({\r\n\t\t\t\tproceso: this.props.match.params.proceso,\r\n\t\t\t\tarea: this.props.match.params.area,\r\n\t\t\t})\r\n\t\t} else if (this.props.match.params.area) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tarea: this.props.match.params.area,\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tconst id = this.props.match.params.id;\r\n\r\n\t\tif (id) {\r\n\t\t\tthis.props.getAuditoria(id).then((res) => {\r\n\t\t\t\t// console.log(\"RES is working\", res)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tauditoria: res.auditoria,\r\n\t\t\t\t\tauditor: res.auditor,\r\n\t\t\t\t\tarea: res.area,\r\n\t\t\t\t\tproceso: res.proceso,\r\n\t\t\t\t\tfecha_inicio: res.fecha_inicio.toDate(),\r\n\t\t\t\t\tfecha_fin: res.fecha_fin.toDate(),\r\n\t\t\t\t\tpreguntas: res.preguntas.map((pre) => {\r\n\t\t\t\t\t\treturn this.props.preguntas.filter((fil) => fil.id === pre)[0];\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tpassword: res.password,\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(\"This is Res\", res)\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\t// console.log(\"Falta que el texto de los inputs se cambie a lo del state\", this.state)\r\n\t\t//Checa el state en la consola, no sale nada\r\n\t}\r\n\r\n\trender() {\r\n\t\t// var { path, pathName } = require(\"../../config/config\");\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { auth, userLevel, lang, procesos, areas, users } = this.props;\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\t\tif (userLevel !== 0) return <Redirect to=\"/\" />;\r\n\r\n\t\tif (!users) return null;\r\n\r\n\t\t// console.log(\"PropsMatch\", this.props.match.params)\r\n\t\t\r\n\r\n\t\tconst filtUsers = this.sortByKey([...users], \"lastName\").filter(u => u.userLevel !== 0)\r\n\r\n\t\t// console.log(\"1:\", [...areas].map((ar) => { return ar.id }).includes(this.state.area), areas, this.state.area)\r\n\r\n\t\tconst temp1 = [...areas].find(a => a.id === this.state.area)\r\n\r\n\r\n\r\n\t\t// console.log(\"2\", temp1 ? temp1.urgencia : 0)\r\n\r\n\t\tvar auditorCount = ((this.state.area !== \"\" && areas) && [...areas].map((ar) => { return ar.id }).includes(this.state.area)) ? (temp1 ? temp1.urgencia : 0) : 0;\r\n\t\t\r\n\t\t// console.log(\"AC:\", auditorCount)\r\n\t\t\r\n\t\t\r\n\t\tswitch (auditorCount) {\r\n\t\t\tcase 0:\r\n\t\t\t\tauditorCount = [3, 4];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tauditorCount = [2, 3, 4];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tauditorCount = [1, 2, 3, 4];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tauditorCount = [1, 2, 3, 4];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tauditorCount = [3, 4];\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tconst layerName = [\"Admin\", \"D\", \"C\", \"B\", \"A\"]\r\n\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? (\"/auditorias/\" + this.props.match.params.proceso + \"/\" + this.props.match.params.area) : \"/\";\r\n\r\n\t\t// console.log(this.state.preguntas)\r\n\t\treturn (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where={whereToGo}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"\">\r\n\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.crear_auditoria}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div className=\"form-1\">\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<form className=\"\" onSubmit={this.Seguro}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"form-2\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"proceso\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.proceso}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectProceso}\r\n\t\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.proceso}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t{procesos && this.sortByKey([...procesos], \"proceso\").map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={p.id} value={p.id}>{p.proceso}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <span className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"area\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.area ? this.state.area : \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectArea}\r\n\t\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.state.proceso === \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.area}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t{areas && this.sortByKey([...areas], \"area\").filter(a => a.proceso === this.state.proceso).map(a => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={a.id} value={a.id}>{a.area}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t{/* {Aqu√≠ empieza lo nuevo} */}\r\n\t\t\t\t\t\t\t\t\t{console.log(auditorCount)}\r\n\t\t\t\t\t\t\t\t\t{this.state.area !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t\tauditorCount && auditorCount.map(layer => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (<div key={layer} className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {console.log(auditorCount)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{} */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"auditor\" + layer.toString()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.auditor[layer - 1] ? this.state.auditor[layer - 1]: \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectAuditor}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.auditor} - {layerName[layer]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{filtUsers && filtUsers.filter(u => u.userLevel === layer).map(a => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={a.id} value={a.id}>{a.lastName}, {a.firstName}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (null)}\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t{/* {Aqu√≠ empieza lo nuevo} */}\r\n\t\t\t\t\t\t\t\t\t<div className=\"date-container\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"fecha\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.inicia_el}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"datePicker-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"fecha_inicio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected={this.state.fecha_inicio}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfecha_inicio: date,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\twithPortal\r\n\t\t\t\t\t\t\t\t\t\t\t\tcustomInput={<DatepickerInput />}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"fecha\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.termina_el}\r\n\t\t\t\t\t\t\t\t\t\t\t{/* {console.log(text[lang].auditorias.crearAuditoria.termina_el)} */}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"datePicker-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"fecha_fin\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected={this.state.fecha_fin}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(date) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfecha_fin: date,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\twithPortal\r\n\t\t\t\t\t\t\t\t\t\t\t\tcustomInput={<DatepickerInput />}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"cancelar\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.crear}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tpreguntas: state.firestore.ordered.preguntas,\r\n\t\tareas: state.firestore.ordered.areas,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t\tusers: state.firestore.ordered.users,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreateAuditoria: (auditoria) => dispatch(createAuditoria(auditoria)),\r\n\t\teditAuditoria: (id, auditoria) => dispatch(editAuditoria(id, auditoria)),\r\n\t\tgetAuditoria: (id) => dispatch(getAuditoria(id)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"preguntas\" }, { collection: \"areas\" }, { collection: \"procesos\" }, { collection: \"users\" }])\r\n)(CrearAuditoria);\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport { faTrashAlt, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { directions } from \"../../config/config\"\r\nimport { bText } from \"../../config/language\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function TarjetaPregunta(props) {\r\n\tvar { path } = directions\r\n\t// Se tienen que a√±adir:\r\n\t// - A√±adir botones para borrar/editar una pregunta, con un \"¬øest√°s seguro?\"\r\n\t// Pueden hacerlo haciendo unos divs | ----- | - | flex, no soy el experto\r\n\tconst { pregunta, userLevel, lang } = props;\r\n\r\n\t// if (!lang) return null;\r\n\r\n\t// const bText = require(\"../../config/language\");\r\n\r\n\t// console.log(\"userLevel on tarjeta\", userLevel)\r\n\r\n\t// En cierto modo, ni siquiera tiene caso esto, los usuarios normales no llegar√≠an aqu√≠\r\n\tconst botones =\r\n\t\tuserLevel === 0 ? (\r\n\t\t\t<div className=\"button-group\">\r\n\t\t\t\t<Link to={path.editar_pregunta + \"/\" + pregunta.id}>\r\n\t\t\t\t\t<div className=\"boton\">\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faEdit} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Link to={path.preguntas}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"boton\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tSwal.fire({\r\n\t\t\t\t\t\t\t\ttitle: \"Do you want to save the changes?\",\r\n\t\t\t\t\t\t\t\tshowDenyButton: true,\r\n\t\t\t\t\t\t\t\tshowConfirmButton: true,\r\n\t\t\t\t\t\t\t\tdenyButtonText: \"Don't save\",\r\n\t\t\t\t\t\t\t\tconfirmButtonText: \"Save\",\r\n\t\t\t\t\t\t\t}).then((result) => {\r\n\t\t\t\t\t\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\t\t\t\t\t\tif (result.isConfirmed) {\r\n\t\t\t\t\t\t\t\t\tprops.deletePregunta(pregunta.id);\r\n\t\t\t\t\t\t\t\t\tSwal.fire(\"Saved!\", \"\", \"success\");\r\n\t\t\t\t\t\t\t\t} else if (result.isDenied) {\r\n\t\t\t\t\t\t\t\t\tSwal.fire(\"Changes are not saved\", \"\", \"info\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//props.deletePregunta(pregunta.id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\r\n\t\tconst categoria = {\r\n\t\t\t1: \"A\",\r\n\t\t\t2: \"B\",\r\n\t\t\t3: \"C\",\r\n\t\t\t4: \"D\",\r\n\t\t}\r\n\r\n\t\tconst react_plan = {\r\n\t\t\t0: bText[lang].preguntas.crearPregunta.fix,\r\n\t\t\t1: bText[lang].preguntas.crearPregunta.contramedidas_temporales,\r\n\t\t\t2: bText[lang].preguntas.crearPregunta.parar_produccion,\r\n\t\t}\r\n\r\n\t\tconst [open, setOpen] = React.useState(false);\r\n\r\n\t\tconst handleClickOpen = () => {\r\n\t\t\tsetOpen(true);\r\n\t\t};\r\n\r\n\t\tconst handleClose = () => {\r\n\t\t\tsetOpen(false);\r\n\t\t};\r\n\r\n\t\tconst maxQuestionLength = 60;\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"tarjeta-pregunta\" key={pregunta.id}>\r\n\r\n\t\t\t\t<div className=\"tarjeta-pregunta-half1 hover-cursor\" onClick={handleClickOpen}>\r\n\r\n\t\t\t\t\t<span className=\"\">\r\n\t\t\t\t\t\t{pregunta[lang].length > maxQuestionLength\r\n\t\t\t\t\t\t\t? pregunta[lang].substr(0, maxQuestionLength) + \"...\"\r\n\t\t\t\t\t\t\t: pregunta[lang]}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<p className=\"\">\r\n\t\t\t\t\t\t{pregunta.description.length > maxQuestionLength*2\r\n\t\t\t\t\t\t\t? pregunta.description.substr(0, maxQuestionLength*2) + \"...\"\r\n\t\t\t\t\t\t\t: pregunta.description}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"\">\r\n\t\t\t\t\t\t{react_plan[pregunta.reaction_plan]}\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"tarjeta-pregunta-half2\">\r\n\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t{botones}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-slide-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-slide-description\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-slide-title\">{\"Justificaciones a esta pregunta####\"}</DialogTitle>\r\n\t\t\t\t<DialogContent className=\"dialog-content\">\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t{pregunta.english}###\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tDescripci√≥n: \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{pregunta.description}###EEEEEEEEEEEEEEEEEEEEEEE##########\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tCapa:\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{categoria[pregunta.category]}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tPlan de reacci√≥n: \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{pregunta.reaction_plan}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tCreado por:\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{pregunta.createdBy}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t<span className=\"dialog-span\">\r\n\t\t\t\t\t\t\tCreado:\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<p className=\"dialog-p\">\r\n\t\t\t\t\t\t\t{moment(pregunta.createdAt.toDate()).fromNow()}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t\r\n\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\r\n\t\t\t\t\t\tAceptar###\r\n            \t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\n\r\nconst TarjetaAgregarPregunta = () => {\r\n\treturn (\r\n\t\t<Link to=\"/crear-pregunta\" className=\"tarjeta-pregunta center-box\">\r\n\t\t\t<div className=\"add-symbol\">\r\n\t\t\t\t<FontAwesomeIcon size='5x' icon={faPlus} />\r\n\t\t\t</div>\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default TarjetaAgregarPregunta;\r\n","import React from 'react'\r\nimport TarjetaPregunta from './TarjetaPregunta'\r\nimport TarjetaAgregarPregunta from './TarjetaAgregarPregunta'\r\n\r\nexport default function Preguntas(props) {\r\n    // var { path, pathName } = require('../../config/config');\r\n    // const text = require('../../config/language');\r\n\r\n    const { preguntas, editPregunta, deletePregunta, userLevel, lang } = props\r\n\r\n    const sortByKey = (array, key) => {\r\n        return array.sort(function (a, b) {\r\n            //Check if they are timestamp\r\n\r\n\r\n            var x = a[key].toString(); var y = b[key].toString();\r\n            return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n        });\r\n    }\r\n\r\n    const sortedPreguntas = sortByKey([...preguntas], \"createdAt\")\r\n\r\n    // Consider√°ndolo, no tiene caso, va a haber m√°s de 5 preguntas y se va a perder\r\n\r\n    return (\r\n        <div className=\"\">\r\n            <div className=\"preguntas\">\r\n\r\n            <TarjetaAgregarPregunta/>\r\n\r\n            {preguntas && sortedPreguntas.map(pregunta => {\r\n                return (\r\n                    <div key={pregunta.id}>\r\n                        <TarjetaPregunta\r\n                            pregunta={pregunta}\r\n                            editPregunta={editPregunta}\r\n                            deletePregunta={deletePregunta}\r\n                            userLevel={userLevel}\r\n                            lang={lang}\r\n                        />\r\n                    </div>\r\n                )\r\n            })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { firebase } from \"react-redux-firebase\";\r\n\r\nexport const createPregunta = (pregunta) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        firestore.collection(\"preguntas\").add({\r\n            ...pregunta,\r\n            createdBy: profile.firstName + \" \" + profile.lastName,\r\n            authorId,\r\n            // createdById: profile.id, //Esta linea es modificaci√≥n, no funciona\r\n            // Pero me gustar√≠a enlazar \"profile\" con su Id, ser√≠a m√°s f√°cil rastrearlo\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({ type: \"CREATE_PREGUNTA\" }, pregunta)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"CREATE_PREGUNTA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const respuestaPregunta = (respuesta) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        var respArray = respuesta.map((re) => {\r\n            re.answeredBy = profile.firstName + \" \" + profile.lastName;\r\n            re.answeredById = authorId;\r\n            re.answeredAt = new Date();\r\n\r\n            return re\r\n        })\r\n\r\n        // console.log(\"respArray: \", respArray)\r\n\r\n        for (let res of respArray) {\r\n            firestore.collection(\"respuestas\").add(res)\r\n                .then(() => {\r\n                    dispatch({ type: \"CREATE_RESPUESTA_PREGUNTA\" }, respuesta)\r\n                }).catch((err) => {\r\n                    dispatch({ type: \"CREATE_RESPUESTA_PREGUNTA_ERROR\" }, err)\r\n                })\r\n        }\r\n    }\r\n}\r\n\r\nexport const deletePregunta = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        firestore.collection(\"preguntas\").doc(id).delete()\r\n    }\r\n}\r\n\r\nexport const editPregunta = (id, pregunta) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        \r\n        //Va aser con algo de .doc() para se√±alar cual\r\n        //Ejemplo:\r\n        // const cityRef = db.collection('cities').doc('DC');\r\n        // const res = await cityRef.update({ capital: true });\r\n        // console.log(\"editPregunta, \", pregunta)\r\n\r\n        firestore.collection(\"preguntas\").doc(id).update({\r\n            ...pregunta,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_PREGUNTA\" }, pregunta)\r\n        }).catch((err) => {\r\n            dispatch({ type: \"EDIT_PREGUNTA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const getPregunta = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"preguntas\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Preguntas from '../preguntas/Preguntas'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport { Redirect } from 'react-router'\r\nimport { deletePregunta, editPregunta } from '../../store/actions/preguntaActions'\r\n\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n// CSS class \"container\" centers content\r\n\r\n// Para cuando se est√© creado una auditor√≠a deber√≠a \r\n// crear un componente para buscar la pregunta por texto\r\n\r\n// Por alg√∫n motivo, al hacer click en una pregunta \r\n// no me lleva al componente espec√≠fico pero si cambia el link\r\n\r\nclass DashboardPreguntas extends Component {\r\n    render() {\r\n        const { preguntas, auth, userLevel, lang } = this.props\r\n        // console.log(userLevel)\r\n        // const bText = require(\"../../config/language\");\r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\" />\r\n        if (userLevel !== 0) return <Redirect to=\"/\" />\r\n\r\n        if (!lang) return null;\r\n\r\n        if (preguntas){\r\n            return (\r\n                <div className=\"padre-padre-titulo\">\r\n                    <div className=\"padre-titulo mobile\">\r\n                        <div className=\"titulo destroy-on-mobile\">\r\n                            <Volver where=\"/profile\"/>\r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <h2>{bText[lang].preguntas.dashboardPreguntas.creacion_preguntas}</h2>\r\n                        </div>\r\n                        {/* <div className=\"titulo\">\r\n                            <NavLink to={path.crear_pregunta}>\r\n                                <button className=\"boton-arriba\">New Question</button>\r\n                            </NavLink>\r\n                        </div> */}\r\n                    </div>\r\n                    <div className=\"\">\r\n                        <Preguntas \r\n                            preguntas={preguntas} \r\n                            editPregunta={this.props.editPregunta} \r\n                            deletePregunta={this.props.deletePregunta}\r\n                            userLevel={userLevel}\r\n                            lang={lang}\r\n                        />\r\n                    </div>\r\n                    \r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"container center\">\r\n                    <p>Cargando...</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        preguntas: state.firestore.ordered.preguntas,\r\n        auth: state.firebase.auth,\r\n        userLevel: state.firebase.profile.userLevel,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        deletePregunta: (id) => dispatch(deletePregunta(id)),\r\n        editPregunta: (pregunta) => dispatch(editPregunta(pregunta)),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchtoProps),\r\n    firestoreConnect([{ collection: \"preguntas\", orderBy: [\"createdAt\", \"desc\"]}])\r\n)(DashboardPreguntas)\r\n","import React, { Component } from \"react\";\r\nimport { createPregunta } from \"../../store/actions/preguntaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass CrearPregunta extends Component {\r\n\tstate = {\r\n\t\tcategory: 4,\r\n\t\tdescription: \"\",\r\n\t\treaction_plan: \"\",\r\n\t\tenglish: \"\",\r\n\t\tspanish: \"\",\r\n\t};\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleChangeSelect = (e) => {\r\n\t\t// console.log(e)\r\n\t\tthis.setState({\r\n\t\t\tcategory: e.target.value,\r\n\t\t});\r\n\t};\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// console.log(this.state)\r\n\t\tthis.props.createPregunta(this.state);\r\n\t\tthis.props.history.push(\"/preguntas\"); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\tSeguro = (e) => {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { lang } = this.props\r\n\t\t// console.log(this.cantSend())\r\n\t\t// if (this.cantSend()) return null;\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowConfirmButton: true,\r\n\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\r\n\thandleChangeSelectRP = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\treaction_plan: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\r\n\trender() {\r\n\t\tconst { auth, lang } = this.props;\r\n\t\t// const bText = require(\"../../config/language\");\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where=\"/preguntas\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"titulo\">\r\n\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.crear_pregunta}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-1\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<form className=\"\" onSubmit={this.Seguro}>\r\n\t\t\t\t\t\t\t<div className=\"form-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"english\" placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [EN]\"} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"spanish\" placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [ES]\"} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"description\" placeholder={bText[lang].preguntas.crearPregunta.descripcion} onChange={this.handleChange} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"reaction_plan\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.reaction_plan}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectRP}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.plan_reaccion}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={0}>{bText[lang].preguntas.crearPregunta.fix}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>{bText[lang].preguntas.crearPregunta.contramedidas_temporales}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>{bText[lang].preguntas.crearPregunta.parar_produccion}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"footer-single-flex\">\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"select-level\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.categoria}\r\n\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-level\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"level\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: `${100}px`}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>A</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>B</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>C</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>D</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-single\">\r\n\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.crear}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\t// console.log(\"Status\", state)\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreatePregunta: (pregunta) => dispatch(createPregunta(pregunta)),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(CrearPregunta);\r\n","import React from 'react';\r\nimport { ResponsivePie } from '@nivo/pie'\r\n\r\n\r\nconst PieChart = (props) => {\r\n\r\n    const {radius, innerText, colors, data} = props\r\n\r\n    console.log(\"ThisIsData:\", data)\r\n\r\n    const innerRadius = (radius) ? radius: 0;\r\n\r\n    const total = () => {\r\n        var result = 0;\r\n\r\n        for (let d of data) {\r\n            result += d.value\r\n        }\r\n\r\n        return result\r\n    }\r\n\r\n    const format = v => `${Math.round((v/total())*100)}%`\r\n\r\n    // const colors = { 'java': 'red', 'python': 'blue', 'php': 'green' }\r\n    \r\n    const getColor = bar => colors[bar.id]\r\n\r\n    const CenteredMetric = ({centerX, centerY }) => {\r\n\r\n        return (\r\n\r\n                <text\r\n                    x={centerX}\r\n                    y={centerY}\r\n                    textAnchor=\"middle\"\r\n                    dominantBaseline=\"central\"\r\n                    style={{\r\n                        fontSize: '28px',\r\n                        fontWeight: '600',\r\n                    }}\r\n                >\r\n                    {innerText}\r\n                </text>\r\n\r\n            \r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={{ height: \"100%\" }}>\r\n            <ResponsivePie\r\n                data={data}\r\n                keys={[\"label\"]}\r\n                // indexBy=\"id\"\r\n                // valueFormat={format}\r\n                \r\n                // colors={['#97e3d5', '#61cdbb', '#f47560', '#e25c3b']}\r\n                colors={(!colors) ? ['#002D73', '#A9CCE3'] : getColor}\r\n                // borderColor=\"#000000\"\r\n                arcLabelsTextColor=\"white\"\r\n                innerRadius={innerRadius}\r\n                padAngle={0.7}\r\n                cornerRadius={3}\r\n                activeOuterRadiusOffset={2}\r\n                margin={{ top: 15, right: 15, bottom: 15, left: 15 }}\r\n                layers={['arcs', 'arcLabels', 'arcLinkLabels', 'legends', (innerText ? CenteredMetric : null)]}\r\n                // legends={[\r\n                //     {\r\n                //         anchor: 'right',\r\n                //         direction: 'column',\r\n                //         translateY: 0,\r\n                //         // translateX: 100,\r\n                //         itemWidth: 100,\r\n                //         itemHeight: 18,\r\n                //         itemTextColor: '#999',\r\n                //         symbolSize: 18,\r\n                //         symbolShape: 'circle'\r\n                //     }\r\n                // ]}\r\n                // margin={{bottom: 25,}}\r\n                enableArcLabels={false}\r\n                // arcLabel={d => `${Math.round((d.value/total())*10000)/100}%`}\r\n                arcLabel={d => `${format(d.value)}`}\r\n                enableArcLinkLabels={false}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PieChart;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { firestoreConnect } from 'react-redux-firebase'\r\nimport { compose } from 'redux'\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport PieChart from '../util/gr√°ficas/PieChart';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst DetallesPregunta = (props) => {\r\n    // const id = \"igwDVTQR3LedpGldpPe8\";\r\n    // console.log(\"Esto es ID\", id)\r\n    //Esto puede servir de filtro para la b√∫squeda de preguntas\r\n    // if (!auth.uid) return <Redirect to=\"/signin\" />\r\n    const { pregunta, lang } = props\r\n    // const bText = require('../../config/language');\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    var count = {\r\n        yes: 0,\r\n        no: 0\r\n    }\r\n\r\n    pregunta.respuestas.forEach(res => {\r\n        if (res.respuesta === \"S√≠\") {\r\n            count.yes += 1;\r\n        } else if (res.respuesta === \"No\") {\r\n            count.no += 1;\r\n        }\r\n    });\r\n\r\n    count = [\r\n        { id: \"no\", label: \"no\", value: count[\"no\"] },\r\n        { id: \"yes\", label: \"yes\", value: count[\"yes\"] }\r\n    ]\r\n\r\n    const actualText = ((count[0][\"value\"] + count[1][\"value\"]) !== 0) ? (\r\n        Math.round((count[0][\"value\"]/(count[0][\"value\"] + count[1][\"value\"]))*100)\r\n    ) : (0);\r\n\r\n    console.log(\"--->\", count)\r\n\r\n    const justificaciones = pregunta.respuestas.map(pregunta => {\r\n        return (\r\n            <DialogContentText>{pregunta.justificacion}</DialogContentText>\r\n        )\r\n    })\r\n\r\n    const categoria = {\r\n        1: \"A\",\r\n        2: \"B\",\r\n        3: \"C\",\r\n        4: \"D\",\r\n    }\r\n\r\n    const reaction = (lang) ? ([\r\n        bText[lang].preguntas.crearPregunta.fix,\r\n        bText[lang].preguntas.crearPregunta.contramedidas_temporales,\r\n        bText[lang].preguntas.crearPregunta.parar_produccion,\r\n    ]) : ([\r\n        \"###\", \"###\", \"###\",\r\n    ]);\r\n\r\n    // console.log(\"Esto son la respuestas:\", justificaciones)\r\n    // const pregunta = {}\r\n    // const preguntaRespuestas = [] //Array de diccionarios\r\n    // console.log(\"count:\", open)\r\n    // { console.log(\"login pregunta --> DePre\", pregunta) }\r\n    if (pregunta.createdAt) {\r\n        return (\r\n            <div className=\"new-class\">\r\n                <div className=\"tarjeta-pregunta\">\r\n                    <div className=\"arroz-chino only2row\">\r\n                        <div className=\"new-class new-class-2\">\r\n                            {/* {console.log(\"This is pregunta\", pregunta)} */}\r\n                            <p className=\"card-title\"><b>{pregunta[lang]}</b></p>\r\n                            <p className=\"card-title justify-text \"><b>{bText[lang].preguntas.detallesPregunta.descripcion}: </b>{pregunta.description}</p>\r\n                            <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.categoria}: </b>{categoria[pregunta.category]}</p>\r\n                            <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.plan_reaccion}: </b>{reaction[pregunta.reaction_plan]}</p>\r\n                            {/* <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.creado_por}: </b>{pregunta.createdBy}</p>\r\n                            <p className=\"card-title\"><b>{bText[lang].preguntas.detallesPregunta.creado}: </b>{moment(pregunta.createdAt.toDate()).fromNow()}</p> */}\r\n                        </div>\r\n                        <div className=\"new-parent\">\r\n                            <div className=\"graph-align\">\r\n                                <PieChart data={count ? count : []} radius={0.5} innerText={actualText + \"%\"}/>\r\n                            </div>\r\n                            <div className=\"new-class-3\">\r\n\r\n                                    <button className=\"aceptar responder\" onClick={handleClickOpen}>{bText[lang].preguntas.detallesPregunta.ver_respuestas}</button>\r\n\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <Dialog\r\n                    open={open}\r\n                    TransitionComponent={Transition}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-slide-title\">{\"Justificaciones a esta pregunta\"}</DialogTitle>\r\n                    <DialogContent>\r\n                        {justificaciones}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={handleClose} color=\"primary\">\r\n                            Aceptar\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"container center\">\r\n                <p>Cargando...</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // const id = ownProps.match.params.id;\r\n    // const preguntas = state.firestore.data.preguntas;\r\n    // const pregunta = preguntas ? preguntas[id] : null;\r\n    return {\r\n        // pregunta: pregunta,\r\n        auth: state.firebase.auth,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        { collection: \"preguntas\" }\r\n    ])\r\n)(DetallesPregunta)","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {firestoreConnect} from 'react-redux-firebase'\r\nimport {compose} from 'redux'\r\nimport moment from 'moment'\r\nimport { Redirect } from 'react-router';\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nconst DetallesAuditoria = (props) => {\r\n    const {auditoria, auth, lang} = props\r\n    // const bText = require('../../config/language');\r\n    if (!lang) return null;\r\n    // Se tienen que generar las preguntas en base al arr[] de ID's, \r\n    // esto deber√≠a estar en auditoria.preguntas\r\n\r\n    //Esto puede servir de filtro para la b√∫squeda de preguntas\r\n    if (!auth.uid) return <Redirect to=\"/signin\" />\r\n    \r\n    if (auditoria) {\r\n        return (\r\n            <div className=\"container\">\r\n                {/* {console.log(\"listo\", text, lang)} */}\r\n                <div className=\"section\">\r\n                    <div className=\"card x-depth-0\" key={auditoria.id}>\r\n                        <div className=\"card-content grey-text text-darken-3\">\r\n                            <span className=\"card-title\">{auditoria.auditoria}</span>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.auditor}: {auditoria.auditor}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.descripcion}: {auditoria.description}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.plan_reaccion}: {auditoria.reaction_plan}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.creada_por}: {auditoria.createdBy}, {moment(auditoria.createdAt.toDate()).locale(bText[lang].locale).fromNow()}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.fecha_inicio}: {moment(auditoria.fecha_inicio.toDate()).locale(bText[lang].locale).fromNow()}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.fecha_finalizacion}: {moment(auditoria.fecha_fin.toDate()).locale(bText[lang].locale).fromNow()}</p>\r\n                            <p>{bText[lang].auditorias.detallesAuditoria.preguntas}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"container center\">\r\n            {console.log(\"cargando\", bText, lang)}\r\n                {(bText[lang]) ? <p>{bText[lang].cargando}</p> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    const id = ownProps.match.params.id;\r\n    const auditorias = state.firestore.data.auditorias;\r\n    const auditoria = auditorias ? auditorias[id] : null;\r\n    return {\r\n        auditoria: auditoria,\r\n        lang: state.firebase.profile.lang,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps),\r\n    firestoreConnect([\r\n        {collection: \"auditorias\"}\r\n    ])\r\n)(DetallesAuditoria)","import React, { Component } from \"react\";\r\nimport {\r\n  createAuditoria,\r\n  preguntasAuditoria,\r\n  getAuditoria,\r\n} from \"../../store/actions/auditoriaActions\";\r\nimport { respuestaPregunta } from \"../../store/actions/preguntaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n//import DatePicker from 'react-datepicker/dist/react-datepicker'\r\nimport { bText } from \"../../config/language\";\r\n\r\n//Esta madre no sirve, ad√°ptenlo\r\nimport QrReader from 'modern-react-qr-reader'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nclass ResponderAuditoria extends Component {\r\n\r\n  // state = {\r\n  //   password: \"<NOPASS>\",\r\n  //   pass:\"\",\r\n  //   preguntas: [],\r\n  //   auditoria: \"\",\r\n  //   area: \"\",\r\n  //   _mounted: false,\r\n  // };\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      delay: 100,\r\n      result: 'No result',\r\n      password: \"<NOPASS>\",\r\n      pass: \"\",\r\n      preguntas: [],\r\n      auditoria: \"\",\r\n      area: \"\",\r\n      _mounted: false,\r\n    }\r\n\r\n    this.handleScan = this.handleScan.bind(this)\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    // console.log(\"this is E\", e)\r\n\r\n    this.setState({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const key = Object.keys(this.state);\r\n    // console.log(key)\r\n\r\n    // Quiero crear un arr de objetos tal que as√≠:\r\n    // [{id: ###, justification:######, respuesta:##}]\r\n\r\n    //const keyCeption = key\r\n    const validKN = [\"just-\", \"resp-\"];\r\n    var keys = {};\r\n\r\n    for (let k of key) {\r\n      var header_base = k.substring(5, 25);\r\n      // console.log(header.length)\r\n      if (header_base.length === 20) {\r\n        keys[header_base] = true;\r\n      }\r\n    }\r\n\r\n    keys = Object.keys(keys);\r\n    var results = [];\r\n    for (let ks of keys) {\r\n      //ks es la ID\r\n      var dict = { pregunta: ks, auditoria: this.props.match.params.id, area: this.state.area };\r\n      dict[\"auditoria_pregunta\"] = this.props.match.params.id + \"_\" + ks;\r\n      // var id, just, resp;\r\n      for (let k of key) {\r\n        var header = k.substring(0, 5);\r\n        var cont = k.substring(5, 25);\r\n        // Esto es para poder hacer b√∫squedas, firebase es moleto para filtrar\r\n        // console.log(\"pre-if\", validKN.includes(header), header)\r\n        // console.log(\"pre-if-2\", cont === ks, cont, ks)\r\n        if (validKN.includes(header) && cont === ks) {\r\n          if (header === \"just-\") {\r\n            dict[\"justificacion\"] = this.state[k];\r\n          } else {\r\n            dict[\"respuesta\"] = this.state[k];\r\n          }\r\n\r\n          // console.log(\"this is dict-header\", dict[header])\r\n        }\r\n      }\r\n      results.push(dict);\r\n    }\r\n\r\n    // console.log(results)\r\n\r\n    // if (validKN.includes(header)) {\r\n\r\n    // }\r\n    // console.log(\"Props:\", this.props)\r\n    this.props.respuestaPregunta(results);\r\n    this.props.history.push(\"/\"); //Esto se cambiar√° seg√∫n el contexto\r\n  };\r\n  componentDidMount() {\r\n    console.log(\"Mounted!\");\r\n    // this._ismounted = true\r\n    const id = this.props.match.params.id;\r\n    // this.setState({\r\n    //     auditoria: id,\r\n    // })\r\n\r\n    this.props.getAuditoria(id).then((res) => {\r\n      this.setState({\r\n        area: res.area,\r\n        pass: res.password,\r\n      })\r\n    })\r\n\r\n    this.props.preguntasAuditoria({ id: id }).then((res) => {\r\n      this.setState(\r\n        {\r\n          preguntas: res.filter((r) => r),\r\n          auditoria: id,\r\n          _mounted: true,\r\n        },\r\n        console.log(\"Updated!\")\r\n      );\r\n    });\r\n  }\r\n  Seguro = (e) => {\r\n    // const bText = require(\"../../config/language\");\r\n    const { lang } = this.props\r\n    // console.log(this.cantSend())\r\n    // if (this.cantSend()) return null;\r\n    // console.log(e)\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: bText[lang].swal.title,\r\n      showDenyButton: true,\r\n      showConfirmButton: true,\r\n      denyButtonText: bText[lang].swal.cancel,\r\n      confirmButtonText: bText[lang].swal.save,\r\n    }).then((result) => {\r\n      //  Read more about isConfirmed, isDenied below\r\n      if (result.isConfirmed) {\r\n        this.handleSubmit(e);\r\n        Swal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n      } else if (result.isDenied) {\r\n        Swal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n      }\r\n    });\r\n  };\r\n\r\n  handleScan(data) {\r\n    // console.log(\"HandleScan\", data)\r\n    if (data !== null) {\r\n      this.setState({\r\n        password: data,\r\n      })\r\n    }\r\n    \r\n  }\r\n  handleError(err) {\r\n    console.error(err)\r\n  }\r\n\r\n  render() {\r\n    const { auth, proceed, lang, userLevel } = this.props;\r\n    // const bText = require(\"../../config/language\");\r\n\r\n    // console.log(\"Status\", this.state)\r\n    // console.log(this.props)\r\n    if (!auth.uid) return <Redirect to=\"/signin\" />;\r\n    if (!lang) return null;\r\n    \r\n    // console.log(\"Mounted?\", this.state._mounted, \"Proceed?\", !proceed)\r\n    if (this.state._mounted && !proceed) return <Redirect to=\"/\" />;\r\n\r\n    // console.log(\"Password: \", this.state.password)\r\n    // console.log(\"Pass: \", this.state.pass)\r\n\r\n    //Se tiene que buscar preguntas por ID,\r\n    // estas ID est√°n en auditorias.preguntas en un array\r\n\r\n    // const pregID = preguntasID.preguntas\r\n    // console.log(pregID)\r\n    //const pre = this.props.preguntasAuditoria({ id: id })\r\n\r\n    //Esto ya sirve pero se buclea\r\n    // const id = this.props.match.params.id\r\n\r\n    const react_plan = {\r\n      0: bText[lang].preguntas.crearPregunta.fix,\r\n      1: bText[lang].preguntas.crearPregunta.contramedidas_temporales,\r\n      2: bText[lang].preguntas.crearPregunta.parar_produccion,\r\n    }\r\n\r\n    // const pregID = this.props.preguntasAuditoria({ id: id }).then((res) => {\r\n    //     this.setState({\r\n    //         preguntas: res\r\n    //     })\r\n    // })\r\n    // console.log(\"estas son las preguntas\", this.state.preguntas)\r\n    if (this.state.pass !== this.state.password) {\r\n      // const previewStyle = {\r\n      //   height: 150,\r\n      //   width: 250,\r\n      // }\r\n\r\n      const previewStyle = {\r\n        // height: 173,\r\n        width: \"90%\",\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          <div className=\"padre-titulo mobile\">\r\n            <div className=\"titulo destroy-on-mobile\">\r\n              <Volver />\r\n            </div>\r\n            <div className=\"titulo\">\r\n              <h2>{bText[lang].auditorias.responderAuditoria.scan_qr}</h2>\r\n            </div>\r\n            <div className=\"titulo\">\r\n\r\n            </div>\r\n          </div>\r\n          \r\n          <center>\r\n            <QrReader\r\n              delay={300}\r\n              facingMode={\"environment\"}\r\n              onError={this.handleError}\r\n              onScan={this.handleScan}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </center>\r\n          \r\n        </div>\r\n        \r\n      )\r\n    }\r\n\r\n    return (\r\n      <div className=\"\">\r\n        <div className=\"test\">\r\n          {/* {pregID && pregID.map(pregunta => { \r\n                        console.log(pregunta)\r\n                        return <p>{pregunta}</p>})} */}\r\n        </div>\r\n        <div className=\"card x-depth-0\">\r\n          <div className=\"padre-titulo mobile\">\r\n            <div className=\"titulo destroy-on-mobile\">\r\n                <Volver/>\r\n            </div>\r\n            <div className=\"titulo\">\r\n                <h2>{bText[lang].auditorias.responderAuditoria.responder_auditoria}</h2>\r\n            </div>\r\n            <div className=\"titulo\">\r\n\r\n            </div>\r\n          </div>\r\n\r\n          <form className=\"white section\" onSubmit={this.Seguro}>\r\n            \r\n            {/* Esto se puede convertir a un operador ? : para que muestre un cargando o algo as√≠ */}\r\n            {/* {console.log(\"esto es preguntaSSS\", this.state.preguntas)} */}\r\n\r\n            {/* Ponganle una animaci√≥n al height para que en el momento que cargue vaya de 0% a 100%*/}\r\n            {this.state.preguntas &&\r\n              this.state.preguntas.filter(p => p.category >= userLevel).map((pregunta, index) => {\r\n                return (\r\n                  <div className=\"form-1 extra-padding-form\" key={pregunta.id}>\r\n                    {/* card x-depth-0 para ver los limites f√°cilmente*/}\r\n                    {/* <FormControl className=\"width100\" component=\"fieldset\"> */}\r\n                      {/* {console.log(\"antes de que truene, esto es pregunta\", pregunta)} */}\r\n                      <FormLabel\r\n                        className=\"legend-pregunta grey-text text-darken-3\"\r\n                        component=\"legend\"\r\n                      >\r\n                        <h3>{index + 1}. {pregunta[lang]}</h3>\r\n                      <p className=\"justify-text\">{pregunta.description}</p>\r\n                      </FormLabel>\r\n                      <div className=\"campos extra-margin\">\r\n                        \r\n                        {/* {console.log(\"Este es un intento: \", \"radio-\" + pregunta.id)} */}\r\n                        <RadioGroup\r\n                          className=\"radio-group\"\r\n                          row\r\n                          aria-label=\"gender\"\r\n                          name={\"resp-\" + pregunta.id}\r\n                          onChange={this.handleChange}\r\n                        >\r\n                          <FormControlLabel\r\n                            className=\"radio-button grey-text text-darken-3\"\r\n                            value=\"S√≠\"\r\n                            control={<Radio />}\r\n                            label={bText[lang].auditorias.responderAuditoria.si}\r\n                          />\r\n                          <FormControlLabel\r\n                            className=\"radio-button grey-text text-darken-3\"\r\n                            value=\"No\"\r\n                            control={<Radio />}\r\n                            label={bText[lang].auditorias.responderAuditoria.no}\r\n                          />\r\n                        </RadioGroup>\r\n\r\n                        {(this.state[\"resp-\" + pregunta.id]) ? (\r\n                          ((this.state[\"resp-\" + pregunta.id]) === \"No\") ? (\r\n                            <div>\r\n                            <center>{bText[lang].preguntas.detallesPregunta.plan_reaccion}: <b>{react_plan[pregunta.reaction_plan]}</b></center>\r\n                              <TextField\r\n                                label={\r\n                                  bText[lang].auditorias.responderAuditoria\r\n                                    .justificacion\r\n                                }\r\n                                className=\"label70\"\r\n                                name={\"just-\" + pregunta.id}\r\n                                onChange={this.handleChange}\r\n                              />\r\n                            </div>\r\n                            \r\n                          ) : null\r\n                          \r\n                        ) : null}\r\n\r\n                        \r\n                      </div>\r\n                    {/* </FormControl> */}\r\n                  </div>\r\n                );\r\n              })}\r\n            <div className=\"center-box\">\r\n              <button\r\n                id=\"Enviar\"\r\n                className=\"aceptar\"\r\n              >\r\n                {bText[lang].auditorias.responderAuditoria.enviar}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n    lang: state.firebase.profile.lang,\r\n    proceed:\r\n      (state.firestore.ordered.respuestas &&\r\n        state.firestore.ordered.respuestas.filter(\r\n          (res) =>\r\n            res.answeredById === state.firebase.auth.uid &&\r\n            res.auditoria === ownProps.match.params.id\r\n        ).length) > 0\r\n        ? false\r\n        : true,\r\n    preguntas: state.firestore.ordered.preguntas,\r\n    userLevel: state.firebase.profile.userLevel,\r\n  };\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    createAuditoria: (auditoria) => dispatch(createAuditoria(auditoria)),\r\n    preguntasAuditoria: (auditoria) => dispatch(preguntasAuditoria(auditoria)),\r\n    respuestaPregunta: (pregunta) => dispatch(respuestaPregunta(pregunta)),\r\n    getAuditoria: (id) => dispatch(getAuditoria(id)),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchtoProps),\r\n  firestoreConnect([\r\n    { collection: \"respuestas\", orderBy: [\"answeredAt\", \"asc\"] },\r\n  ])\r\n)(ResponderAuditoria);\r\n","import React, { Component } from 'react'\r\nimport { preguntasAuditoriaVoting } from '../../store/actions/auditoriaActions'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { compose } from 'redux'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport DetallesPregunta from './DetallesPregunta';\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass DetallesPreguntasAuditoria extends Component {\r\n    state = {\r\n        preguntas: [], // A√±adir el pCount a esto con un map\r\n        auditoria: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        const id = this.props.match.params.id\r\n        this.setState({\r\n            auditoria: id\r\n        })\r\n\r\n        this.props.preguntasAuditoriaVoting({ id: id }).then((res) => {\r\n            this.setState({\r\n                preguntas: res\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        const { auth, lang } = this.props;\r\n        // const bText = require('../../config/language');\r\n        \r\n\r\n        // console.log(this.props)\r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\" />\r\n        if (!lang) return null;\r\n        \r\n        return (\r\n            <div className=\"\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"\">\r\n                            {bText[lang].preguntas.detallesPreguntasAuditoria.respuestas_auditoria}\r\n                        </h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"\">\r\n                    <div className=\"\">\r\n                        {this.state.preguntas && this.state.preguntas.map(pregunta => {\r\n                            return (\r\n                                <div className=\"\" key={pregunta.id}>\r\n                                    {/* {console.log(\"login pregunta\", pregunta)} */}\r\n                                    <DetallesPregunta pregunta={pregunta} lang={lang}/>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    // console.log(state)\r\n    return {\r\n        auth: state.firebase.auth,\r\n        lang: state.firebase.profile.lang,\r\n        // preguntas: state.firestore.ordered.preguntas,\r\n    }\r\n}\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        // createAuditoria: (auditoria) => dispatch(createAuditoria(auditoria)),\r\n        preguntasAuditoriaVoting: (auditoria) => dispatch(preguntasAuditoriaVoting(auditoria)),\r\n        // respuestaPregunta: (pregunta) => dispatch(respuestaPregunta(pregunta))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchtoProps),\r\n    // firestoreConnect([{ collection: \"preguntas\", orderBy: [\"createdAt\", \"asc\"] }])\r\n)(DetallesPreguntasAuditoria)","import React, { Component } from \"react\";\r\nimport { editPregunta, getPregunta } from \"../../store/actions/preguntaActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nclass EditarPregunta extends Component {\r\n  state = {\r\n    category: 4,\r\n    description: \"\",\r\n    reaction_plan: \"\",\r\n    english: \"\",\r\n    spanish: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n  handleChangeSelect = (e) => {\r\n    // console.log(e)\r\n    this.setState({\r\n      category: e.target.value,\r\n    });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log(\"se supone que se envi√≥\", this.state)\r\n    this.props.editPregunta(this.props.match.params.id, this.state);\r\n    this.props.history.push(\"/preguntas\"); //Esto se cambiar√° seg√∫n el contexto\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    const id = this.props.match.params.id;\r\n    this.props.getPregunta(id).then((res) => {\r\n      // console.log(\"RES is working\", res)\r\n      this.setState({\r\n        category: res.category,\r\n        description: res.description,\r\n        reaction_plan: res.reaction_plan,\r\n        english: res.english,\r\n        spanish: res.spanish,\r\n      });\r\n      // console.log(\"This is Res\", res)\r\n    });\r\n    // console.log(\"Falta que el texto de los inputs se cambie a lo del state\", this.state)\r\n    //Checa el state en la consola, no sale nada\r\n  }\r\n  Seguro = (e) => {\r\n    // console.log(e)\r\n    e.preventDefault();\r\n    Swal.fire({\r\n      title: \"Do you want to save the changes?\",\r\n      showDenyButton: true,\r\n      showCancelButton: false,\r\n      confirmButtonText: \"Save\",\r\n      denyButtonText: \"Don't save\",\r\n    }).then((result) => {\r\n      //  Read more about isConfirmed, isDenied below\r\n      if (result.isConfirmed) {\r\n        this.handleSubmit(e);\r\n        Swal.fire(\"Saved!\", \"\", \"success\");\r\n      } else if (result.isDenied) {\r\n        Swal.fire(\"Changes are not saved\", \"\", \"info\");\r\n      }\r\n    });\r\n  };\r\n\r\n  \r\n\thandleChangeSelectRP = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\treaction_plan: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\r\n  render() {\r\n    // console.log(this.state)\r\n    const { auth, lang } = this.props;\r\n    // const bText = require(\"../../config/language\");\r\n\r\n    if (!auth.uid) return <Redirect to=\"/signin\" />;\r\n    if (!lang) return null;\r\n\r\n    \r\n\r\n    return (\r\n      <div>\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where=\"/preguntas\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"titulo\">\r\n\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.editar_pregunta}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-1\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<form className=\"\" onSubmit={this.Seguro}>\r\n\t\t\t\t\t\t\t<div className=\"form-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n                    type=\"text\"\r\n                    id=\"english\"\r\n                    value={this.state.english}\r\n                    placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [EN]\"}\r\n                    onChange={this.handleChange}\r\n                  />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n                    type=\"text\"\r\n                    id=\"spanish\"\r\n                    value={this.state.spanish}\r\n                    placeholder={bText[lang].preguntas.crearPregunta.crear_pregunta + \" [ES]\"}\r\n                    onChange={this.handleChange}\r\n                  />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"input-field\">\r\n\t\t\t\t\t\t\t\t\t<input\r\n                    type=\"text\"\r\n                    id=\"description\"\r\n                    value={this.state.description}\r\n                    placeholder={bText[lang].preguntas.crearPregunta.descripcion}\r\n                    onChange={this.handleChange}\r\n                  />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"reaction_plan\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.reaction_plan}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectRP}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.plan_reaccion}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={0}>{bText[lang].preguntas.crearPregunta.fix}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>{bText[lang].preguntas.crearPregunta.contramedidas_temporales}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>{bText[lang].preguntas.crearPregunta.parar_produccion}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"footer-single-flex\">\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"select-level\">\r\n\t\t\t\t\t\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.categoria}\r\n\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"select-level\"\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"level\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelect}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{width: `${100}px`}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>A</MenuItem>\r\n                      <MenuItem value={3}>B</MenuItem>\r\n                      <MenuItem value={2}>C</MenuItem>\r\n                      <MenuItem value={1}>D</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer-single\">\r\n\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t{bText[lang].preguntas.crearPregunta.editar}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.firebase.auth,\r\n    lang: state.firebase.profile.lang,\r\n  };\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    editPregunta: (id, pregunta) => dispatch(editPregunta(id, pregunta)),\r\n    getPregunta: (id) => dispatch(getPregunta(id)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchtoProps)(EditarPregunta);\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { connect } from 'react-redux'\r\nimport firebase from 'firebase'\r\nimport Volver from '../util/Volver'\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\nrequire('firebase/auth')\r\n\r\nclass ChangePassword extends Component {\r\n\r\n    reauthenticate = (currentPassword) => {\r\n        var user = firebase.auth().currentUser;\r\n        var cred = firebase.auth.EmailAuthProvider.credential(\r\n            user.email, currentPassword);\r\n        return user.reauthenticateWithCredential(cred);\r\n    }\r\n    changePassword = (currentPassword, newPassword) => {\r\n        // Y no olvides el CSV\r\n        // https://www.npmjs.com/package/react-csv-reader\r\n        // https://www.npmjs.com/package/react-csv\r\n        // const bText = require(\"../../config/language\");\r\n        const { lang } = this.props\r\n\r\n        this.reauthenticate(currentPassword)\r\n            .then(() => {\r\n                var user = firebase.auth().currentUser;\r\n                user.updatePassword(newPassword).then(() => {\r\n                    console.log(\"Password updated!\");\r\n                    this.props.history.push('/')\r\n                    Swal.fire(bText[lang].swal.saved)\r\n                }).catch((error) => {\r\n                    console.log(error);\r\n                });\r\n            }).catch((error) => {\r\n                this.setState({\r\n                    authError: error\r\n                })\r\n            });\r\n    }\r\n    changeEmail = (currentPassword, newEmail) => {\r\n        this.reauthenticate(currentPassword).then(() => {\r\n            var user = firebase.auth().currentUser;\r\n            user.updateEmail(newEmail).then(() => {\r\n                console.log(\"Email updated!\");\r\n            }).catch((error) => { console.log(error); });\r\n        }).catch((error) => {\r\n            this.setState({\r\n                authError: error\r\n            })\r\n        });\r\n    }\r\n    handleChange = (e) => {\r\n        // console.log(e)\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.newPassword === this.state.newPasswordConfirm) {\r\n            // console.log(\"todo bien, bracias bro\", this.state)\r\n            this.changePassword(this.state.currentPassword, this.state.newPassword)\r\n        }\r\n        else {\r\n            // console.log(\"constrase√±as no coinciden\")\r\n            this.setState({\r\n                authError: {\r\n                    code: \"password missmatch\",\r\n                    message: \"Las contrase√±as no coinciden, c√°mbielas y pruebe otra vez\"\r\n                }\r\n            })\r\n            // console.log(\"se tir√≥ un error\", this.state.authError)\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setState({\r\n            currentPassword: \"\",\r\n            newPassword: \"\",\r\n            newPasswordConfirm: \"\",\r\n            authError: null\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { auth, lang } = this.props\r\n        // const bText = require('../../config/language');\r\n        if (!auth.uid) return <Redirect to=\"/signin\" />\r\n\r\n        if (!lang) return null;\r\n\r\n        // console.log(\"Rednder State\", this.state)\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where=\"/profile\"/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"titulo\">{bText[lang].auth.changePassword.cambiar_contrasena}</h2>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"form-1\">\r\n                    <div className=\"\">\r\n                        <form className=\"\" onSubmit={this.handleSubmit}>\r\n\r\n                            <div className=\"form-2\">\r\n                                <div className=\"input-field\">\r\n                                    <input \r\n                                        type=\"password\" \r\n                                        id='currentPassword' \r\n                                        name='currentPassword'\r\n                                        placeholder={bText[lang].auth.changePassword.contrasena_actual}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id='newPassword'\r\n                                        name='newPassword'\r\n                                        placeholder={bText[lang].auth.changePassword.contrasena_nueva}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id='newPasswordConfirm'\r\n                                        name='newPasswordConfirm'\r\n                                        placeholder={bText[lang].auth.changePassword.repite_contrasena}\r\n                                        onChange={this.handleChange} \r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n                <div className=\"footer\">\r\n                    <div className=\"center-box\">\r\n                        <button className=\"cancelar\" onClick={() => {\r\n                            this.props.history.push(\"/profile\")\r\n                        }}>\r\n                            {bText[lang].auth.changePassword.cancelar}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"center-box\">\r\n                        <button className=\"aceptar\" onClick={this.handleSubmit}>\r\n                            {bText[lang].auth.changePassword.aceptar}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"footer-single\">\r\n                    {this.state.authError ? <p>{this.state.authError.message}</p> : null}\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.firebase.auth,\r\n        lang: state.firebase.profile.lang,\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(ChangePassword)","import React, { Component } from 'react'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { editIdioma } from '../../store/actions/idiomaActions'\r\n\r\nclass CambiarIdioma extends Component {\r\n    // const {lang} = props\r\n    state = {\r\n        lang: this.props.lang\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            lang: event.target.value\r\n        }, \r\n        this.props.editIdioma(this.props.auth.uid, event.target.value));\r\n    };\r\n\r\n    render() {\r\n        // console.log(this.props)\r\n        return (\r\n            <Select\r\n                labelId=\"select-filter\"\r\n                id=\"filter\"\r\n                value={this.state.lang}\r\n                onChange={this.handleChange}\r\n                style={{marginLeft: `${10}px`}}\r\n            >\r\n                <MenuItem value={\"english\"}>English</MenuItem>\r\n                <MenuItem value={\"spanish\"}>Espa√±ol</MenuItem>\r\n            </Select>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        lang: state.firebase.profile.lang,\r\n        auth: state.firebase.auth\r\n    }\r\n}\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        editIdioma: (uid, idioma) => dispatch(editIdioma(uid, idioma)),\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchtoProps)(CambiarIdioma))","export const editIdioma = (uid, idioma) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firebase = getFirebase();\r\n\r\n        const changeLang = firebase.functions().httpsCallable('changeLang');\r\n\r\n        changeLang({uid, idioma}).then((res) => {\r\n            console.log(\"Idioma cambiado:\", idioma)\r\n        });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Redirect } from 'react-router'\r\n\r\nimport { directions } from \"../../config/config\"\r\nimport { bText } from \"../../config/language\";\r\n\r\nimport CambiarIdioma from './CambiarIdioma'\r\nimport Volver from '../util/Volver'\r\n\r\n\r\nclass Profile extends Component {\r\n    render() {\r\n        const {userLevel, lang, auth} = this.props\r\n        // const bText = require(\"../../config/language\");\r\n        const { path } = directions\r\n        // console.log(\"This is profile:\", profile)\r\n        if (!auth.uid) return <Redirect to=\"/signin\"/>\r\n\r\n        if (!lang) return null;\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"box\">\r\n                    <div className=\"padre-titulo mobile\">\r\n                        <div className=\"titulo destroy-on-mobile\">\r\n                            <Volver/>\r\n                        </div>\r\n                        <div className=\"titulo\">\r\n                            <h2>{bText[lang].opciones.opciones}</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"\">\r\n                        <div className=\"\">\r\n                            \r\n                            {(userLevel === 0) ? (\r\n                                <div className=\"extra-margin\">\r\n                                        <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                            to=\"/procesos\">{bText[lang].opciones.procesos}\r\n                                        </Link>\r\n\r\n                                        <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                            to={path.preguntas}>{bText[lang].opciones.preguntas}\r\n                                        </Link>\r\n                                        \r\n                                        <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                            to={path.sign_up}>{bText[lang].opciones.registrar_auditor}\r\n                                        </Link>\r\n\r\n                                        {/* <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\" \r\n                                            to=\"/crear-area\">{bText[lang].area_proceso.crear_area}\r\n                                        </Link> */}\r\n\r\n                                        \r\n\r\n                                        {/* <Link\r\n                                            className=\"form-1 overwrite-margin center-box default-height\"\r\n                                        to=\"/areas\">{bText[lang].opciones.areas}\r\n                                        </Link> */}\r\n                                </div>\r\n                                \r\n                            ) : null}\r\n\r\n                            <Link\r\n                                className=\"form-1 overwrite-margin center-box default-height\"\r\n                                to={path.change_password}>{bText[lang].opciones.cambiar_contrasena}\r\n                            </Link>\r\n\r\n                            <div className=\"form-1 overwrite-margin center-box default-height\">\r\n                                {bText[lang].opciones.idioma + \":\"} <CambiarIdioma />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    //console.log(state)\r\n    return {\r\n        // profile: state.firebase.profile,\r\n        lang: state.firebase.profile.lang,\r\n        userLevel: state.firebase.profile.userLevel,\r\n        auth: state.firebase.auth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Profile)","import React, { Component } from 'react'\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nimport { createArea, editArea, getArea } from \"../../store/actions/areaActions\";\r\n\r\nimport {bText} from \"../../config/language\";\r\n// import { directions } from \"../../config/config\"\r\n\r\nclass Area extends Component {\r\n\r\n    state = {\r\n\t\tproceso: \"\",\r\n\t\turgencia: \"\",\r\n\t\tarea: \"\",\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tvar whereToGo = (this.props.match.params.proceso) ? \"/areas/\" + this.props.match.params.proceso : \"/profile\";\r\n\r\n\t\tconst id = this.props.match.params.id\r\n\r\n\t\twhereToGo = (id) ? \"/areas/\" + this.state.proceso : whereToGo;\r\n\r\n\t\tthis.props.history.push(whereToGo);\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tvar whereToGo = (this.props.match.params.proceso) ? \"/areas/\" + this.props.match.params.proceso : \"/profile\";\r\n\t\t\t\t\r\n\t\tconst id = this.props.match.params.id\r\n\r\n\t\twhereToGo = (id) ? \"/areas/\" + this.state.proceso : whereToGo;\r\n\r\n\t\tif (!id) {\r\n\t\t\tthis.props.createArea(this.state)\r\n\t\t} else {\r\n\t\t\tthis.props.editArea(id, this.state)\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.history.push(whereToGo); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectProceso = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tproceso: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectUrgencia = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\turgencia: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tSeguro = (e) => {\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Do you want to save the changes?\",\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowCancelButton: false,\r\n\t\t\tconfirmButtonText: \"Save\",\r\n\t\t\tdenyButtonText: \"Don't save\",\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(\"Saved!\", \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(\"Changes are not saved\", \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.match.params.proceso) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tproceso: this.props.match.params.proceso,\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tconst id = this.props.match.params.id\r\n\r\n\t\t\tif (!id) return null;\r\n\r\n\t\t\tthis.props.getArea(id).then((res) => {\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\tthis.setState({...res})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n    render() {\r\n\t\t// var { path, pathName } = require(\"../../config/config\");\r\n\t\t// const bText = require();\r\n\t\tconst { auth, userLevel, lang, procesos } = this.props;\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\t\tif (userLevel !== 0) return <Redirect to=\"/\" />;\r\n\r\n\t\t// const tipo = this.props.match.params.tipo\r\n\r\n\t\t// console.log(this.props.match)\r\n\r\n\t\tconst whereToGo = (this.props.match.params.proceso) ? \"/areas/\" + this.props.match.params.proceso : \"/profile\";\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where={whereToGo}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"\">\r\n\t\t\t\t\t\t\t{/* {text[lang].auditorias.crearAuditoria.crear_auditoria} */}\r\n\t\t\t\t\t\t\t{bText[lang].area_proceso.crear} {bText[lang].area_proceso.area}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n                <div className=\"form-1\">\r\n                    <div className=\"\">\r\n                        <form className=\"\" onSubmit={this.Seguro}>\r\n                            \r\n                            <div className=\"form-2\">\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"area\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.area}\r\n                                        placeholder={bText[lang].area_proceso.Area}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t{/* <span className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"urgencia\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.urgencia}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectUrgencia}\r\n\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.urgencia}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={0}>{bText[lang].area_proceso.regular}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>{bText[lang].area_proceso.media}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>{bText[lang].area_proceso.prioridad}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>{bText[lang].area_proceso.alta_prioridad}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"limit-width\">\r\n\t\t\t\t\t\t\t\t\t{/* <span className=\"center-box\">\r\n\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t</span> */}\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tlabelId=\"select-filter\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"filter\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.proceso}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChangeSelectProceso}\r\n\t\t\t\t\t\t\t\t\t\t// style={{width: `${100}%`}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"this-is-also-input\"\r\n\t\t\t\t\t\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\t\t\t\t\t\tdisableUnderline\r\n\t\t\t\t\t\t\t\t\t\t// placeholder={<p>bText[lang].area_proceso.proceso_corresponde</p>}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"placeholder-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{bText[lang].area_proceso.proceso_corresponde}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t{procesos && procesos.map(p => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <MenuItem className=\"text-color\" key={p.id} value={p.id}>{p.proceso}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t{/* <MenuItem value={\"english\"}>English</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"spanish\"}>Espa√±ol</MenuItem> */}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"cancelar\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t\t\t{bText[lang].area_proceso.crear_area}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\t// createProceso: (proceso) => dispatch(createProceso(proceso)),\r\n\t\tcreateArea: (area) => dispatch(createArea(area)),\r\n\t\teditArea: (id, area) => dispatch(editArea(id, area)),\r\n\t\tgetArea: (id) => dispatch(getArea(id)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"procesos\" }, { collection: \"areas\" }])\r\n)(Area);\r\n\r\n// export default connect(mapStateToProps, mapDispatchtoProps)(AreaProceso)","export const createArea = (area) => {\r\n    return (dispatch, getState, { getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        firestore.collection('areas').add({\r\n            ...area,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({ type: 'CREATE_AREA_SUCCESS' });\r\n        }).catch(err => {\r\n            dispatch({ type: 'CREATE_AREA_ERROR' }, err);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const editArea = (id, area) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        // console.log(\"Llegamos tan lejos?\")\r\n\r\n        firestore.collection(\"areas\").doc(id).update({\r\n            ...area,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_AREA\" }, area)\r\n        }).catch((err) => {\r\n            console.log(\"Fall√≥\")\r\n            dispatch({ type: \"EDIT_AREA_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const deleteArea = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        firestore.collection(\"areas\").doc(id).delete()\r\n    }\r\n}\r\n\r\nexport const getArea = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"areas\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport Volver from '../util/Volver'\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport { createProceso, getProceso, editProceso } from \"../../store/actions/procesoActions\";\r\nimport { bText } from \"../../config/language\";\r\n// import { createArea } from \"../../store/actions/areaActions\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass Proceso extends Component {\r\n\r\n    state = {\r\n\t\tproceso: \"\",\r\n\t\tpreguntas: [],\r\n\t\topenB: false,\r\n\t\tvalueB: \"\",\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.props.history.push(\"/profile\");\r\n\t};\r\n\r\n\thandleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst id = this.props.match.params.id\r\n\r\n\t\tconst proceso = {\r\n\t\t\tproceso: this.state.proceso,\r\n\t\t\tpreguntas: this.state.preguntas.map((pre) => {\r\n\t\t\t\treturn pre.id;\r\n\t\t\t}),\r\n\t\t\tminCategory: Math.max(\r\n\t\t\t\t...this.state.preguntas.map((pre) => {\r\n\t\t\t\t\treturn pre.category;\r\n\t\t\t\t})\r\n\t\t\t),\r\n\t\t}\r\n\t\t\r\n\t\tif (!id) {\r\n\t\t\tthis.props.createProceso(proceso)\r\n\t\t} else {\r\n\t\t\t// console.log(\"Si llegamos a esto\", id, proceso)\r\n\t\t\tthis.props.editProceso(id, proceso)\r\n\t\t}\r\n\t\t// console.log(\"Pasa por es submit\", this.state)\r\n\r\n\t\t\r\n\t\t\r\n\r\n\t\tthis.props.history.push(\"/procesos\"); //Esto se cambiar√° seg√∫n el contexto\r\n\t};\r\n\r\n\thandleChange = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectProceso = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\tproceso: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeAutocomplete = (e, newValue) => {\r\n\t\t// console.log(\"This is E and nV\", e, newValue)\r\n\t\t//Tengo que conseguir el ID\r\n\t\tthis.setState({\r\n\t\t\tvalueB: newValue,\r\n\t\t});\r\n\t};\r\n\r\n\thandleChangeSelectUrgencia = (e) => {\r\n\t\t// console.log(\"This is E\", e)\r\n\t\tthis.setState({\r\n\t\t\turgencia: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleClickOpen = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.props.history.push(\"/procesos\");\r\n\t};\r\n\thandleDelete = (id) => {\r\n\t\tconst newPreguntas = this.state.preguntas.filter(\r\n\t\t\t(pregunta) => pregunta.id !== id\r\n\t\t);\r\n\t\tthis.setState({\r\n\t\t\tpreguntas: newPreguntas,\r\n\t\t});\r\n\t};\r\n\thandleClose = () => {\r\n\t\tthis.setState({\r\n\t\t\topenB: false,\r\n\t\t});\r\n\t};\r\n\r\n\tcantSend = () => {\r\n\t\treturn !(this.state.preguntas && (this.state.preguntas.length >= 5) && (this.state.preguntas.length <= 15));\r\n\t}\r\n\r\n\thandleCloseSave = (e) => {\r\n\t\t// console.log(\"Y aqu√≠ debo de sacar una forma de registrar una pregunta nueva\", e)\r\n\t\tthis.setState((prevState) => ({\r\n\t\t\topenB: false,\r\n\t\t\tpreguntas: [...new Set([...prevState.preguntas, this.state.valueB])],\r\n\t\t}));\r\n\t};\r\n\r\n\tSeguro = (e) => {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { lang } = this.props\r\n\t\t// console.log(this.cantSend())\r\n\t\t// if (this.cantSend()) return null;\r\n\t\tif (this.cantSend()) return null;\r\n\t\t// console.log(e)\r\n\t\te.preventDefault();\r\n\t\tSwal.fire({\r\n\t\t\ttitle: bText[lang].swal.title,\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowConfirmButton: true,\r\n\t\t\tdenyButtonText: bText[lang].swal.cancel,\r\n\t\t\tconfirmButtonText: bText[lang].swal.save,\r\n\t\t}).then((result) => {\r\n\t\t\t//  Read more about isConfirmed, isDenied below\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\tthis.handleSubmit(e);\r\n\t\t\t\tSwal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n\t\t\t} else if (result.isDenied) {\r\n\t\t\t\tSwal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst id = this.props.match.params.id\r\n\t\t\r\n\t\tif (!id) return null;\r\n\r\n\t\tthis.props.getProceso(id).then((res) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tpreguntas: res.preguntas.map(id => {\r\n\t\t\t\t\treturn this.props.preguntas.find(pre => pre.id === id)\r\n\t\t\t\t}),\r\n\t\t\t\tproceso: res.proceso,\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n    render() {\r\n\t\t// const bText = require(\"../../config/language\");\r\n\t\tconst { auth, userLevel, lang } = this.props;\r\n\r\n\t\tconst layerName = [\"Admin\", \"D\", \"C\", \"B\", \"A\"]\r\n\r\n\t\tif (!auth.uid) return <Redirect to=\"/signin\" />;\r\n\r\n\t\tif (!lang) return null;\r\n\r\n\t\tif (userLevel !== 0) return <Redirect to=\"/\" />;\r\n\r\n\t\t// console.log(this.props)\r\n\t\t// console.log(this.state)\r\n\t\treturn (\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"padre-titulo mobile\">\r\n\t\t\t\t\t<div className=\"titulo destroy-on-mobile\">\r\n\t\t\t\t\t\t<Volver where=\"/procesos\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"titulo\">\r\n\t\t\t\t\t\t<h2 className=\"\">\r\n\t\t\t\t\t\t\t{/* {text[lang].auditorias.crearAuditoria.crear_auditoria} */}\r\n\t\t\t\t\t\t\t{!this.props.match.params.id ? bText[lang].area_proceso.crear : bText[lang].area_proceso.editar} {bText[lang].area_proceso.proceso}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n                <div className=\"form-1\">\r\n                    <div className=\"\">\r\n                        <form className=\"\" onSubmit={this.Seguro}>\r\n                            \r\n                            <div className=\"form-2\">\r\n                                <div className=\"input-field\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"proceso\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.proceso}\r\n                                        placeholder={bText[lang].area_proceso.Proceso}\r\n                                        onChange={this.handleChange}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<div className=\"margin-bottom\">\r\n\t\t\t\t\t\t\t{this.state.preguntas &&\r\n\t\t\t\t\t\t\t\tthis.state.preguntas.map((pregunta, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"form-1 overwrite-margin\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta-index\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{index + 1}.\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta-main\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{pregunta[lang]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"nueva-pregunta-layer\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{layerName[pregunta.category]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nueva-pregunta-delete hover-cursor\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handleDelete(pregunta.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\t\topen={this.state.openB}\r\n\t\t\t\t\t\t\tonClose={this.handleClose}\r\n\t\t\t\t\t\t\taria-labelledby=\"form-dialog-title\"\r\n\t\t\t\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.seleccionar_pregunta}\r\n\t\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.text1}\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto=\"/crear-pregunta\"\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"red-text\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.text2}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.text3}\r\n\t\t\t\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\tid=\"valueB\"\r\n\t\t\t\t\t\t\t\t\tname=\"valueB\"\r\n\t\t\t\t\t\t\t\t\toptions={this.props.preguntas}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChangeAutocomplete}\r\n\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option[lang]}\r\n\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Preguntas\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.handleCloseSave} color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.agregar}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.handleClose} color=\"secondary\">\r\n\t\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div className=\"footer-single\">\r\n\t\t\t\t\t<button className=\"add-question\" onClick={this.handleClickOpen}>{bText[lang].area_proceso.agregar_pregunta}</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"footer\">\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"cancelar\" onClick={this.handleCancel}>\r\n\t\t\t\t\t\t\t\t{bText[lang].auditorias.crearAuditoria.cancelar}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"center-box\">\r\n\t\t\t\t\t\t\t<button className=\"aceptar\" onClick={this.Seguro}>\r\n\t\t\t\t\t\t\t\t{bText[lang].area_proceso.crear_proceso}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t\tpreguntas: state.firestore.ordered.preguntas,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n\treturn {\r\n\t\tcreateProceso: (proceso) => dispatch(createProceso(proceso)),\r\n\t\tgetProceso: (id) => dispatch(getProceso(id)),\r\n\t\teditProceso: (id, proceso) => dispatch(editProceso(id, proceso)),\r\n\t\t// createArea: (area) => dispatch(createArea(area)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"procesos\" }, { collection: \"preguntas\" }])\r\n)(Proceso);\r\n\r\n// export default connect(mapStateToProps, mapDispatchtoProps)(AreaProceso)","\r\nexport const createProceso = (proceso) => {\r\n    return (dispatch, getState, { getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n        \r\n        // console.log(\"Pasa por actionProceso\", proceso)\r\n\r\n        firestore.collection('procesos').add({\r\n            ...proceso,\r\n            authorFirstName: profile.firstName,\r\n            authorLastName: profile.lastName,\r\n            authorId: authorId,\r\n            createdAt: new Date()\r\n        }).then(() => {\r\n            dispatch({ type: 'CREATE_PROCESO_SUCCESS' });\r\n        }).catch(err => {\r\n            dispatch({ type: 'CREATE_PROCESO_ERROR' }, err);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const editProceso = (id, proceso) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        const profile = getState().firebase.profile;\r\n        const authorId = getState().firebase.auth.uid;\r\n\r\n        // console.log(\"Llegamos tan lejos?\")\r\n\r\n        firestore.collection(\"procesos\").doc(id).update({\r\n            ...proceso,\r\n            updatedAt: new Date(),\r\n            updatedBy: profile.firstName + \" \" + profile.lastName,\r\n            editorId: authorId\r\n        }).then(() => {\r\n            dispatch({ type: \"EDIT_PROCESO\" }, proceso)\r\n        }).catch((err) => {\r\n            console.log(\"Fall√≥\")\r\n            dispatch({ type: \"EDIT_PROCESO_ERROR\" }, err)\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const deleteProceso = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n        firestore.collection(\"procesos\").doc(id).delete()\r\n    }\r\n}\r\n\r\nexport const getProceso = (id) => {\r\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\r\n        const firestore = getFirestore();\r\n\r\n        var docRef = firestore.collection(\"procesos\").doc(id);\r\n\r\n        return docRef.get()\r\n            .then((doc) => {\r\n                // console.log(\"did I get passes .then\")\r\n                if (doc.exists) {\r\n                    //console.log(\"this: \", doc.data())\r\n                    return doc.data()\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\n\r\nimport TarjetaAgregarAuditoria from '../auditorias/TarjetaAgregarAuditoria'\r\nimport Volver from '../util/Volver'\r\n\r\nimport { faTrashAlt, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { deleteProceso } from \"../../store/actions/procesoActions\";\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\n\r\nclass DashboardProcesos extends Component {\r\n\r\n    render() {\r\n\r\n        const {procesos, userLevel, lang, auth} = this.props\r\n\r\n        // const bText = require(\"../../config/language\");\r\n\r\n        if (!auth.uid) return <Redirect to=\"signin\"/>\r\n\r\n        if (userLevel !== 0) return <Redirect to=\"/\"/>\r\n\r\n        if (!lang) return null;\r\n\r\n        return (\r\n            <div className=\"padre-padre-titulo\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where=\"/profile\"/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2>{bText[lang].area_proceso.procesos}</h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"arroz-chino\">\r\n                    <TarjetaAgregarAuditoria where=\"/crear-proceso\"/>\r\n                    {procesos && procesos.map(pro => {\r\n                        return (\r\n                            <div\r\n                                className=\"tarjeta-auditor√≠a\"\r\n                                key={pro.id}\r\n                            >\r\n                                <Link to={\"/areas/\" + pro.id}  className=\"tarjeta-proceso-half1\">\r\n                                    {pro.proceso.toUpperCase()}\r\n                                </Link>\r\n                                <div className=\"tarjeta-auditor√≠a-half2\">\r\n                                    <Link to={\"/crear-proceso/\" + pro.id} className=\"button\">\r\n                                        <FontAwesomeIcon icon={faEdit} />\r\n                                    </Link>\r\n                                    <div className=\"button hover-cursor\" onClick={() => {\r\n                                        Swal.fire({\r\n                                            title: bText[lang].swal.title,\r\n                                            showDenyButton: true,\r\n                                            showConfirmButton: true,\r\n                                            denyButtonText: bText[lang].swal.cancel,\r\n                                            confirmButtonText: bText[lang].swal.save,\r\n                                        }).then((result) => {\r\n                                            //  Read more about isConfirmed, isDenied below\r\n                                            if (result.isConfirmed) {\r\n                                                this.props.deleteProceso(pro.id);\r\n                                                Swal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n                                            } else if (result.isDenied) {\r\n                                                Swal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n                                            }\r\n                                        });\r\n                                        //props.deletePregunta(pregunta.id)\r\n                                    }}>\r\n                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n    )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\tprocesos: state.firestore.ordered.procesos,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        deleteProceso: (id) => dispatch(deleteProceso(id)),\r\n    };\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n\tfirestoreConnect([{ collection: \"procesos\" }])\r\n)(DashboardProcesos);","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firestoreConnect } from \"react-redux-firebase\";\r\nimport { compose } from \"redux\";\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport TarjetaAgregarAuditoria from '../auditorias/TarjetaAgregarAuditoria'\r\nimport Volver from '../util/Volver'\r\nimport PieChart from '../util/gr√°ficas/PieChart';\r\n\r\nimport { faTrashAlt, faEdit, faChartBar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport { deleteArea } from \"../../store/actions/areaActions\";\r\n\r\nimport { bText } from \"../../config/language\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nclass DashboardAreas extends Component {\r\n\r\n    state = {\r\n        open: false,\r\n        count: [\r\n            { id: \"no\", label: \"no\", value: 35 },\r\n            { id: \"yes\", label: \"yes\", value: 123 }\r\n        ],\r\n    }\r\n\r\n    handleClickOpen = (area) => {\r\n        this.setState({\r\n            open: true,\r\n        }, this.preguntaChart(area))\r\n\r\n        \r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            open: false,\r\n        })\r\n    };\r\n\r\n    preguntaChart = (area) => {\r\n        var count = {\r\n            yes: 0,\r\n            no: 0,\r\n        }\r\n\r\n        console.log(\"Respuestas:\", this.props)\r\n\r\n        this.props.respuestas.filter(p => p.area === area).forEach(res => {\r\n            if (res.respuesta === \"S√≠\") {\r\n                count.yes += 1;\r\n            } else if (res.respuesta === \"No\") {\r\n                count.no += 1;\r\n            }\r\n        });\r\n\r\n        this.setState({\r\n            count: [\r\n                { id: \"no\", label: \"no\", value: count[\"no\"] },\r\n                { id: \"yes\", label: \"yes\", value: count[\"yes\"] }\r\n            ],\r\n            actualText: Math.round((count.no/(count.yes + count.no))*100),\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const {areas, userLevel, lang, auth} = this.props\r\n\r\n        if (!auth.uid) return <Redirect to=\"/signin\"/>\r\n\r\n        if (userLevel !== 0) return <Redirect to=\"/\"/>\r\n\r\n        if (!lang) return null;\r\n\r\n        // console.log(this.props.match.params.proceso)\r\n\r\n        const procesoFilt = this.props.match.params.proceso\r\n\r\n        const avalAreas = (areas) ? ((areas && procesoFilt) ? [...areas].filter(a => a.proceso === procesoFilt) : [...areas]) : [];\r\n\r\n        const whereToGo = (procesoFilt) ? \"/procesos\" : \"/profile\";\r\n\r\n        // console.log(this.props.match.url)\r\n        const createWProps = (procesoFilt) ? (\"/crear-area-props/\" + procesoFilt): (\"/crear-area\");\r\n\r\n\r\n\r\n        \r\n\r\n\r\n\r\n        return (\r\n            <div className=\"padre-padre-titulo\">\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        <Volver where={whereToGo}/>\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2>{bText[lang].area_proceso.areas}</h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"arroz-chino\">\r\n                    <TarjetaAgregarAuditoria where={createWProps}/>\r\n                    {/* <div className=\"graph-align\">\r\n                        <PieChart data={this.state.count} radius={0.5} innerText={this.state.actualText + \"%\"} />\r\n                    </div> */}\r\n                    \r\n                    {avalAreas && avalAreas.map(area => {\r\n                        return (\r\n                            <div\r\n                                className=\"tarjeta-auditor√≠a\"\r\n                                key={area.id}\r\n                            >\r\n                                <Link to={\"/auditorias/\" + (procesoFilt ? procesoFilt + \"/\" : \" /\") + area.id} className=\"tarjeta-proceso-half1\">\r\n                                    {area.area}\r\n                                </Link>\r\n                                <div className=\"tarjeta-auditor√≠a-half2\">\r\n                                    <div className=\"button hover-cursor\" onClick={() => this.handleClickOpen(area.id)}>\r\n                                        <FontAwesomeIcon icon={faChartBar} />\r\n                                    </div>\r\n                                    <Link to={\"/crear-area/\" + area.id} className=\"button\">\r\n                                        <FontAwesomeIcon icon={faEdit} />\r\n                                    </Link>\r\n                                    <div className=\"button hover-cursor\" onClick={() => {\r\n                                        Swal.fire({\r\n                                            title: bText[lang].swal.title,\r\n                                            showDenyButton: true,\r\n                                            showConfirmButton: true,\r\n                                            denyButtonText: bText[lang].swal.cancel,\r\n                                            confirmButtonText: bText[lang].swal.save,\r\n                                        }).then((result) => {\r\n                                            //  Read more about isConfirmed, isDenied below\r\n                                            if (result.isConfirmed) {\r\n                                                this.props.deleteArea(area.id);\r\n                                                Swal.fire(bText[lang].swal.saved, \"\", \"success\");\r\n                                            } else if (result.isDenied) {\r\n                                                Swal.fire(bText[lang].swal.not_saved, \"\", \"info\");\r\n                                            }\r\n                                        });\r\n                                    }}>\r\n                                        <FontAwesomeIcon icon={faTrashAlt} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                \r\n\r\n                <Dialog\r\n                    open={this.state.open}\r\n                    TransitionComponent={Transition}\r\n                    onClose={this.handleClose}\r\n                    aria-labelledby=\"alert-dialog-slide-title\"\r\n                    aria-describedby=\"alert-dialog-slide-description\"\r\n                >\r\n                    <DialogTitle id=\"alert-dialog-slide-title\" className=\"popup-title\">{bText[lang].area_proceso.grafica_global}</DialogTitle>\r\n                    <DialogContent className=\"graph-align-popup\">\r\n                        {/* Working1 */}\r\n                        <PieChart data={this.state.count} radius={0.5} innerText={this.state.actualText + \"%\"} />\r\n                        {/* Working2 */}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                            {bText[lang].aceptar}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n    )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tauth: state.firebase.auth,\r\n\t\tuserLevel: state.firebase.profile.userLevel,\r\n\t\tlang: state.firebase.profile.lang,\r\n\t\t// procesos: state.firestore.ordered.procesos,\r\n        areas: state.firestore.ordered.areas,\r\n        respuestas: state.firestore.ordered.respuestas,\r\n\t};\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n    return {\r\n        deleteArea: (id) => dispatch(deleteArea(id)),\r\n    };\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchtoProps),\r\n    firestoreConnect([{ collection: \"areas\" }, { collection: \"respuestas\" }])\r\n)(DashboardAreas);","import React, { Component } from 'react'\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class SelectorHerramientas extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"padre-titulo mobile\">\r\n                    <div className=\"titulo destroy-on-mobile\">\r\n                        {/* <Volver where={whereToGo} /> */}\r\n                    </div>\r\n                    <div className=\"titulo\">\r\n                        <h2 className=\"\">\r\n                            {/* {text[lang].auditorias.crearAuditoria.crear_auditoria} */}\r\n                            Herramientas##\r\n                        </h2>\r\n                    </div>\r\n                </div>\r\n                <div className=\"arroz-chino only2row\">\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Auditor√≠as###\r\n                    </Link>\r\n\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Auditores###\r\n                    </Link>\r\n\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Preguntas###\r\n                    </Link>\r\n\r\n                    <Link className=\"tarjeta-auditor√≠a center-box\">\r\n                        Procesos###\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            \r\n        )\r\n    }\r\n}\r\n","import Navbar from './components/layout/Navbar';\r\nimport React, { Component } from 'react';\r\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\r\nimport DashboardAuditorias from './components/auditorias/DashboardAuditorias'\r\nimport SignIn from './components/auth/SignIn'\r\nimport SignUp from './components/auth/SignUp'\r\nimport CrearAuditoria from './components/auditorias/CrearAuditoria'\r\nimport DashboardPreguntas from './components/preguntas/DashboardPreguntas'\r\nimport CrearPregunta from './components/preguntas/CrearPregunta'\r\nimport DetallesPregunta from './components/preguntas/DetallesPregunta';\r\nimport DetallesAuditoria from './components/auditorias/DetallesAuditoria';\r\nimport ResponderAuditoria from './components/auditorias/ResponderAuditoria';\r\nimport DetallesPreguntasAuditoria from './components/preguntas/DetallesPreguntasAuditoria';\r\nimport EditarPregunta from './components/preguntas/EditarPregunta';\r\nimport ChangePassword from './components/auth/ChangePassword';\r\nimport Profile from './components/util/Profile';\r\nimport Area from './components/areas&procesos/Area'\r\nimport Proceso from './components/areas&procesos/Proceso'\r\nimport DashboardProcesos from './components/areas&procesos/DashboardProcesos'\r\nimport DashboardAreas from './components/areas&procesos/DashboardAreas'\r\nimport SelectorHerramientas from './components/herramientas/SelectorHerramientas';\r\nimport {directions} from './config/config.js';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    // console.log(directions)\r\n    var { path } = directions;\r\n\r\n    return (\r\n      <BrowserRouter>\r\n        <div className=\"App\">\r\n          <Navbar />\r\n          <Switch>\r\n            <Route path=\"/herramientas\" component={SelectorHerramientas} />\r\n            <Route exact path={path.auditorias} component={DashboardAuditorias} />\r\n            <Route exact path={\"/auditorias/:proceso/:area\"} component={DashboardAuditorias} />\r\n            <Route path={path.auditoria} component={DetallesAuditoria} />\r\n            <Route path={path.profile} component={Profile} />\r\n            <Route path={path.sign_in} component={SignIn} />\r\n            <Route path={path.sign_up} component={SignUp} />\r\n            <Route path={path.responder_auditoria_redirect} component={ResponderAuditoria} />\r\n            <Route exact path={path.crear_auditoria} component={CrearAuditoria} />\r\n            <Route path={path.crear_auditoria + \"/:id\"} component={CrearAuditoria} />\r\n            <Route path={\"/crear-auditoria-props/:proceso/:area\"} component={CrearAuditoria} />\r\n            <Route path={path.preguntas} component={DashboardPreguntas} />\r\n            <Route path={path.crear_pregunta} component={CrearPregunta} />\r\n            <Route path={path.preguntas_detalles_redirect} component={DetallesPregunta} />\r\n            <Route path={path.detalles_preguntas_auditoria_redirect} component={DetallesPreguntasAuditoria} />\r\n            <Route path={path.editar_pregunta_redirect} component={EditarPregunta} />\r\n            <Route path={path.change_password} component={ChangePassword} />\r\n            <Route exact path=\"/crear-area\" component={Area} />\r\n            <Route exact path=\"/crear-area-props/:proceso\" component={Area} />\r\n            <Route path=\"/crear-area/:id\" component={Area} />\r\n            <Route exact path=\"/crear-proceso\" component={Proceso} />\r\n            <Route path=\"/crear-proceso/:id\" component={Proceso} />\r\n            <Route path=\"/procesos\" component={DashboardProcesos} />\r\n            <Route exact path=\"/areas\" component={DashboardAreas} />\r\n            <Route path=\"/areas/:proceso\" component={DashboardAreas} />\r\n            \r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initState = {\r\n    authError: null\r\n}\r\n\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'LOGIN_ERROR':\r\n            console.log('login error');\r\n            return {\r\n                ...state,\r\n                authError: 'Login failed'\r\n            }\r\n\r\n        case 'LOGIN_SUCCESS':\r\n            console.log('login success');\r\n            return {\r\n                ...state,\r\n                authError: null\r\n            }\r\n\r\n        case 'SIGNOUT_SUCCESS':\r\n            console.log('signout success');\r\n            return state;\r\n\r\n        case 'SIGNUP_SUCCESS':\r\n            console.log('signup success')\r\n            return {\r\n                ...state,\r\n                authError: null\r\n            }\r\n\r\n        case 'SIGNUP_ERROR':\r\n            console.log('signup error')\r\n            return {\r\n                ...state,\r\n                authError: action.err.message\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n};\r\n\r\nexport default authReducer;","const initState = {}\r\n\r\nconst areaReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_AREA_SUCCESS':\r\n            console.log('create area success');\r\n            return state;\r\n        case 'CREATE_AREA_ERROR':\r\n            console.log('create area error');\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default areaReducer;","const initState = {}\r\n\r\nconst procesoReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_PROCESO_SUCCESS':\r\n            console.log('create proceso success');\r\n            return state;\r\n        case 'CREATE_PROCESO_ERROR':\r\n            console.log('create proceso error');\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default procesoReducer;","const initState = {\r\n    \r\n}\r\n\r\nconst auditoriaReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case 'CREATE_AUDITORIA_SUCCESS':\r\n            console.log('create auditoria success', action.auditoria);\r\n            return state;\r\n        case 'CREATE_AUDITORIA_ERROR':\r\n            console.log('create auditoria error', action.err);\r\n            return state;\r\n        case 'SUCCESSFULLY_EXTRACTED_PREGUNTAS_FROM_AUDITORIA':\r\n            return state;\r\n        case 'SUCCESSFULLY_EXTRACTED_RESPUESTAS_PREGUNTAS_FROM_AUDITORIA':\r\n            return state;\r\n        case 'FAILED_EXTRACT_PREGUNTAS_FROM_AUDITORIA':\r\n            console.log('create pregunta error', action.err);\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default auditoriaReducer;","import authReducer from './authReducer'\r\nimport areaReducer from './areaReducer'\r\nimport procesoReducer from './procesoReducer'\r\nimport auditoriaReducer from './auditoriaReducer'\r\nimport { combineReducers } from 'redux'\r\nimport { firestoreReducer } from 'redux-firestore';\r\nimport { firebaseReducer } from 'react-redux-firebase'\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    auditoria: auditoriaReducer,\r\n    area: areaReducer,\r\n    proceso: procesoReducer,\r\n    firestore: firestoreReducer,\r\n    firebase: firebaseReducer\r\n});\r\n\r\nexport default rootReducer\r\n\r\n// the key name will be the data property on the state object","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nvar config = {\r\n    apiKey: \"AIzaSyAh_1nahadyMVGyFn5uVk3Ibg6l1W6kP7U\",\r\n    authDomain: \"gst-app-18bf6.firebaseapp.com\",\r\n    projectId: \"gst-app-18bf6\",\r\n    storageBucket: \"gst-app-18bf6.appspot.com\",\r\n    messagingSenderId: \"313627774403\",\r\n    appId: \"1:313627774403:web:b9f93efea81137b3570176\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nfirebase.firestore().settings({ timestampsInSnapshots: true });\r\n\r\nexport default firebase","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {createStore, applyMiddleware, compose} from 'redux';\r\nimport rootReducer from './store/reducers/rootReducer'\r\nimport {Provider} from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\nimport {reduxFirestore, getFirestore} from 'redux-firestore'\r\nimport {reactReduxFirebase, getFirebase} from 'react-redux-firebase'\r\nimport fbConfig from './config/fbConfig'\r\n\r\n\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk.withExtraArgument({\r\n      getFirebase, getFirestore\r\n    })),\r\n    reduxFirestore(fbConfig),\r\n    reactReduxFirebase(fbConfig, {\r\n      useFirestoreForProfile: true, \r\n      userProfile: \"users\",\r\n      attachAuthIsReady: true\r\n    })\r\n  ));\r\n\r\nstore.firebaseAuthIsReady.then(() => {\r\n  ReactDOM.render(\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n  );\r\n})\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}